<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libmesh解析: libMesh::MeshTools 命名空间参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmesh解析
   </div>
   <div id="projectbrief">本工作只是尝试解析原libmesh的代码,供学习使用</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespacemembers.html"><span>命名空间成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全部</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>类</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>命名空间</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>文件</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>函数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>变量</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>类型定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>枚举</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>枚举值</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>友元</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>页</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibMesh.html">libMesh</a></li><li class="navelem"><a class="el" href="namespacelibMesh_1_1MeshTools.html">MeshTools</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">命名空间</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">libMesh::MeshTools 命名空间参考</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="namespacelibMesh_1_1Utility.html">Utility</a> functions for operations on a <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> object.  
<a href="#details">更多...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
命名空间</h2></td></tr>
<tr class="memitem:namespacelibMesh_1_1MeshTools_1_1Generation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools_1_1Generation.html">Generation</a></td></tr>
<tr class="memdesc:namespacelibMesh_1_1MeshTools_1_1Generation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tools for <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> generation. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacelibMesh_1_1MeshTools_1_1Modification"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools_1_1Modification.html">Modification</a></td></tr>
<tr class="memdesc:namespacelibMesh_1_1MeshTools_1_1Modification"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tools for <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> modification. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacelibMesh_1_1MeshTools_1_1Private"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools_1_1Private.html">Private</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacelibMesh_1_1MeshTools_1_1Subdivision"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools_1_1Subdivision.html">Subdivision</a></td></tr>
<tr class="memdesc:namespacelibMesh_1_1MeshTools_1_1Subdivision"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespacelibMesh_1_1Utility.html">Utility</a> functions for subdivision surface operations on a <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code>. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:ad6da3e3d945f7947934705ddd6f145f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ad6da3e3d945f7947934705ddd6f145f5">total_weight</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:ad6da3e3d945f7947934705ddd6f145f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0701de7f01fd5eced3da4a332ff5ae51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">weight</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid)</td></tr>
<tr class="separator:a0701de7f01fd5eced3da4a332ff5ae51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aad7309726b936905141d30578ccd7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a5aad7309726b936905141d30578ccd7b">build_nodes_to_elem_map</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::vector&lt; std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;nodes_to_elem_map)</td></tr>
<tr class="memdesc:a5aad7309726b936905141d30578ccd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">After calling this function the input vector <code>nodes_to_elem_map</code> will contain the node to element connectivity.  <a href="#a5aad7309726b936905141d30578ccd7b">更多...</a><br/></td></tr>
<tr class="separator:a5aad7309726b936905141d30578ccd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc84a09f4495c845bf06664a8ddd38e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#adc84a09f4495c845bf06664a8ddd38e5">build_nodes_to_elem_map</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::vector&lt; std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;nodes_to_elem_map)</td></tr>
<tr class="memdesc:adc84a09f4495c845bf06664a8ddd38e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same, except element pointers are returned instead of indices.  <a href="#adc84a09f4495c845bf06664a8ddd38e5">更多...</a><br/></td></tr>
<tr class="separator:adc84a09f4495c845bf06664a8ddd38e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d41c828b6a358e3a8646df9428a5ec7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a4d41c828b6a358e3a8646df9428a5ec7">build_nodes_to_elem_map</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;nodes_to_elem_map)</td></tr>
<tr class="memdesc:a4d41c828b6a358e3a8646df9428a5ec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">After calling this function the input map <code>nodes_to_elem_map</code> will contain the node to element connectivity.  <a href="#a4d41c828b6a358e3a8646df9428a5ec7">更多...</a><br/></td></tr>
<tr class="separator:a4d41c828b6a358e3a8646df9428a5ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba48391ca47216c5df0a882597bd417"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#abba48391ca47216c5df0a882597bd417">build_nodes_to_elem_map</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;nodes_to_elem_map)</td></tr>
<tr class="memdesc:abba48391ca47216c5df0a882597bd417"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same, except element pointers are returned instead of indices.  <a href="#abba48391ca47216c5df0a882597bd417">更多...</a><br/></td></tr>
<tr class="separator:abba48391ca47216c5df0a882597bd417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc51a523820ddc6f28c86b9b9960de72"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#adc51a523820ddc6f28c86b9b9960de72">find_boundary_nodes</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:adc51a523820ddc6f28c86b9b9960de72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling this function on a 2D mesh will convert all the elements to triangles.  <a href="#adc51a523820ddc6f28c86b9b9960de72">更多...</a><br/></td></tr>
<tr class="separator:adc51a523820ddc6f28c86b9b9960de72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4148ded591e8ed8efe2e7ec918e30ff"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ac4148ded591e8ed8efe2e7ec918e30ff">find_block_boundary_nodes</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ac4148ded591e8ed8efe2e7ec918e30ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a std::set containing <a class="el" href="classlibMesh_1_1Node.html" title="A Node is like a Point, but with more information. ">Node</a> IDs for all of the block boundary nodes.  <a href="#ac4148ded591e8ed8efe2e7ec918e30ff">更多...</a><br/></td></tr>
<tr class="separator:ac4148ded591e8ed8efe2e7ec918e30ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2793e67a6d7e4c5e59692a4acfbcd425"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a2793e67a6d7e4c5e59692a4acfbcd425">create_bounding_box</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a2793e67a6d7e4c5e59692a4acfbcd425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc1d9577393d91d5df11f4034e1264b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a9cc1d9577393d91d5df11f4034e1264b">create_nodal_bounding_box</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a9cc1d9577393d91d5df11f4034e1264b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cfa4aa6733bffa5fff0c64c7608a71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a15cfa4aa6733bffa5fff0c64c7608a71">bounding_sphere</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a15cfa4aa6733bffa5fff0c64c7608a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a5988802f6ff30eb3361bf865150e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a39a5988802f6ff30eb3361bf865150e8">create_local_bounding_box</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a39a5988802f6ff30eb3361bf865150e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1a886ac7ab79ce0ca2fda13eda4594"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#acb1a886ac7ab79ce0ca2fda13eda4594">create_processor_bounding_box</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid)</td></tr>
<tr class="separator:acb1a886ac7ab79ce0ca2fda13eda4594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fbe710c156720dc294b2a46604be7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a75fbe710c156720dc294b2a46604be7a">processor_bounding_sphere</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid)</td></tr>
<tr class="separator:a75fbe710c156720dc294b2a46604be7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473c73692d2de6bc686906b180b9efce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a473c73692d2de6bc686906b180b9efce">create_subdomain_bounding_box</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> sid)</td></tr>
<tr class="separator:a473c73692d2de6bc686906b180b9efce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4ec2068592eca4d6377e5b91de01fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a8b4ec2068592eca4d6377e5b91de01fd">subdomain_bounding_sphere</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> sid)</td></tr>
<tr class="separator:a8b4ec2068592eca4d6377e5b91de01fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105332f64aa69991539faccda22f6710"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a105332f64aa69991539faccda22f6710">elem_types</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::vector&lt; <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a> &gt; &amp;et)</td></tr>
<tr class="memdesc:a105332f64aa69991539faccda22f6710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills in a vector of all element types in the mesh.  <a href="#a105332f64aa69991539faccda22f6710">更多...</a><br/></td></tr>
<tr class="separator:a105332f64aa69991539faccda22f6710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa7c59122e0f7a82f16f77f07331231"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#acfa7c59122e0f7a82f16f77f07331231">n_elem_of_type</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a> type)</td></tr>
<tr class="separator:acfa7c59122e0f7a82f16f77f07331231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e2249723548ee73b035229cfc1f52e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ad7e2249723548ee73b035229cfc1f52e">n_active_elem_of_type</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a> type)</td></tr>
<tr class="separator:ad7e2249723548ee73b035229cfc1f52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217da6ccf47dd5f231757e18a33aaae3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a217da6ccf47dd5f231757e18a33aaae3">n_non_subactive_elem_of_type_at_level</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a> type, const unsigned int level)</td></tr>
<tr class="separator:a217da6ccf47dd5f231757e18a33aaae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad92062f806ef59be2bbd73e9705775"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a4ad92062f806ef59be2bbd73e9705775">n_active_local_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a4ad92062f806ef59be2bbd73e9705775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a95efd16596e9d337f66983328ee8e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a83a95efd16596e9d337f66983328ee8e">n_active_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a83a95efd16596e9d337f66983328ee8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b5b94d1a51d606668a85e6f31af4b6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a86b5b94d1a51d606668a85e6f31af4b6">n_local_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a86b5b94d1a51d606668a85e6f31af4b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15ece869d4ef3d283edb677942e8439"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ae15ece869d4ef3d283edb677942e8439">n_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:ae15ece869d4ef3d283edb677942e8439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d4096c5ae231904d5c225d05e0b5b6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#af3d4096c5ae231904d5c225d05e0b5b6">paranoid_n_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:af3d4096c5ae231904d5c225d05e0b5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99126066dddf7030aa896e4a38eb401e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a99126066dddf7030aa896e4a38eb401e">get_not_subactive_node_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; &amp;not_subactive_node_ids)</td></tr>
<tr class="memdesc:a99126066dddf7030aa896e4a38eb401e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a set of node IDs for nodes which belong to non-subactive elements.  <a href="#a99126066dddf7030aa896e4a38eb401e">更多...</a><br/></td></tr>
<tr class="separator:a99126066dddf7030aa896e4a38eb401e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20881e0b5de5ef63808dd24d90e70b2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a> (const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__element__iterator.html">MeshBase::const_element_iterator</a> &amp;begin, const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__element__iterator.html">MeshBase::const_element_iterator</a> &amp;end)</td></tr>
<tr class="memdesc:a20881e0b5de5ef63808dd24d90e70b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count up the number of elements of a specific type (as defined by an iterator range).  <a href="#a20881e0b5de5ef63808dd24d90e70b2a">更多...</a><br/></td></tr>
<tr class="separator:a20881e0b5de5ef63808dd24d90e70b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c80534e24b606b4a4e825ab9e9887d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a2c80534e24b606b4a4e825ab9e9887d8">n_nodes</a> (const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__node__iterator.html">MeshBase::const_node_iterator</a> &amp;begin, const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__node__iterator.html">MeshBase::const_node_iterator</a> &amp;end)</td></tr>
<tr class="memdesc:a2c80534e24b606b4a4e825ab9e9887d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count up the number of nodes of a specific type (as defined by an iterator range).  <a href="#a2c80534e24b606b4a4e825ab9e9887d8">更多...</a><br/></td></tr>
<tr class="separator:a2c80534e24b606b4a4e825ab9e9887d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389d0bd8b56b85fce05a743e8f3bd454"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a389d0bd8b56b85fce05a743e8f3bd454">n_p_levels</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a389d0bd8b56b85fce05a743e8f3bd454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28af775ac6c94887b61570603eff70b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a28af775ac6c94887b61570603eff70b9">find_nodal_neighbors</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="classlibMesh_1_1Node.html">Node</a> &amp;n, const std::vector&lt; std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;nodes_to_elem_map, std::vector&lt; const <a class="el" href="classlibMesh_1_1Node.html">Node</a> * &gt; &amp;neighbors)</td></tr>
<tr class="memdesc:a28af775ac6c94887b61570603eff70b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a mesh and a node in the mesh, the vector will be filled with every node directly attached to the given one.  <a href="#a28af775ac6c94887b61570603eff70b9">更多...</a><br/></td></tr>
<tr class="separator:a28af775ac6c94887b61570603eff70b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e7a09f73a5bb187d3b422ac8727adc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a83e7a09f73a5bb187d3b422ac8727adc">find_nodal_neighbors</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="classlibMesh_1_1Node.html">Node</a> &amp;n, const std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;nodes_to_elem_map, std::vector&lt; const <a class="el" href="classlibMesh_1_1Node.html">Node</a> * &gt; &amp;neighbors)</td></tr>
<tr class="memdesc:a83e7a09f73a5bb187d3b422ac8727adc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a mesh and a node in the mesh, the vector will be filled with every node directly attached to the given one.  <a href="#a83e7a09f73a5bb187d3b422ac8727adc">更多...</a><br/></td></tr>
<tr class="separator:a83e7a09f73a5bb187d3b422ac8727adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af5f71eac53f6880054438f56e74414"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a4af5f71eac53f6880054438f56e74414">find_hanging_nodes_and_parents</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, std::map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;hanging_nodes)</td></tr>
<tr class="memdesc:a4af5f71eac53f6880054438f56e74414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a mesh hanging_nodes will be filled with an associative array keyed off the global id of all the hanging nodes in the mesh.  <a href="#a4af5f71eac53f6880054438f56e74414">更多...</a><br/></td></tr>
<tr class="separator:a4af5f71eac53f6880054438f56e74414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ece711f232fe1f0509a89fc85402023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a7ece711f232fe1f0509a89fc85402023">clear_spline_nodes</a> (<a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;)</td></tr>
<tr class="memdesc:a7ece711f232fe1f0509a89fc85402023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove spline node (for IsoGeometric Analysis meshes) elements and nodes and constraints from the mesh.  <a href="#a7ece711f232fe1f0509a89fc85402023">更多...</a><br/></td></tr>
<tr class="separator:a7ece711f232fe1f0509a89fc85402023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bb246769fd4cdfeec4604fd58ef22c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a50bb246769fd4cdfeec4604fd58ef22c">valid_is_prepared</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a50bb246769fd4cdfeec4604fd58ef22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for testing whether a mesh's cached is_prepared() setting is not a false positive.  <a href="#a50bb246769fd4cdfeec4604fd58ef22c">更多...</a><br/></td></tr>
<tr class="separator:a50bb246769fd4cdfeec4604fd58ef22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8d32bf41517415fbf8f45dcd1df088"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a8d8d32bf41517415fbf8f45dcd1df088"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a8d8d32bf41517415fbf8f45dcd1df088">libmesh_assert_topology_consistent_procids&lt; Elem &gt;</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a8d8d32bf41517415fbf8f45dcd1df088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fa726589463cf24cee5f9f3c140ba0"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:ad7fa726589463cf24cee5f9f3c140ba0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ad7fa726589463cf24cee5f9f3c140ba0">libmesh_assert_topology_consistent_procids&lt; Node &gt;</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:ad7fa726589463cf24cee5f9f3c140ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98260562ab7d1c463a0fcb69422439d3"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a98260562ab7d1c463a0fcb69422439d3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a98260562ab7d1c463a0fcb69422439d3">libmesh_assert_parallel_consistent_procids&lt; Elem &gt;</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:a98260562ab7d1c463a0fcb69422439d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9230889a01ee0f9489a3d3eb4d70c2"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:afa9230889a01ee0f9489a3d3eb4d70c2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#afa9230889a01ee0f9489a3d3eb4d70c2">libmesh_assert_parallel_consistent_procids&lt; Node &gt;</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:afa9230889a01ee0f9489a3d3eb4d70c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8746be5247c3f44a3b0797b5ed88f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#aca8746be5247c3f44a3b0797b5ed88f0">correct_node_proc_ids</a> (<a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;)</td></tr>
<tr class="memdesc:aca8746be5247c3f44a3b0797b5ed88f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the processor ids on each node so be the same as the id of the lowest element touching that node.  <a href="#aca8746be5247c3f44a3b0797b5ed88f0">更多...</a><br/></td></tr>
<tr class="separator:aca8746be5247c3f44a3b0797b5ed88f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3dca32f0e87484a5f18c5d1e166acf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ac3dca32f0e87484a5f18c5d1e166acf1">weight</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="separator:ac3dca32f0e87484a5f18c5d1e166acf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a0ae7fb3cba63f06621d6c701327c8"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a57a0ae7fb3cba63f06621d6c701327c8">max_level</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a57a0ae7fb3cba63f06621d6c701327c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the maximum h-refinement level in a mesh.  <a href="#a57a0ae7fb3cba63f06621d6c701327c8">更多...</a><br/></td></tr>
<tr class="separator:a57a0ae7fb3cba63f06621d6c701327c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:acf8fe11f9db875ae84c296f727cda068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#acf8fe11f9db875ae84c296f727cda068">libmesh_assert_equal_n_systems</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:acf8fe11f9db875ae84c296f727cda068"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following functions, only available in builds with NDEBUG undefined, are for asserting internal consistency that we hope should never be broken in opt.  <a href="#acf8fe11f9db875ae84c296f727cda068">更多...</a><br/></td></tr>
<tr class="separator:acf8fe11f9db875ae84c296f727cda068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bcb48d2a4a684b625f2a21e733cbfc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a0bcb48d2a4a684b625f2a21e733cbfc2">libmesh_assert_old_dof_objects</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a0bcb48d2a4a684b625f2a21e733cbfc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for testing that all non-recently-created DofObjects within a mesh have old_dof_object data.  <a href="#a0bcb48d2a4a684b625f2a21e733cbfc2">更多...</a><br/></td></tr>
<tr class="separator:a0bcb48d2a4a684b625f2a21e733cbfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059c8ba488323734da1dce1c85cbf8e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a059c8ba488323734da1dce1c85cbf8e6">libmesh_assert_valid_node_pointers</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a059c8ba488323734da1dce1c85cbf8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for walking across the mesh to try and ferret out invalidated or misassigned pointers.  <a href="#a059c8ba488323734da1dce1c85cbf8e6">更多...</a><br/></td></tr>
<tr class="separator:a059c8ba488323734da1dce1c85cbf8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553f4980413b774f6ea4c39b18f331af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a553f4980413b774f6ea4c39b18f331af">libmesh_assert_valid_remote_elems</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a553f4980413b774f6ea4c39b18f331af"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that active local elements' neighbors are never remote elements.  <a href="#a553f4980413b774f6ea4c39b18f331af">更多...</a><br/></td></tr>
<tr class="separator:a553f4980413b774f6ea4c39b18f331af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1968ff1c8ed3fdc7f1c23e6b8ec322f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a1968ff1c8ed3fdc7f1c23e6b8ec322f8">libmesh_assert_valid_elem_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a1968ff1c8ed3fdc7f1c23e6b8ec322f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that ids and processor assignment of elements are correctly sorted (monotone increasing)  <a href="#a1968ff1c8ed3fdc7f1c23e6b8ec322f8">更多...</a><br/></td></tr>
<tr class="separator:a1968ff1c8ed3fdc7f1c23e6b8ec322f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ce2d5d43e46b7cdcbe431cb10621fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ab5ce2d5d43e46b7cdcbe431cb10621fd">libmesh_assert_valid_amr_elem_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ab5ce2d5d43e46b7cdcbe431cb10621fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that ids of elements are correctly sorted for AMR (parents have lower ids than children)  <a href="#ab5ce2d5d43e46b7cdcbe431cb10621fd">更多...</a><br/></td></tr>
<tr class="separator:ab5ce2d5d43e46b7cdcbe431cb10621fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea40fdf53f49b480d2129c39512a807"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a4ea40fdf53f49b480d2129c39512a807">libmesh_assert_valid_amr_interior_parents</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a4ea40fdf53f49b480d2129c39512a807"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that any interior_parent pointers on elements are consistent with AMR (parents' interior_parents are interior_parents' parents)  <a href="#a4ea40fdf53f49b480d2129c39512a807">更多...</a><br/></td></tr>
<tr class="separator:a4ea40fdf53f49b480d2129c39512a807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca9e4c2c0ab99ae140ccd0212671792"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#abca9e4c2c0ab99ae140ccd0212671792">libmesh_assert_valid_constraint_rows</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:abca9e4c2c0ab99ae140ccd0212671792"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that all mesh constraint rows express relations between nodes and elements that are semilocal (local or ghosted) to the current processor's portion of the mesh.  <a href="#abca9e4c2c0ab99ae140ccd0212671792">更多...</a><br/></td></tr>
<tr class="separator:abca9e4c2c0ab99ae140ccd0212671792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fea1e3771b1dab2bd92b59a4c121e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a81fea1e3771b1dab2bd92b59a4c121e7">libmesh_assert_contiguous_dof_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, unsigned int sysnum)</td></tr>
<tr class="memdesc:a81fea1e3771b1dab2bd92b59a4c121e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that degree of freedom indexes are contiguous on each processor, as is required by <a class="el" href="namespacelibMesh.html" title="The libMesh namespace provides an interface to certain functionality in the library. ">libMesh</a> numeric classes.  <a href="#a81fea1e3771b1dab2bd92b59a4c121e7">更多...</a><br/></td></tr>
<tr class="separator:a81fea1e3771b1dab2bd92b59a4c121e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce020f2d0393684ba04d847d6eaded0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#acce020f2d0393684ba04d847d6eaded0">libmesh_assert_canonical_node_procids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:acce020f2d0393684ba04d847d6eaded0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that processor assignment of nodes matches the heuristic specified in <a class="el" href="classlibMesh_1_1Node.html#ae861c71635f1e57481c17ce9f977c058" title="Return which of pid1 and pid2 would be preferred by the current load-balancing heuristic applied to t...">Node::choose_processor_id()</a>  <a href="#acce020f2d0393684ba04d847d6eaded0">更多...</a><br/></td></tr>
<tr class="separator:acce020f2d0393684ba04d847d6eaded0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad394faa2ff745fcf291cb4c03c20ce73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ad394faa2ff745fcf291cb4c03c20ce73">libmesh_assert_valid_refinement_tree</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ad394faa2ff745fcf291cb4c03c20ce73"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that elements on this processor have valid descendants and consistent active flags.  <a href="#ad394faa2ff745fcf291cb4c03c20ce73">更多...</a><br/></td></tr>
<tr class="separator:ad394faa2ff745fcf291cb4c03c20ce73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b15cb753de3bd85a46b6ba16d922ed3"><td class="memTemplParams" colspan="2">template&lt;typename DofObjectSubclass &gt; </td></tr>
<tr class="memitem:a1b15cb753de3bd85a46b6ba16d922ed3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a1b15cb753de3bd85a46b6ba16d922ed3">libmesh_assert_topology_consistent_procids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a1b15cb753de3bd85a46b6ba16d922ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that processor assignment is topologically consistent on nodes (each node part of an active element on its processor) or elements (each parent has the processor id of one of its children).  <a href="#a1b15cb753de3bd85a46b6ba16d922ed3">更多...</a><br/></td></tr>
<tr class="separator:a1b15cb753de3bd85a46b6ba16d922ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a8caf167bf36aeb0045b7736345f26da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a8caf167bf36aeb0045b7736345f26da2">libmesh_assert_no_links_to_elem</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *bad_elem)</td></tr>
<tr class="memdesc:a8caf167bf36aeb0045b7736345f26da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following functions, only available in builds with DEBUG defined, typically have surprisingly slow asymptotic behavior, and so are unsuitable for use even with METHOD=devel.  <a href="#a8caf167bf36aeb0045b7736345f26da2">更多...</a><br/></td></tr>
<tr class="separator:a8caf167bf36aeb0045b7736345f26da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fce194403991f405f2b78b267251ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ae5fce194403991f405f2b78b267251ac">libmesh_assert_equal_points</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ae5fce194403991f405f2b78b267251ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for testing that node locations match across processors.  <a href="#ae5fce194403991f405f2b78b267251ac">更多...</a><br/></td></tr>
<tr class="separator:ae5fce194403991f405f2b78b267251ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0112fef358e38b3c86584b2d7b0d19b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a0112fef358e38b3c86584b2d7b0d19b1">libmesh_assert_equal_connectivity</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a0112fef358e38b3c86584b2d7b0d19b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for testing that element nodal connectivities match across processors.  <a href="#a0112fef358e38b3c86584b2d7b0d19b1">更多...</a><br/></td></tr>
<tr class="separator:a0112fef358e38b3c86584b2d7b0d19b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd13c86f9d33239f274d21eb921cc33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a9fd13c86f9d33239f274d21eb921cc33">libmesh_assert_connected_nodes</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a9fd13c86f9d33239f274d21eb921cc33"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that all nodes are connected to at least one element.  <a href="#a9fd13c86f9d33239f274d21eb921cc33">更多...</a><br/></td></tr>
<tr class="separator:a9fd13c86f9d33239f274d21eb921cc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476a638ff65585743af92b95078df8ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a476a638ff65585743af92b95078df8ce">libmesh_assert_valid_boundary_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a476a638ff65585743af92b95078df8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that boundary condition ids match across processors.  <a href="#a476a638ff65585743af92b95078df8ce">更多...</a><br/></td></tr>
<tr class="separator:a476a638ff65585743af92b95078df8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570d50de4beddbb36a7aa135faba5d16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a570d50de4beddbb36a7aa135faba5d16">libmesh_assert_valid_dof_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, unsigned int sysnum=<a class="el" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</td></tr>
<tr class="memdesc:a570d50de4beddbb36a7aa135faba5d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that degree of freedom indexing matches across processors.  <a href="#a570d50de4beddbb36a7aa135faba5d16">更多...</a><br/></td></tr>
<tr class="separator:a570d50de4beddbb36a7aa135faba5d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142e1fe334582a7ed6d433def10bf30d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a142e1fe334582a7ed6d433def10bf30d">libmesh_assert_valid_unique_ids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a142e1fe334582a7ed6d433def10bf30d"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that unique ids match across processors.  <a href="#a142e1fe334582a7ed6d433def10bf30d">更多...</a><br/></td></tr>
<tr class="separator:a142e1fe334582a7ed6d433def10bf30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3eca5e0f2cfcf6ff00e83c2c5fab33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#add3eca5e0f2cfcf6ff00e83c2c5fab33">libmesh_assert_consistent_distributed</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:add3eca5e0f2cfcf6ff00e83c2c5fab33"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that distribution of dof objects is parallel consistent (every processor can see every node or element it owns)  <a href="#add3eca5e0f2cfcf6ff00e83c2c5fab33">更多...</a><br/></td></tr>
<tr class="separator:add3eca5e0f2cfcf6ff00e83c2c5fab33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4bb797a6e5711258c9fb473540b7526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ad4bb797a6e5711258c9fb473540b7526">libmesh_assert_consistent_distributed_nodes</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ad4bb797a6e5711258c9fb473540b7526"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that distribution of nodes is parallel consistent (every processor can see every node it owns) even before node ids have been made consistent.  <a href="#ad4bb797a6e5711258c9fb473540b7526">更多...</a><br/></td></tr>
<tr class="separator:ad4bb797a6e5711258c9fb473540b7526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2699035cfb89b82a96bac61ad9ae291f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a2699035cfb89b82a96bac61ad9ae291f">libmesh_assert_parallel_consistent_new_node_procids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a2699035cfb89b82a96bac61ad9ae291f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that processor assignment is parallel consistent (every processor agrees on the processor id of each node it can see) even on nodes which have not yet received consistent <a class="el" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">DofObject::id()</a>, using element topology to identify matching nodes.  <a href="#a2699035cfb89b82a96bac61ad9ae291f">更多...</a><br/></td></tr>
<tr class="separator:a2699035cfb89b82a96bac61ad9ae291f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443c40ad462ac08f08aa00a23b552eb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a443c40ad462ac08f08aa00a23b552eb9">libmesh_assert_valid_refinement_flags</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a443c40ad462ac08f08aa00a23b552eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that refinement flags on elements are consistent between processors.  <a href="#a443c40ad462ac08f08aa00a23b552eb9">更多...</a><br/></td></tr>
<tr class="separator:a443c40ad462ac08f08aa00a23b552eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c59d3e13f4d9f89d41eb66cb043f4ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a2c59d3e13f4d9f89d41eb66cb043f4ee">libmesh_assert_valid_neighbors</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, bool assert_valid_remote_elems=true)</td></tr>
<tr class="memdesc:a2c59d3e13f4d9f89d41eb66cb043f4ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that neighbor connectivity is correct (each element is a neighbor of or descendant of a neighbor of its neighbors) and consistent (each neighbor link goes to either the same neighbor or to a <a class="el" href="classlibMesh_1_1RemoteElem.html" title="In parallel meshes where a ghost element has neighbors which do not exist on the local processor...">RemoteElem</a> on each processor)  <a href="#a2c59d3e13f4d9f89d41eb66cb043f4ee">更多...</a><br/></td></tr>
<tr class="separator:a2c59d3e13f4d9f89d41eb66cb043f4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7804ed8dc2b0769c2511407d499ec91f"><td class="memTemplParams" colspan="2">template&lt;typename DofObjectSubclass &gt; </td></tr>
<tr class="memitem:a7804ed8dc2b0769c2511407d499ec91f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#a7804ed8dc2b0769c2511407d499ec91f">libmesh_assert_parallel_consistent_procids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:a7804ed8dc2b0769c2511407d499ec91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that processor assignment is parallel consistent (every processor agrees on the processor id of each dof object it can see)  <a href="#a7804ed8dc2b0769c2511407d499ec91f">更多...</a><br/></td></tr>
<tr class="separator:a7804ed8dc2b0769c2511407d499ec91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ac238b587230fe4feed33c477f2600"><td class="memTemplParams" colspan="2">template&lt;typename DofObjectSubclass &gt; </td></tr>
<tr class="memitem:ab0ac238b587230fe4feed33c477f2600"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelibMesh_1_1MeshTools.html#ab0ac238b587230fe4feed33c477f2600">libmesh_assert_valid_procids</a> (const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;<a class="el" href="mesh__tools_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>)</td></tr>
<tr class="memdesc:ab0ac238b587230fe4feed33c477f2600"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for verifying that processor assignment is both parallel and topologically consistent.  <a href="#ab0ac238b587230fe4feed33c477f2600">更多...</a><br/></td></tr>
<tr class="separator:ab0ac238b587230fe4feed33c477f2600"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p><a class="el" href="namespacelibMesh_1_1Utility.html">Utility</a> functions for operations on a <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> object. </p>
<p>Here is where useful functions for interfacing with a <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> should be defined. In general this namespace should be used to prevent the <code><a class="el" href="classlibMesh_1_1Mesh.html" title="The Mesh class is a thin wrapper, around the ReplicatedMesh class by default. ">Mesh</a></code> class from becoming too cluttered.</p>
<dl class="section author"><dt>作者</dt><dd>Benjamin S. Kirk </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2004 </dd></dl>
</div><h2 class="groupheader">函数说明</h2>
<a class="anchor" id="a15cfa4aa6733bffa5fff0c64c7608a71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a> libMesh::MeshTools::bounding_sphere </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A bounding sphere for <code>mesh</code> instead of a bounding box. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00610">610</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__tools_8C_source.html#l00558">create_bounding_box()</a>, <a class="el" href="type__vector_8h_source.html#l00064">std::norm()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>
<div class="fragment"><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> bbox = <a class="code" href="namespacelibMesh_1_1MeshTools.html#a2793e67a6d7e4c5e59692a4acfbcd425">create_bounding_box</a>(mesh);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>  diag = (bbox.second - bbox.first).<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Point.html">Point</a> cent = (bbox.second + bbox.first)/2;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1Sphere.html">Sphere</a> (cent, .5*diag);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Sphere_html"><div class="ttname"><a href="classlibMesh_1_1Sphere.html">libMesh::Sphere</a></div><div class="ttdoc">This class defines a sphere. </div><div class="ttdef"><b>Definition:</b> <a href="sphere_8h_source.html#l00072">sphere.h:72</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a2793e67a6d7e4c5e59692a4acfbcd425"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a2793e67a6d7e4c5e59692a4acfbcd425">libMesh::MeshTools::create_bounding_box</a></div><div class="ttdeci">libMesh::BoundingBox create_bounding_box(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00558">mesh_tools.C:558</a></div></div>
<div class="ttc" id="classlibMesh_1_1BoundingBox_html"><div class="ttname"><a href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a></div><div class="ttdoc">Defines a Cartesian bounding box by the two corner extremum. </div><div class="ttdef"><b>Definition:</b> <a href="bounding__box_8h_source.html#l00040">bounding_box.h:40</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="namespacestd_html_a6e740e64c53e9ae1489f7eee3899c10f"><div class="ttname"><a href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">std::norm</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; norm(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的范数。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00064">type_vector.h:64</a></div></div>
<div class="ttc" id="classlibMesh_1_1Point_html"><div class="ttname"><a href="classlibMesh_1_1Point.html">libMesh::Point</a></div><div class="ttdoc">A Point defines a location in LIBMESH_DIM dimensional Real space. </div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5aad7309726b936905141d30578ccd7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::build_nodes_to_elem_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>After calling this function the input vector <code>nodes_to_elem_map</code> will contain the node to element connectivity. </p>
<p>That is to say <code>nodes_to_elem_map</code>[i][j] is the global number of <img class="formulaInl" alt="$ j^{th} $" src="form_5.png"/> element connected to node <code>i</code>. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00448">448</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem()</a>.</p>

<p>参考自 <a class="el" href="generic__projector_8h_source.html#l00099">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::GenericProjector()</a>, <a class="el" href="mesh__subdivision__support_8C_source.html#l00156">libMesh::MeshTools::Subdivision::prepare_subdivision_mesh()</a>, <a class="el" href="mesh__smoother__vsmoother_8C_source.html#l00269">libMesh::VariationalMeshSmoother::readgr()</a>, <a class="el" href="partitioner_8C_source.html#l00656">libMesh::Partitioner::set_interface_node_processor_ids_BFS()</a>, <a class="el" href="partitioner_8C_source.html#l00737">libMesh::Partitioner::set_interface_node_processor_ids_petscpartitioner()</a> , 以及 <a class="el" href="tree_8C_source.html#l00037">libMesh::Tree&lt; N &gt;::Tree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">// A vector indexed over all nodes is too inefficient to use for a</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// distributed mesh.  Use the unordered_map API instead.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (!mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">is_serial</a>())</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    libmesh_deprecated();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  nodes_to_elem_map.resize (mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>());</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        libmesh_assert_less (node.id(), nodes_to_elem_map.size());</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        libmesh_assert_less (elem-&gt;id(), mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">n_elem</a>());</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        nodes_to_elem_map[node.id()].push_back(elem-&gt;id());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a3c7d22fed3feea4c9ebd1fb41e7dbb4f"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">libMesh::MeshBase::is_serial</a></div><div class="ttdeci">virtual bool is_serial() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00201">mesh_base.h:201</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a190e556d3be87f5ccd8d4fc98d1779d3"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem</a></div><div class="ttdeci">virtual dof_id_type n_elem() const =0</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc84a09f4495c845bf06664a8ddd38e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::build_nodes_to_elem_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same, except element pointers are returned instead of indices. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00470">470</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">// A vector indexed over all nodes is too inefficient to use for a</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// distributed mesh.  Use the unordered_map API instead.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (!mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">is_serial</a>())</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    libmesh_deprecated();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  nodes_to_elem_map.resize (mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>());</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        libmesh_assert_less (node.id(), nodes_to_elem_map.size());</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        nodes_to_elem_map[node.id()].push_back(elem);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a3c7d22fed3feea4c9ebd1fb41e7dbb4f"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">libMesh::MeshBase::is_serial</a></div><div class="ttdeci">virtual bool is_serial() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00201">mesh_base.h:201</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d41c828b6a358e3a8646df9428a5ec7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::build_nodes_to_elem_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>After calling this function the input map <code>nodes_to_elem_map</code> will contain the node to element connectivity. </p>
<p>That is to say <code>nodes_to_elem_map</code>[i][j] is the global number of <img class="formulaInl" alt="$ j^{th} $" src="form_5.png"/> element connected to node <code>i</code>. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00491">491</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  nodes_to_elem_map.clear();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      nodes_to_elem_map[node.id()].push_back(elem-&gt;id());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abba48391ca47216c5df0a882597bd417"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::build_nodes_to_elem_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same, except element pointers are returned instead of indices. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00503">503</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  nodes_to_elem_map.clear();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      nodes_to_elem_map[node.id()].push_back(elem);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ece711f232fe1f0509a89fc85402023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::clear_spline_nodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove spline node (for IsoGeometric Analysis meshes) elements and nodes and constraints from the mesh. </p>
<p>This should be done after the mesh is read but before the constraints are used by <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> initialization. The result is a mesh and solution space with lower required continuity and more unconstrained degrees of freedom, but with fewer total degrees of freedom and far fewer constraint equations. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00999">999</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1MeshBase.html#a5c7824047ed759b5a4891a6936b546cc">libMesh::MeshBase::delete_elem()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a32f377b1687ed195cf7d1683c4b880e0">libMesh::MeshBase::delete_node()</a>, <a class="el" href="mesh__base_8h_source.html#l01673">libMesh::MeshBase::get_constraint_rows()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="elem_8h_source.html#l02933">libMesh::Elem::mapping_type()</a>, <a class="el" href="enum__elem__type_8h_source.html#l00066">libMesh::NODEELEM</a>, <a class="el" href="enum__elem__type_8h_source.html#l00090">libMesh::RATIONAL_BERNSTEIN_MAP</a> , 以及 <a class="el" href="classlibMesh_1_1Elem.html#ad06f8ac22978144723179eed42d10bae">libMesh::Elem::type()</a>.</p>

<p>参考自 <a class="el" href="dyna__io_8C_source.html#l00744">libMesh::DynaIO::clear_spline_nodes()</a> , 以及 <a class="el" href="dyna__io_8C_source.html#l00177">libMesh::DynaIO::read_mesh()</a>.</p>
<div class="fragment"><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;{</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  std::vector&lt;Elem *&gt; nodeelem_to_delete;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (elem-&gt;type() == <a class="code" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659">NODEELEM</a> &amp;&amp;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        elem-&gt;mapping_type() == <a class="code" href="namespacelibMesh.html#a4739a1bef45df5e18acafbf2a2bd616aa23087e07443ec1d86e92ba720a34f8c6">RATIONAL_BERNSTEIN_MAP</a>)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      nodeelem_to_delete.push_back(elem);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="keyword">auto</span> &amp; constraint_rows = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a988e7456320f55e731dc8e4bb9373ea3">get_constraint_rows</a>();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// All our constraint_rows ought to be for spline constraints we&#39;re</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// about to get rid of.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node_row : constraint_rows)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pr : node_row.second)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = pr.first.first;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ad06f8ac22978144723179eed42d10bae">type</a>() == <a class="code" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659">NODEELEM</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3c45f24386b18459f0eb31a06f5855fb">mapping_type</a>() == <a class="code" href="namespacelibMesh.html#a4739a1bef45df5e18acafbf2a2bd616aa23087e07443ec1d86e92ba720a34f8c6">RATIONAL_BERNSTEIN_MAP</a>);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  constraint_rows.clear();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem : nodeelem_to_delete)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">node_ptr</a>(0);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a5c7824047ed759b5a4891a6936b546cc">delete_elem</a>(elem);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a32f377b1687ed195cf7d1683c4b880e0">delete_node</a>(node);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a988e7456320f55e731dc8e4bb9373ea3"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a988e7456320f55e731dc8e4bb9373ea3">libMesh::MeshBase::get_constraint_rows</a></div><div class="ttdeci">constraint_rows_type &amp; get_constraint_rows()</div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l01673">mesh_base.h:1673</a></div></div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a5c7824047ed759b5a4891a6936b546cc"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a5c7824047ed759b5a4891a6936b546cc">libMesh::MeshBase::delete_elem</a></div><div class="ttdeci">virtual void delete_elem(Elem *e)=0</div><div class="ttdoc">Removes element e from the mesh. </div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a8af3280d9eb50ef05f43ceea5bcb8cf8"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">libMesh::Elem::node_ptr</a></div><div class="ttdeci">const Node * node_ptr(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02307">elem.h:2307</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3c45f24386b18459f0eb31a06f5855fb"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3c45f24386b18459f0eb31a06f5855fb">libMesh::Elem::mapping_type</a></div><div class="ttdeci">ElemMappingType mapping_type() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02933">elem.h:2933</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a32f377b1687ed195cf7d1683c4b880e0"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a32f377b1687ed195cf7d1683c4b880e0">libMesh::MeshBase::delete_node</a></div><div class="ttdeci">virtual void delete_node(Node *n)=0</div><div class="ttdoc">Removes the Node n from the mesh. </div></div>
<div class="ttc" id="namespacelibMesh_html_a4739a1bef45df5e18acafbf2a2bd616aa23087e07443ec1d86e92ba720a34f8c6"><div class="ttname"><a href="namespacelibMesh.html#a4739a1bef45df5e18acafbf2a2bd616aa23087e07443ec1d86e92ba720a34f8c6">libMesh::RATIONAL_BERNSTEIN_MAP</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__elem__type_8h_source.html#l00090">enum_elem_type.h:90</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ad06f8ac22978144723179eed42d10bae"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ad06f8ac22978144723179eed42d10bae">libMesh::Elem::type</a></div><div class="ttdeci">virtual ElemType type() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659"><div class="ttname"><a href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659">libMesh::NODEELEM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__elem__type_8h_source.html#l00066">enum_elem_type.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca8746be5247c3f44a3b0797b5ed88f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::correct_node_proc_ids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the processor ids on each node so be the same as the id of the lowest element touching that node. </p>
<p>This corrects "orphaned" processor ids that may occur from element coarsening.</p>
<p>On a distributed mesh, this function must be called in parallel to sync everyone's corrected processor ids on ghost nodes. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l02222">2222</a> 行定义.</p>

<p>参考 <a class="el" href="node_8C_source.html#l00078">libMesh::Node::choose_processor_id()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__tools_8C_source.html#l01932">libmesh_assert_parallel_consistent_procids&lt; Node &gt;()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="mesh__tools_8C_source.html#l00850">n_elem()</a>, <a class="el" href="mesh__tools_8C_source.html#l02177">new_proc_ids</a>, <a class="el" href="mesh__base_8h_source.html#l00571">libMesh::MeshBase::node_ref()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="mesh__base_8h_source.html#l01209">libMesh::MeshBase::skip_noncritical_partitioning()</a> , 以及 <a class="el" href="parallel__ghost__sync_8h_source.html#l00357">libMesh::Parallel::sync_dofobject_data_by_id()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01934">libMesh::MeshCommunication::make_new_nodes_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01892">libMesh::MeshCommunication::make_nodes_parallel_consistent()</a> , 以及 <a class="el" href="mesh__base_8C_source.html#l01501">libMesh::MeshBase::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;{</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;correct_node_proc_ids()&quot;</span>,<span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="comment">// This function must be run on all processors at once</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="comment">// We require all processors to agree on nodal processor ids before</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="comment">// going into this algorithm.</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh_1_1MeshTools.html#afa9230889a01ee0f9489a3d3eb4d70c2">libmesh_assert_parallel_consistent_procids&lt;Node&gt;</a>(<a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// If we have any unpartitioned elements at this</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="comment">// stage there is a problem</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (<a class="code" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a>(mesh.unpartitioned_elements_begin(),</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                         mesh.unpartitioned_elements_end()) == 0);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="comment">// Fix nodes&#39; processor ids.  Coarsening may have left us with nodes</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="comment">// which are no longer touched by any elements of the same processor</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="comment">// id, and for DofMap to work we need to fix that.</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <span class="comment">// This is harder now that libMesh no longer requires a distributed</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  <span class="comment">// mesh to ghost all nodal neighbors: it is possible for two active</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="comment">// elements on two different processors to share the same node in</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="comment">// such a way that neither processor knows the others&#39; element</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <span class="comment">// exists!</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="comment">// While we&#39;re at it, if this mesh is configured to allow</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// repartitioning, we&#39;ll repartition *all* the nodes&#39; processor ids</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <span class="comment">// using the canonical Node heuristic, to try and improve DoF load</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="comment">// balancing.  But if the mesh is disallowing repartitioning, we</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// won&#39;t touch processor_id on any node where it&#39;s valid, regardless</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="comment">// of whether or not it&#39;s canonical.</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  <span class="keywordtype">bool</span> repartition_all_nodes = !mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#af7246ffafffee35db64abea79b8428a8">skip_noncritical_partitioning</a>();</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  std::unordered_set&lt;const Node *&gt; valid_nodes;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="comment">// If we aren&#39;t allowed to repartition, then we&#39;re going to leave</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="comment">// every node we can at its current processor_id, and *only*</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  <span class="comment">// repartition the nodes whose current processor id is incompatible</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="comment">// with DoFMap (because it doesn&#39;t touch an active element, e.g. due</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="comment">// to coarsening)</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">if</span> (!repartition_all_nodes)</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    {</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;          <span class="keywordflow">if</span> (elem-&gt;processor_id() == node.processor_id())</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            valid_nodes.insert(&amp;node);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;      SyncNodeSet syncv(valid_nodes, mesh);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      <a class="code" href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">Parallel::sync_dofobject_data_by_id</a></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), mesh.nodes_begin(), mesh.nodes_end(), syncv);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="comment">// We build up a set of compatible processor ids for each node</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  proc_id_map_type <a class="code" href="mesh__tools_8C.html#a628bde8a67ea6189f333666d709c8d8c">new_proc_ids</a>;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid = elem-&gt;processor_id();</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <span class="keywordtype">id</span> = node.id();</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;          <span class="keyword">const</span> proc_id_map_type::iterator it = new_proc_ids.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;          <span class="keywordflow">if</span> (it == new_proc_ids.end())</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            new_proc_ids.emplace(<span class="keywordtype">id</span>, pid);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            it-&gt;second = node.choose_processor_id(it-&gt;second, pid);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        }</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// Sort the new pids to push to each processor</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  std::map&lt;processor_id_type, std::vector&lt;std::pair&lt;dof_id_type, processor_id_type&gt;&gt;&gt;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    ids_to_push;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    {</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <span class="keywordtype">id</span> = node-&gt;id();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <span class="keyword">const</span> proc_id_map_type::iterator it = new_proc_ids.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <span class="keywordflow">if</span> (it == new_proc_ids.end())</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid = it-&gt;second;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;      <span class="keywordflow">if</span> (node-&gt;processor_id() != DofObject::invalid_processor_id)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        ids_to_push[node-&gt;processor_id()].emplace_back(<span class="keywordtype">id</span>, pid);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    }</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keyword">auto</span> action_functor =</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    [&amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, &amp; <a class="code" href="mesh__tools_8C.html#a628bde8a67ea6189f333666d709c8d8c">new_proc_ids</a>]</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    (<a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>,</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;     <span class="keyword">const</span> std::vector&lt;std::pair&lt;dof_id_type, processor_id_type&gt;&gt; &amp; data)</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [<span class="keywordtype">id</span>, pid] : data)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;          <span class="keyword">const</span> proc_id_map_type::iterator it = new_proc_ids.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;          <span class="keywordflow">if</span> (it == new_proc_ids.end())</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            new_proc_ids.emplace(<span class="keywordtype">id</span>, pid);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;              <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> &amp; node = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#af6e7cea860ccee9625012f9fcb0ae13b">node_ref</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;              it-&gt;second = node.<a class="code" href="classlibMesh_1_1Node.html#ae861c71635f1e57481c17ce9f977c058">choose_processor_id</a>(it-&gt;second, pid);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;            }</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        }</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    };</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  Parallel::push_parallel_vector_data</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), ids_to_push, action_functor);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="comment">// Now new_proc_ids is correct for every node we used to own.  Let&#39;s</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  <span class="comment">// ask every other processor about the nodes they used to own.  But</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <span class="comment">// first we&#39;ll need to keep track of which nodes we used to own,</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="comment">// lest we get them confused with nodes we newly own.</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  std::unordered_set&lt;Node *&gt; ex_local_nodes;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : mesh.local_node_ptr_range())</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      <span class="keyword">const</span> proc_id_map_type::iterator it = new_proc_ids.find(node-&gt;id());</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      <span class="keywordflow">if</span> (it != new_proc_ids.end() &amp;&amp; it-&gt;second != mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        ex_local_nodes.insert(node);</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  SyncProcIdsFromMap sync(new_proc_ids, mesh);</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="keywordflow">if</span> (repartition_all_nodes)</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <a class="code" href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">Parallel::sync_dofobject_data_by_id</a></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;      (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), mesh.nodes_begin(), mesh.nodes_end(), sync);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      NodesNotInSet nnis(valid_nodes);</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <a class="code" href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">Parallel::sync_dofobject_data_by_id</a></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), mesh.nodes_begin(), mesh.nodes_end(), nnis, sync);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="comment">// And finally let&#39;s update the nodes we used to own.</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : ex_local_nodes)</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    {</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <span class="keywordflow">if</span> (valid_nodes.count(node))</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <span class="keywordtype">id</span> = node-&gt;id();</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <span class="keyword">const</span> proc_id_map_type::iterator it = new_proc_ids.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(it != new_proc_ids.end());</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      node-&gt;processor_id() = it-&gt;second;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="comment">// We should still have consistent nodal processor ids coming out of</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <span class="comment">// this algorithm, but if we&#39;re allowed to repartition the mesh then</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="comment">// they should be canonically correct too.</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="preprocessor"></span>  libmesh_assert_valid_procids&lt;Node&gt;(<a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="comment">//if (repartition_all_nodes)</span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="comment">//  libmesh_assert_canonical_node_procids(mesh);</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a20881e0b5de5ef63808dd24d90e70b2a"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">libMesh::MeshTools::n_elem</a></div><div class="ttdeci">dof_id_type n_elem(const MeshBase::const_element_iterator &amp;begin, const MeshBase::const_element_iterator &amp;end)</div><div class="ttdoc">Count up the number of elements of a specific type (as defined by an iterator range). </div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00850">mesh_tools.C:850</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_af6e7cea860ccee9625012f9fcb0ae13b"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#af6e7cea860ccee9625012f9fcb0ae13b">libMesh::MeshBase::node_ref</a></div><div class="ttdeci">virtual const Node &amp; node_ref(const dof_id_type i) const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00571">mesh_base.h:571</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_af7246ffafffee35db64abea79b8428a8"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#af7246ffafffee35db64abea79b8428a8">libMesh::MeshBase::skip_noncritical_partitioning</a></div><div class="ttdeci">void skip_noncritical_partitioning(bool skip)</div><div class="ttdoc">If true is passed in then the elements on this mesh will no longer be (re)partitioned, and the nodes on this mesh will only be repartitioned if they are found &amp;quot;orphaned&amp;quot; via coarsening or other removal of the last element responsible for their node/element processor id consistency. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l01209">mesh_base.h:1209</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="mesh__tools_8C_html_a628bde8a67ea6189f333666d709c8d8c"><div class="ttname"><a href="mesh__tools_8C.html#a628bde8a67ea6189f333666d709c8d8c">new_proc_ids</a></div><div class="ttdeci">const proc_id_map_type &amp; new_proc_ids</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l02177">mesh_tools.C:2177</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Parallel_html_ac7d4f06bb34625465942e6b8d10f135e"><div class="ttname"><a href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">libMesh::Parallel::sync_dofobject_data_by_id</a></div><div class="ttdeci">void sync_dofobject_data_by_id(const Communicator &amp;comm, const Iterator &amp;range_begin, const Iterator &amp;range_end, SyncFunctor &amp;sync)</div><div class="ttdoc">Request data about a range of ghost dofobjects uniquely identified by their id. </div><div class="ttdef"><b>Definition:</b> <a href="parallel__ghost__sync_8h_source.html#l00357">parallel_ghost_sync.h:357</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_afa9230889a01ee0f9489a3d3eb4d70c2"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#afa9230889a01ee0f9489a3d3eb4d70c2">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Node &gt;</a></div><div class="ttdeci">void libmesh_assert_parallel_consistent_procids&lt; Node &gt;(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l01932">mesh_tools.C:1932</a></div></div>
<div class="ttc" id="classlibMesh_1_1Node_html_ae861c71635f1e57481c17ce9f977c058"><div class="ttname"><a href="classlibMesh_1_1Node.html#ae861c71635f1e57481c17ce9f977c058">libMesh::Node::choose_processor_id</a></div><div class="ttdeci">processor_id_type choose_processor_id(processor_id_type pid1, processor_id_type pid2) const </div><div class="ttdoc">Return which of pid1 and pid2 would be preferred by the current load-balancing heuristic applied to t...</div><div class="ttdef"><b>Definition:</b> <a href="node_8C_source.html#l00078">node.C:78</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2793e67a6d7e4c5e59692a4acfbcd425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> libMesh::MeshTools::create_bounding_box </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A <a class="el" href="classlibMesh_1_1BoundingBox.html" title="Defines a Cartesian bounding box by the two corner extremum. ">BoundingBox</a> that bounds the mesh. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00558">558</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="mesh__tools_8C_source.html#l00623">create_local_bounding_box()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a> , 以及 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="partitioner_8C_source.html#l01067">libMesh::Partitioner::_find_global_index_by_pid_map()</a>, <a class="el" href="mesh__tools_8C_source.html#l00610">bounding_sphere()</a>, <a class="el" href="inf__elem__builder_8C_source.html#l00041">libMesh::InfElemBuilder::build_inf_elem()</a>, <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>, <a class="el" href="point__locator__tree_8C_source.html#l00088">libMesh::PointLocatorTree::init()</a>, <a class="el" href="parmetis__partitioner_8C_source.html#l00241">libMesh::ParmetisPartitioner::initialize()</a>, <a class="el" href="metis__partitioner_8C_source.html#l00068">libMesh::MetisPartitioner::partition_range()</a>, <a class="el" href="partitioner_8C_source.html#l00351">libMesh::Partitioner::partition_unpartitioned_elements()</a>, <a class="el" href="tree__node_8C_source.html#l00202">libMesh::TreeNode&lt; N &gt;::refine()</a>, <a class="el" href="tree_8C_source.html#l00037">libMesh::Tree&lt; N &gt;::Tree()</a> , 以及 <a class="el" href="postscript__io_8C_source.html#l00070">libMesh::PostscriptIO::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// This function must be run on all processors at once</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  FindBBox find_bbox;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Start with any unpartitioned elements we know about locally</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.pid_elements_begin(DofObject::invalid_processor_id),</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                            mesh.pid_elements_end(DofObject::invalid_processor_id)),</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                            find_bbox);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// And combine with our local elements</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  find_bbox.bbox().union_with(<a class="code" href="namespacelibMesh_1_1MeshTools.html#a39a5988802f6ff30eb3361bf865150e8">create_local_bounding_box</a>(mesh));</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Compare the bounding boxes across processors</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(find_bbox.min());</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(find_bbox.max());</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">return</span> find_bbox.bbox();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a39a5988802f6ff30eb3361bf865150e8"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a39a5988802f6ff30eb3361bf865150e8">libMesh::MeshTools::create_local_bounding_box</a></div><div class="ttdeci">libMesh::BoundingBox create_local_bounding_box(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00623">mesh_tools.C:623</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39a5988802f6ff30eb3361bf865150e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> libMesh::MeshTools::create_local_bounding_box </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>Two points defining a cartesian box that bounds the elements belonging to the local processor.</dd></dl>
<p>Unlike the other bounding box creation functions, this does <em>not</em> need to be run in parallel, because this is the only function we can guarantee can be resolved with only local information. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00623">623</a> 行定义.</p>

<p>参考 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00558">create_bounding_box()</a> , 以及 <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  FindBBox find_bbox;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.local_elements_begin(),</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                            mesh.local_elements_end()),</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                            find_bbox);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> find_bbox.bbox();</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9cc1d9577393d91d5df11f4034e1264b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> libMesh::MeshTools::create_nodal_bounding_box </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>Two points defining a cartesian box that bounds the nodes of the mesh.</dd></dl>
<p>In the case of curved elements, this box might <em>not</em> bound the elements of the mesh. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00583">583</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a> , 以及 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication__global__indices_8C_source.html#l00204">libMesh::MeshCommunication::assign_global_indices()</a> , 以及 <a class="el" href="mesh__communication__global__indices_8C_source.html#l00612">libMesh::MeshCommunication::check_for_duplicate_global_indices()</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">// This function must be run on all processors at once</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  FindBBox find_bbox;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// Start with any unpartitioned nodes we know about locally</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstNodeRange</a> (mesh.pid_nodes_begin(DofObject::invalid_processor_id),</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                            mesh.pid_nodes_end(DofObject::invalid_processor_id)),</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                            find_bbox);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Add our local nodes</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstNodeRange</a> (mesh.local_nodes_begin(),</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                            mesh.local_nodes_end()),</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                            find_bbox);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// Compare the bounding boxes across processors</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(find_bbox.min());</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(find_bbox.max());</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">return</span> find_bbox.bbox();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb1a886ac7ab79ce0ca2fda13eda4594"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> libMesh::MeshTools::create_processor_bounding_box </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A <a class="el" href="classlibMesh_1_1BoundingBox.html" title="Defines a Cartesian bounding box by the two corner extremum. ">BoundingBox</a> that bounds the elements belonging to processor pid. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00637">637</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a> , 以及 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00662">processor_bounding_sphere()</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// This can only be run in parallel, with consistent arguments.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(pid));</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  libmesh_assert_less (pid, mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>());</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  FindBBox find_bbox;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.pid_elements_begin(pid),</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                            mesh.pid_elements_end(pid)),</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                            find_bbox);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// Compare the bounding boxes across processors</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(find_bbox.min());</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(find_bbox.max());</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">return</span> find_bbox.bbox();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a473c73692d2de6bc686906b180b9efce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> libMesh::MeshTools::create_subdomain_bounding_box </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a>&#160;</td>
          <td class="paramname"><em>sid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A <a class="el" href="classlibMesh_1_1BoundingBox.html" title="Defines a Cartesian bounding box by the two corner extremum. ">BoundingBox</a> that bounds the elements belonging to subdomain sid. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00677">677</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00701">subdomain_bounding_sphere()</a>.</p>
<div class="fragment"><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// This can only be run in parallel, with consistent arguments.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(sid));</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  FindBBox find_bbox;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.active_local_subdomain_elements_begin(sid),</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                     mesh.active_local_subdomain_elements_end(sid)),</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;     find_bbox);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// Compare the bounding boxes across processors</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(find_bbox.min());</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(find_bbox.max());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">return</span> find_bbox.bbox();</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a105332f64aa69991539faccda22f6710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::elem_types </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>et</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills in a vector of all element types in the mesh. </p>
<p>Implemented in terms of element_iterators. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00715">715</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// Loop over the the elements.  If the current element type isn&#39;t in</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// the vector, insert it.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (!std::count(et.begin(), et.end(), elem-&gt;type()))</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      et.push_back(elem-&gt;type());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4148ded591e8ed8efe2e7ec918e30ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; libMesh::MeshTools::find_block_boundary_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a std::set containing <a class="el" href="classlibMesh_1_1Node.html" title="A Node is like a Point, but with more information. ">Node</a> IDs for all of the block boundary nodes. </p>
<p>A "block boundary node" is a node that is connected to elements from 2 or more blocks </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00536">536</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__smoother__laplace_8C_source.html#l00046">libMesh::LaplaceMeshSmoother::smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  std::unordered_set&lt;dof_id_type&gt; block_boundary_nodes;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Loop over elements, find those on boundary, and</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// mark them as true in on_boundary.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : elem-&gt;side_index_range())</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;neighbor_ptr(s) &amp;&amp; (elem-&gt;neighbor_ptr(s)-&gt;subdomain_id() != elem-&gt;subdomain_id()))</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          <span class="keyword">auto</span> nodes_on_side = elem-&gt;nodes_on_side(s);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; local_id : nodes_on_side)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            block_boundary_nodes.insert(elem-&gt;node_ptr(local_id)-&gt;id());</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">return</span> block_boundary_nodes;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc51a523820ddc6f28c86b9b9960de72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; libMesh::MeshTools::find_boundary_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calling this function on a 2D mesh will convert all the elements to triangles. </p>
<p><code>QUAD4s</code> will be converted to <code>TRI3s</code>, <code>QUAD8s</code> and <code>QUAD9s</code> will be converted to <code>TRI6s</code>. Returns a std::set containing <a class="el" href="classlibMesh_1_1Node.html" title="A Node is like a Point, but with more information. ">Node</a> IDs for all of the boundary nodes </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00516">516</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__modification_8C_source.html#l00068">libMesh::MeshTools::Modification::distort()</a>, <a class="el" href="mesh__smoother__vsmoother_8C_source.html#l00269">libMesh::VariationalMeshSmoother::readgr()</a>, <a class="el" href="mesh__smoother__laplace_8C_source.html#l00046">libMesh::LaplaceMeshSmoother::smooth()</a> , 以及 <a class="el" href="mesh__modification_8C_source.html#l01182">libMesh::MeshTools::Modification::smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  std::unordered_set&lt;dof_id_type&gt; boundary_nodes;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Loop over elements, find those on boundary, and</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// mark them as true in on_boundary.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : elem-&gt;side_index_range())</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;neighbor_ptr(s) == <span class="keyword">nullptr</span>) <span class="comment">// on the boundary</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          <span class="keyword">auto</span> nodes_on_side = elem-&gt;nodes_on_side(s);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; local_id : nodes_on_side)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            boundary_nodes.insert(elem-&gt;node_ptr(local_id)-&gt;id());</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">return</span> boundary_nodes;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4af5f71eac53f6880054438f56e74414"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::find_hanging_nodes_and_parents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>hanging_nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a mesh hanging_nodes will be filled with an associative array keyed off the global id of all the hanging nodes in the mesh. </p>
<p>It will hold an array of the parents of the node (meaning the two nodes to either side of it that make up the side the hanging node is on. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00911">911</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1Elem.html#a095386c4644b0478229289f281f2f8e4">libMesh::Elem::is_node_on_side()</a>, <a class="el" href="elem_8h_source.html#l02887">libMesh::Elem::level()</a>, <a class="el" href="elem_8h_source.html#l00663">libMesh::Elem::n_neighbors()</a>, <a class="el" href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">libMesh::Elem::n_sides()</a>, <a class="el" href="elem_8h_source.html#l02383">libMesh::Elem::neighbor_ptr()</a>, <a class="el" href="elem_8h_source.html#l02275">libMesh::Elem::node_id()</a>, <a class="el" href="elem_8h_source.html#l02843">libMesh::Elem::parent()</a>, <a class="el" href="enum__elem__type_8h_source.html#l00041">libMesh::QUAD4</a> , 以及 <a class="el" href="elem_8h_source.html#l02732">libMesh::Elem::which_neighbor_am_i()</a>.</p>

<p>参考自 <a class="el" href="mesh__smoother__vsmoother_8C_source.html#l00126">libMesh::VariationalMeshSmoother::smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;{</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="comment">// Loop through all the elements</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : mesh.active_local_element_ptr_range())</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (elem-&gt;type() == <a class="code" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967af4b68709f9e0a488822d3399de3508b1">QUAD4</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : elem-&gt;side_index_range())</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;          <span class="comment">// Loop over the sides looking for sides that have hanging nodes</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;          <span class="comment">// This code is inspired by compute_proj_constraints()</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * neigh = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">neighbor_ptr</a>(s);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          <span class="comment">// If not a boundary side</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;          <span class="keywordflow">if</span> (neigh != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;              <span class="comment">// Is there a coarser element next to this one?</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;              <span class="keywordflow">if</span> (neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">level</a>() &lt; elem-&gt;level())</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * ancestor = elem;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                  <span class="keywordflow">while</span> (neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">level</a>() &lt; ancestor-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">level</a>())</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    ancestor = ancestor-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s_neigh = neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ad5c780d4c81ecf044e4b864573562d81">which_neighbor_am_i</a>(ancestor);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                  libmesh_assert_less (s_neigh, neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ab55b18d038017d32d3ed94bbe0cdff0c">n_neighbors</a>());</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                  <span class="comment">// Couple of helper uints...</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> local_node1=0;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> local_node2=0;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                  <span class="keywordtype">bool</span> found_in_neighbor = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                  <span class="comment">// Find the two vertices that make up this side</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                  <span class="keywordflow">while</span> (!elem-&gt;is_node_on_side(local_node1++,s)) { }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                  local_node1--;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                  <span class="comment">// Start looking for the second one with the next node</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                  local_node2=local_node1+1;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                  <span class="comment">// Find the other one</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                  <span class="keywordflow">while</span> (!elem-&gt;is_node_on_side(local_node2++,s)) { }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                  local_node2--;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                  <span class="comment">//Pull out their global ids:</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> node1 = elem-&gt;node_id(local_node1);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> node2 = elem-&gt;node_id(local_node2);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                  <span class="comment">// Now find which node is present in the neighbor</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                  <span class="comment">// FIXME This assumes a level one rule!</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                  <span class="comment">// The _other_ one is the hanging node</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                  <span class="comment">// First look for the first one</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                  <span class="comment">// FIXME could be streamlined a bit</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0;n&lt;neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">n_sides</a>();n++)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                    <span class="keywordflow">if</span> (neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">node_id</a>(n) == node1)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                      found_in_neighbor=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> hanging_node=0;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                  <span class="keywordflow">if</span> (!found_in_neighbor)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    hanging_node=node1;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                  <span class="keywordflow">else</span> <span class="comment">// If it wasn&#39;t node1 then it must be node2!</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    hanging_node=node2;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                  <span class="comment">// Reset for reuse</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                  local_node1=0;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                  <span class="comment">// Find the first node that makes up the side in the neighbor (these should be the parent nodes)</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                  <span class="keywordflow">while</span> (!neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a095386c4644b0478229289f281f2f8e4">is_node_on_side</a>(local_node1++,s_neigh)) { }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                  local_node1--;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                  local_node2=local_node1+1;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                  <span class="comment">// Find the second node...</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                  <span class="keywordflow">while</span> (!neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a095386c4644b0478229289f281f2f8e4">is_node_on_side</a>(local_node2++,s_neigh)) { }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                  local_node2--;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                  <span class="comment">// Save them if we haven&#39;t already found the parents for this one</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                  <span class="keywordflow">if</span> (hanging_nodes[hanging_node].size()&lt;2)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                      hanging_nodes[hanging_node].push_back(neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">node_id</a>(local_node1));</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                      hanging_nodes[hanging_node].push_back(neigh-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">node_id</a>(local_node2));</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a7cdd994bb4245128f8617b62d7968e35"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">libMesh::Elem::parent</a></div><div class="ttdeci">const Elem * parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02843">elem.h:2843</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ad5c780d4c81ecf044e4b864573562d81"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ad5c780d4c81ecf044e4b864573562d81">libMesh::Elem::which_neighbor_am_i</a></div><div class="ttdeci">unsigned int which_neighbor_am_i(const Elem *e) const </div><div class="ttdoc">This function tells you which neighbor e is. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02732">elem.h:2732</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ab55b18d038017d32d3ed94bbe0cdff0c"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ab55b18d038017d32d3ed94bbe0cdff0c">libMesh::Elem::n_neighbors</a></div><div class="ttdeci">unsigned int n_neighbors() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00663">elem.h:663</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a095386c4644b0478229289f281f2f8e4"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a095386c4644b0478229289f281f2f8e4">libMesh::Elem::is_node_on_side</a></div><div class="ttdeci">virtual bool is_node_on_side(const unsigned int n, const unsigned int s) const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a3f482b3acb4beb528f0ce89f161ff967af4b68709f9e0a488822d3399de3508b1"><div class="ttname"><a href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967af4b68709f9e0a488822d3399de3508b1">libMesh::QUAD4</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__elem__type_8h_source.html#l00041">enum_elem_type.h:41</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3b58ea2b1f0983f12b64ef5d011331a6"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">libMesh::Elem::neighbor_ptr</a></div><div class="ttdeci">const Elem * neighbor_ptr(unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02383">elem.h:2383</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ae376bfa6ac14723330e07a97992b56c9"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">libMesh::Elem::n_sides</a></div><div class="ttdeci">virtual unsigned int n_sides() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a1fa3e8bb1baa330a5037487dbe9304ab"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">libMesh::Elem::level</a></div><div class="ttdeci">unsigned int level() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02887">elem.h:2887</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a792647935b7b7e80b2ddb5aeb4c562f1"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">libMesh::Elem::node_id</a></div><div class="ttdeci">dof_id_type node_id(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02275">elem.h:2275</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28af775ac6c94887b61570603eff70b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::find_nodal_neighbors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; const <a class="el" href="classlibMesh_1_1Node.html">Node</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>neighbors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a mesh and a node in the mesh, the vector will be filled with every node directly attached to the given one. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00888">888</a> 行定义.</p>

<p>参考 <a class="el" href="dof__object_8h_source.html#l00823">libMesh::DofObject::id()</a>.</p>

<p>参考自 <a class="el" href="mesh__subdivision__support_8C_source.html#l00156">libMesh::MeshTools::Subdivision::prepare_subdivision_mesh()</a>, <a class="el" href="mesh__smoother__vsmoother_8C_source.html#l00269">libMesh::VariationalMeshSmoother::readgr()</a>, <a class="el" href="partitioner_8C_source.html#l00656">libMesh::Partitioner::set_interface_node_processor_ids_BFS()</a> , 以及 <a class="el" href="partitioner_8C_source.html#l00737">libMesh::Partitioner::set_interface_node_processor_ids_petscpartitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  find_nodal_neighbors_helper(node.<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>(), nodes_to_elem_map[node.<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>()],</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                              neighbors);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_aeceebf9cd5d53b02df3cd1e9907139e2"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">libMesh::DofObject::id</a></div><div class="ttdeci">dof_id_type id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00823">dof_object.h:823</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83e7a09f73a5bb187d3b422ac8727adc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::find_nodal_neighbors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Node.html">Node</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>, std::vector&lt; const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> * &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes_to_elem_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; const <a class="el" href="classlibMesh_1_1Node.html">Node</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>neighbors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a mesh and a node in the mesh, the vector will be filled with every node directly attached to the given one. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00899">899</a> 行定义.</p>

<p>参考 <a class="el" href="dof__object_8h_source.html#l00823">libMesh::DofObject::id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;{</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keyword">const</span> std::vector&lt;const Elem *&gt; node_to_elem_vec =</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    libmesh_map_find(nodes_to_elem_map, node.<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>());</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  find_nodal_neighbors_helper(node.<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>(), node_to_elem_vec, neighbors);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_aeceebf9cd5d53b02df3cd1e9907139e2"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">libMesh::DofObject::id</a></div><div class="ttdeci">dof_id_type id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00823">dof_object.h:823</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99126066dddf7030aa896e4a38eb401e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::get_not_subactive_node_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>not_subactive_node_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a set of node IDs for nodes which belong to non-subactive elements. </p>
<p>Non-subactive elements are those which are either active or inactive. This is useful for determining which nodes should be written to a data file, and is used by the XDA mesh writing methods. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00839">839</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;{</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">if</span> (!elem-&gt;subactive())</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; n : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        not_subactive_node_ids.insert(n.id());</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acce020f2d0393684ba04d847d6eaded0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_canonical_node_procids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that processor assignment of nodes matches the heuristic specified in <a class="el" href="classlibMesh_1_1Node.html#ae861c71635f1e57481c17ce9f977c058" title="Return which of pid1 and pid2 would be preferred by the current load-balancing heuristic applied to t...">Node::choose_processor_id()</a> </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01403">1403</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;{</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      libmesh_assert_equal_to</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        (node.processor_id(),</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;         node.choose_processor_id(node.processor_id(),</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                  elem-&gt;processor_id()));</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9fd13c86f9d33239f274d21eb921cc33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_connected_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that all nodes are connected to at least one element. </p>
<p>This will fail in the most general case. When <a class="el" href="classlibMesh_1_1DistributedMesh.html" title="The DistributedMesh class is derived from the MeshBase class, and is intended to provide identical fu...">DistributedMesh</a> and <a class="el" href="classlibMesh_1_1NodeConstraints.html" title="The Node constraint storage format. ">NodeConstraints</a> are enabled, we expect the possibility that a processor will be given remote nodes to satisfy node constraints without also being given the remote elements connected to those nodes. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01511">1511</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;{</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_connected_nodes()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  std::set&lt;const Node *&gt; used_nodes;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; n : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        used_nodes.insert(&amp;n);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(used_nodes.count(node));</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add3eca5e0f2cfcf6ff00e83c2c5fab33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_consistent_distributed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that distribution of dof objects is parallel consistent (every processor can see every node or element it owns) </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01783">1783</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;{</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_elem_id);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_elem_id; ++i)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid =</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        elem ? elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() : DofObject::invalid_processor_id;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(pid);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem || pid != mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>());</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_node_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>();</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_node_id);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_node_id; ++i)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">query_node_ptr</a>(i);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid =</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        node ? node-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() : DofObject::invalid_processor_id;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(pid);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node || pid != mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>());</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a88d3228c36aa7b481f0f5d77f95bd021"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr</a></div><div class="ttdeci">virtual const Node * query_node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4bb797a6e5711258c9fb473540b7526"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_consistent_distributed_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that distribution of nodes is parallel consistent (every processor can see every node it owns) even before node ids have been made consistent. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01813">1813</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l00858">n_nodes()</a>, <a class="el" href="elem_8h_source.html#l02307">libMesh::Elem::node_ptr()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a> , 以及 <a class="el" href="mesh__base_8C_source.html#l01558">libMesh::MeshBase::sub_point_locator()</a>.</p>
<div class="fragment"><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;{</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  <span class="keyword">auto</span> locator = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a5057a11d4b30ab7757a76ac3c7e3017b">sub_point_locator</a>();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_elem_id);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_elem_id; ++i)</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_nodes = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">n_nodes</a>() : 0;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a> = my_n_nodes;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_nodes);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;      <span class="keywordflow">if</span> (n_nodes)</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify(elem ? &amp;my_n_nodes : <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0; n != <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a>; ++n)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;          <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">node_ptr</a>(n) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;          <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid =</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            node ? node-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() : DofObject::invalid_processor_id;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(pid);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node || pid != mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>());</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a5057a11d4b30ab7757a76ac3c7e3017b"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a5057a11d4b30ab7757a76ac3c7e3017b">libMesh::MeshBase::sub_point_locator</a></div><div class="ttdeci">std::unique_ptr&lt; PointLocatorBase &gt; sub_point_locator() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8C_source.html#l01558">mesh_base.C:1558</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="tecplot__io_8C_html_ae4aba5fa8c8579c6576b4f087aefb091"><div class="ttname"><a href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a></div><div class="ttdeci">const dof_id_type n_nodes</div><div class="ttdef"><b>Definition:</b> <a href="tecplot__io_8C_source.html#l00067">tecplot_io.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a8af3280d9eb50ef05f43ceea5bcb8cf8"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">libMesh::Elem::node_ptr</a></div><div class="ttdeci">const Node * node_ptr(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02307">elem.h:2307</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3a1e00b1906b0f6cf0cc1760c9a7da1f"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes</a></div><div class="ttdeci">virtual unsigned int n_nodes() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81fea1e3771b1dab2bd92b59a4c121e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_contiguous_dof_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sysnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that degree of freedom indexes are contiguous on each processor, as is required by <a class="el" href="namespacelibMesh.html" title="The libMesh namespace provides an interface to certain functionality in the library. ">libMesh</a> numeric classes. </p>
<p>Verify a particular system by specifying that system's number. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01266">1266</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a> , 以及 <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;{</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_contiguous_dof_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> min_dof_id = std::numeric_limits&lt;dof_id_type&gt;::max(),</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;              max_dof_id = std::numeric_limits&lt;dof_id_type&gt;::min();</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <span class="comment">// Figure out what our local dof id range is</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> * node : mesh.local_node_ptr_range())</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_vars(sysnum)))</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sysnum, v)))</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <span class="keywordtype">id</span> = node-&gt;dof_number(sysnum, v, c);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            min_dof_id = std::min (min_dof_id, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            max_dof_id = std::max (max_dof_id, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// Make sure no other processors&#39; ids are inside it</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> * node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keywordflow">if</span> (node-&gt;processor_id() == mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_vars(sysnum)))</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sysnum, v)))</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;          {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <span class="keywordtype">id</span> = node-&gt;dof_number(sysnum, v, c);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (<span class="keywordtype">id</span> &lt; min_dof_id ||</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                            <span class="keywordtype">id</span> &gt; max_dof_id);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0112fef358e38b3c86584b2d7b0d19b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_equal_connectivity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for testing that element nodal connectivities match across processors. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01490">1490</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="elem_8h_source.html#l02275">libMesh::Elem::node_id()</a>, <a class="el" href="elem_8h_source.html#l02468">libMesh::Elem::node_index_range()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication__global__indices_8C_source.html#l00204">libMesh::MeshCommunication::assign_global_indices()</a>.</p>
<div class="fragment"><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;{</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_equal_connectivity()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_elem_id; ++i)</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * e = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      std::vector&lt;dof_id_type&gt; nodes;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span> (e)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : e-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a378ee859a4f57fd3271eac12b07e71e7">node_index_range</a>())</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;          nodes.push_back(e-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">node_id</a>(n));</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify(e ? &amp;nodes : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a378ee859a4f57fd3271eac12b07e71e7"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a378ee859a4f57fd3271eac12b07e71e7">libMesh::Elem::node_index_range</a></div><div class="ttdeci">IntRange&lt; unsigned short &gt; node_index_range() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02468">elem.h:2468</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a792647935b7b7e80b2ddb5aeb4c562f1"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a792647935b7b7e80b2ddb5aeb4c562f1">libMesh::Elem::node_id</a></div><div class="ttdeci">dof_id_type node_id(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02275">elem.h:2275</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf8fe11f9db875ae84c296f727cda068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_equal_n_systems </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following functions, only available in builds with NDEBUG undefined, are for asserting internal consistency that we hope should never be broken in opt. </p>
<p>A function for testing that all DofObjects within a mesh have the same n_systems count </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01064">1064</a> 行定义.</p>

<p>参考 <a class="el" href="libmesh_8h_source.html#l00254">libMesh::invalid_uint</a>.</p>
<div class="fragment"><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_equal_n_systems()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_sys = <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">if</span> (n_sys == <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        n_sys = elem-&gt;n_systems();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        libmesh_assert_equal_to (elem-&gt;n_systems(), n_sys);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordflow">if</span> (n_sys == <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        n_sys = node-&gt;n_systems();</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        libmesh_assert_equal_to (node-&gt;n_systems(), n_sys);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a5588f6411946120c9d917450ab73e2e2"><div class="ttname"><a href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a></div><div class="ttdeci">const unsigned int invalid_uint</div><div class="ttdoc">A number which is used quite often to represent an invalid or uninitialized value for an unsigned int...</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8h_source.html#l00254">libmesh.h:254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5fce194403991f405f2b78b267251ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_equal_points </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for testing that node locations match across processors. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01474">1474</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication__global__indices_8C_source.html#l00204">libMesh::MeshCommunication::assign_global_indices()</a>.</p>
<div class="fragment"><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;{</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_equal_points()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_node_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_node_id);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_node_id; ++i)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Point.html">Point</a> * p = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">query_node_ptr</a>(i);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify(p);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a88d3228c36aa7b481f0f5d77f95bd021"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr</a></div><div class="ttdeci">virtual const Node * query_node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1Point_html"><div class="ttname"><a href="classlibMesh_1_1Point.html">libMesh::Point</a></div><div class="ttdoc">A Point defines a location in LIBMESH_DIM dimensional Real space. </div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8caf167bf36aeb0045b7736345f26da2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_no_links_to_elem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *&#160;</td>
          <td class="paramname"><em>bad_elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following functions, only available in builds with DEBUG defined, typically have surprisingly slow asymptotic behavior, and so are unsuitable for use even with METHOD=devel. </p>
<p>A function for verifying that an element has been cut off from the rest of the mesh </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01455">1455</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;{</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      libmesh_assert_not_equal_to (elem-&gt;parent(), bad_elem);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : elem-&gt;neighbor_ptr_range())</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        libmesh_assert_not_equal_to (n, bad_elem);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="preprocessor"></span>      <span class="keywordflow">if</span> (elem-&gt;has_children())</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; child : elem-&gt;child_ref_range())</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;          libmesh_assert_not_equal_to (&amp;child, bad_elem);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bcb48d2a4a684b625f2a21e733cbfc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_old_dof_objects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for testing that all non-recently-created DofObjects within a mesh have old_dof_object data. </p>
<p>This is not expected to be true at all points within a simulation code. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01090">1090</a> 行定义.</p>

<p>参考 <a class="el" href="elem_8h_source.html#l01286">libMesh::Elem::INACTIVE</a>, <a class="el" href="elem_8h_source.html#l01284">libMesh::Elem::JUST_REFINED</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_old_dof_objects()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;refinement_flag() == Elem::JUST_REFINED ||</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;          elem-&gt;refinement_flag() == Elem::INACTIVE)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;has_dofs())</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem-&gt;get_old_dof_object());</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">if</span> (node.has_dofs())</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node.get_old_dof_object());</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2699035cfb89b82a96bac61ad9ae291f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_parallel_consistent_new_node_procids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that processor assignment is parallel consistent (every processor agrees on the processor id of each node it can see) even on nodes which have not yet received consistent <a class="el" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">DofObject::id()</a>, using element topology to identify matching nodes. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01894">1894</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l00858">n_nodes()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="elem_8h_source.html#l02307">libMesh::Elem::node_ptr()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01814">libMesh::MeshCommunication::make_new_node_proc_ids_parallel_consistent()</a>.</p>
<div class="fragment"><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;{</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_parallel_consistent_new_node_procids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="comment">// We want this test to hit every node when called even after nodes</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;  <span class="comment">// have been added asynchronously but before everything has been</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <span class="comment">// renumbered.</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_elem_id);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  std::vector&lt;bool&gt; elem_touched_by_anyone(parallel_max_elem_id, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_elem_id; ++i)</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_nodes = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">n_nodes</a>() : 0;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a> = my_n_nodes;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_nodes);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">if</span> (n_nodes)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify(elem ? &amp;my_n_nodes : <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0; n != <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a>; ++n)</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        {</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;          <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">node_ptr</a>(n) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid = node ? node-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() : 0;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify (node ? &amp;pid : <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="tecplot__io_8C_html_ae4aba5fa8c8579c6576b4f087aefb091"><div class="ttname"><a href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a></div><div class="ttdeci">const dof_id_type n_nodes</div><div class="ttdef"><b>Definition:</b> <a href="tecplot__io_8C_source.html#l00067">tecplot_io.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a8af3280d9eb50ef05f43ceea5bcb8cf8"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">libMesh::Elem::node_ptr</a></div><div class="ttdeci">const Node * node_ptr(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02307">elem.h:2307</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3a1e00b1906b0f6cf0cc1760c9a7da1f"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes</a></div><div class="ttdeci">virtual unsigned int n_nodes() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7804ed8dc2b0769c2511407d499ec91f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DofObjectSubclass &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_parallel_consistent_procids </td>
          <td>(</td>
          <td class="paramtype">const MeshBase &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that processor assignment is parallel consistent (every processor agrees on the processor id of each dof object it can see) </p>

</div>
</div>
<a class="anchor" id="a98260562ab7d1c463a0fcb69422439d3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespacelibMesh_1_1MeshTools.html#a7804ed8dc2b0769c2511407d499ec91f">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids</a>&lt; <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01846">1846</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;{</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_parallel_consistent_procids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="comment">// Some code (looking at you, stitch_meshes) modifies DofObject ids</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <span class="comment">// without keeping max_elem_id()/max_node_id() consistent, but</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="comment">// that&#39;s done in a safe way for performance reasons, so we&#39;ll play</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="comment">// along and just figure out new max ids ourselves.</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_elem_id = 0;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    parallel_max_elem_id = std::max&lt;dof_id_type&gt;(parallel_max_elem_id,</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                                                 elem-&gt;id()+1);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_elem_id);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// Check processor ids for consistency between processors</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_elem_id; ++i)</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> min_id =</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        elem ? elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() :</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        std::numeric_limits&lt;processor_id_type&gt;::max();</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(min_id);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> max_id =</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        elem ? elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() :</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        std::numeric_limits&lt;processor_id_type&gt;::min();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(max_id);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;          libmesh_assert_equal_to (min_id, elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>());</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;          libmesh_assert_equal_to (max_id, elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>());</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        }</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <span class="keywordflow">if</span> (min_id == mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa9230889a01ee0f9489a3d3eb4d70c2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespacelibMesh_1_1MeshTools.html#a7804ed8dc2b0769c2511407d499ec91f">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids</a>&lt; <a class="el" href="classlibMesh_1_1Node.html">Node</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01932">1932</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l02222">correct_node_proc_ids()</a> , 以及 <a class="el" href="mesh__communication_8C_source.html#l01814">libMesh::MeshCommunication::make_new_node_proc_ids_parallel_consistent()</a>.</p>
<div class="fragment"><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;{</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_parallel_consistent_procids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="comment">// We want this test to be valid even when called even after nodes</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="comment">// have been added asynchronously but before they&#39;re renumbered</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="comment">// Plus, some code (looking at you, stitch_meshes) modifies</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">// DofObject ids without keeping max_elem_id()/max_node_id()</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="comment">// consistent, but that&#39;s done in a safe way for performance</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">// reasons, so we&#39;ll play along and just figure out new max ids</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">// ourselves.</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_node_id = 0;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    parallel_max_node_id = std::max&lt;dof_id_type&gt;(parallel_max_node_id,</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                                                 node-&gt;id()+1);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_node_id);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  std::vector&lt;bool&gt; node_touched_by_anyone(parallel_max_node_id, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.local_elements_begin(),</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                                    mesh.local_elements_end()))</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;          <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> nodeid = node.id();</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;          node_touched_by_anyone[nodeid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(node_touched_by_anyone);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="comment">// Check processor ids for consistency between processors</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="comment">// on any node an element touches</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != parallel_max_node_id; ++i)</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      <span class="keywordflow">if</span> (!node_touched_by_anyone[i])</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">query_node_ptr</a>(i);</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> pid = node ? node-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() : 0;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify (node ? &amp;pid : <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a88d3228c36aa7b481f0f5d77f95bd021"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr</a></div><div class="ttdeci">virtual const Node * query_node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b15cb753de3bd85a46b6ba16d922ed3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DofObjectSubclass &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_topology_consistent_procids </td>
          <td>(</td>
          <td class="paramtype">const MeshBase &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that processor assignment is topologically consistent on nodes (each node part of an active element on its processor) or elements (each parent has the processor id of one of its children). </p>

</div>
</div>
<a class="anchor" id="a8d8d32bf41517415fbf8f45dcd1df088"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespacelibMesh_1_1MeshTools.html#a1b15cb753de3bd85a46b6ba16d922ed3">libMesh::MeshTools::libmesh_assert_topology_consistent_procids</a>&lt; <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01308">1308</a> 行定义.</p>

<p>参考 <a class="el" href="elem_8h_source.html#l02164">libMesh::Elem::child_ref_range()</a>, <a class="el" href="elem_8h_source.html#l02792">libMesh::Elem::has_children()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="libmesh__common_8h_source.html#l00516">libMesh::libmesh_ignore()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="elem_8h_source.html#l02843">libMesh::Elem::parent()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a> , 以及 <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a>.</p>
<div class="fragment"><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;{</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_topology_consistent_procids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="comment">// This parameter is not used when !LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libmesh_ignore</a>(mesh);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// If we&#39;re adaptively refining, check processor ids for consistency</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// between parents and children.</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// Ancestor elements we won&#39;t worry about, but subactive and active</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// elements ought to have parents with consistent processor ids</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">if</span> (!elem-&gt;active() &amp;&amp; !elem-&gt;subactive())</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * parent = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>();</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">if</span> (parent)</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(parent-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ac6316ca5f7b962a8a806ac385d6c0236">has_children</a>());</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;          <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> parent_procid = parent-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;          <span class="keywordtype">bool</span> matching_child_id = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;          <span class="comment">// If we&#39;ve got a remote_elem then we don&#39;t know whether</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;          <span class="comment">// it&#39;s responsible for the parent&#39;s processor id; all</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          <span class="comment">// we can do is assume it is and let its processor fail</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          <span class="comment">// an assert if there&#39;s something wrong.</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; child : parent-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a9679723bb43c2f9264e22351467c9655">child_ref_range</a>())</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">if</span> (&amp;child == <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a> ||</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                child.<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() == parent_procid)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;              matching_child_id = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(matching_child_id);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ac6316ca5f7b962a8a806ac385d6c0236"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ac6316ca5f7b962a8a806ac385d6c0236">libMesh::Elem::has_children</a></div><div class="ttdeci">bool has_children() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02792">elem.h:2792</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a7cdd994bb4245128f8617b62d7968e35"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">libMesh::Elem::parent</a></div><div class="ttdeci">const Elem * parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02843">elem.h:2843</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a9679723bb43c2f9264e22351467c9655"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a9679723bb43c2f9264e22351467c9655">libMesh::Elem::child_ref_range</a></div><div class="ttdeci">SimpleRange&lt; ChildRefIter &gt; child_ref_range()</div><div class="ttdoc">Returns a range with all children of a parent element, usable in range-based for loops. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02164">elem.h:2164</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a43f45640aab1af26176e69592c666432"><div class="ttname"><a href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libMesh::libmesh_ignore</a></div><div class="ttdeci">void libmesh_ignore(const Args &amp;...)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00516">libmesh_common.h:516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7fa726589463cf24cee5f9f3c140ba0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="namespacelibMesh_1_1MeshTools.html#a1b15cb753de3bd85a46b6ba16d922ed3">libMesh::MeshTools::libmesh_assert_topology_consistent_procids</a>&lt; <a class="el" href="classlibMesh_1_1Node.html">Node</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01352">1352</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a> , 以及 <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01562">libMesh::MeshCommunication::make_node_ids_parallel_consistent()</a>.</p>
<div class="fragment"><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;{</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_topology_consistent_procids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// We want this test to be valid even when called after nodes have</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="comment">// been added asynchronously but before they&#39;re renumbered.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="comment">// Plus, some code (looking at you, stitch_meshes) modifies</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">// DofObject ids without keeping max_elem_id()/max_node_id()</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// consistent, but that&#39;s done in a safe way for performance</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">// reasons, so we&#39;ll play along and just figure out new max ids</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">// ourselves.</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> parallel_max_node_id = 0;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    parallel_max_node_id = std::max&lt;dof_id_type&gt;(parallel_max_node_id,</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                                 node-&gt;id()+1);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(parallel_max_node_id);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  std::vector&lt;bool&gt; node_touched_by_me(parallel_max_node_id, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.local_elements_begin(),</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                                    mesh.local_elements_end()))</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : elem-&gt;node_ref_range())</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> nodeid = node.id();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          node_touched_by_me[nodeid] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  std::vector&lt;bool&gt; node_touched_by_anyone(node_touched_by_me);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(node_touched_by_anyone);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.local_node_ptr_range())</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> nodeid = node-&gt;id();</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!node_touched_by_anyone[nodeid] ||</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                     node_touched_by_me[nodeid]);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5ce2d5d43e46b7cdcbe431cb10621fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_amr_elem_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that ids of elements are correctly sorted for AMR (parents have lower ids than children) </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01193">1193</a> 行定义.</p>

<p>参考 <a class="el" href="dof__object_8h_source.html#l00823">libMesh::DofObject::id()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="elem_8h_source.html#l02843">libMesh::Elem::parent()</a> , 以及 <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>.</p>

<p>参考自 <a class="el" href="unstructured__mesh_8C_source.html#l00311">libMesh::UnstructuredMesh::copy_nodes_and_elements()</a>.</p>
<div class="fragment"><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_amr_elem_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * parent = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">if</span> (parent)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          libmesh_assert_greater_equal (elem-&gt;id(), parent-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>());</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;          libmesh_assert_greater_equal (elem-&gt;processor_id(), parent-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>());</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a7cdd994bb4245128f8617b62d7968e35"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">libMesh::Elem::parent</a></div><div class="ttdeci">const Elem * parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02843">elem.h:2843</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_aeceebf9cd5d53b02df3cd1e9907139e2"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">libMesh::DofObject::id</a></div><div class="ttdeci">dof_id_type id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00823">dof_object.h:823</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ea40fdf53f49b480d2129c39512a807"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_amr_interior_parents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that any interior_parent pointers on elements are consistent with AMR (parents' interior_parents are interior_parents' parents) </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01213">1213</a> 行定义.</p>

<p>参考 <a class="el" href="elem_8C_source.html#l00993">libMesh::Elem::interior_parent()</a>, <a class="el" href="elem_8h_source.html#l02887">libMesh::Elem::level()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="elem_8h_source.html#l02843">libMesh::Elem::parent()</a>, <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a> , 以及 <a class="el" href="elem_8h_source.html#l02869">libMesh::Elem::top_parent()</a>.</p>

<p>参考自 <a class="el" href="unstructured__mesh_8C_source.html#l00530">libMesh::UnstructuredMesh::find_neighbors()</a>.</p>
<div class="fragment"><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;{</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_amr_interior_parents()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="comment">// We can skip to the next element if we&#39;re full-dimension</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="comment">// and therefore don&#39;t have any interior parents</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;dim() &gt;= LIBMESH_DIM)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * ip = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a71acd72e0de11af46af5dc7409d83951">interior_parent</a>();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * parent = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">if</span> (ip &amp;&amp; (ip != <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>) &amp;&amp; parent)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;          libmesh_assert_equal_to (ip-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1f984d3d93fbef517316356f80fa2c1d">top_parent</a>(),</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                   elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1f984d3d93fbef517316356f80fa2c1d">top_parent</a>()-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a71acd72e0de11af46af5dc7409d83951">interior_parent</a>());</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;          <span class="keywordflow">if</span> (ip-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">level</a>() == elem-&gt;level())</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            libmesh_assert_equal_to (ip-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>(),</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                     parent-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a71acd72e0de11af46af5dc7409d83951">interior_parent</a>());</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;              libmesh_assert_less (ip-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">level</a>(), elem-&gt;level());</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;              libmesh_assert_equal_to (ip, parent-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a71acd72e0de11af46af5dc7409d83951">interior_parent</a>());</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a7cdd994bb4245128f8617b62d7968e35"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">libMesh::Elem::parent</a></div><div class="ttdeci">const Elem * parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02843">elem.h:2843</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a71acd72e0de11af46af5dc7409d83951"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a71acd72e0de11af46af5dc7409d83951">libMesh::Elem::interior_parent</a></div><div class="ttdeci">const Elem * interior_parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8C_source.html#l00993">elem.C:993</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a1fa3e8bb1baa330a5037487dbe9304ab"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a1fa3e8bb1baa330a5037487dbe9304ab">libMesh::Elem::level</a></div><div class="ttdeci">unsigned int level() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02887">elem.h:2887</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a1f984d3d93fbef517316356f80fa2c1d"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a1f984d3d93fbef517316356f80fa2c1d">libMesh::Elem::top_parent</a></div><div class="ttdeci">const Elem * top_parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02869">elem.h:2869</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a476a638ff65585743af92b95078df8ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_boundary_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that boundary condition ids match across processors. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01534">1534</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="mesh__base_8h_source.html#l00155">libMesh::MeshBase::get_boundary_info()</a>, <a class="el" href="boundary__info_8h_source.html#l00894">libMesh::BoundaryInfo::invalid_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1Elem.html#adde1fccc9a1fc4b43485629cb6c4062b">libMesh::Elem::n_edges()</a>, <a class="el" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l00858">n_nodes()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">libMesh::Elem::n_sides()</a>, <a class="el" href="elem_8h_source.html#l02307">libMesh::Elem::node_ptr()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a>.</p>

<p>参考自 <a class="el" href="dof__map__constraints_8C_source.html#l01736">libMesh::DofMap::create_dof_constraints()</a> , 以及 <a class="el" href="mesh__base_8C_source.html#l00740">libMesh::MeshBase::prepare_for_use()</a>.</p>
<div class="fragment"><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;{</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_boundary_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1BoundaryInfo.html">BoundaryInfo</a> &amp; boundary_info = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#addbb2d78b5c3d5666c68b4b16514638b">get_boundary_info</a>();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_elem_id; ++i)</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_nodes = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">n_nodes</a>() : 0;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_edges = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#adde1fccc9a1fc4b43485629cb6c4062b">n_edges</a>() : 0;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_sides = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">n_sides</a>() : 0;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a> = my_n_nodes,</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        n_edges = my_n_edges,</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        n_sides = my_n_sides;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_nodes);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_edges);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_sides);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;          libmesh_assert_equal_to(my_n_nodes, n_nodes);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          libmesh_assert_equal_to(my_n_edges, n_edges);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;          libmesh_assert_equal_to(my_n_sides, n_sides);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="comment">// Let&#39;s test all IDs on the element with one communication</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="comment">// rather than n_nodes + n_edges + n_sides communications, to</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <span class="comment">// cut down on latency in dbg modes.</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      std::vector&lt;boundary_id_type&gt; all_bcids;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n=0; n != <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a>; ++n)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;          std::vector&lt;boundary_id_type&gt; bcids;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            {</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;              boundary_info.boundary_ids(elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">node_ptr</a>(n), bcids);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;          all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                           bcids.end());</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;          <span class="comment">// Separator</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;          all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> e=0; e != n_edges; ++e)</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          std::vector&lt;boundary_id_type&gt; bcids;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;              boundary_info.edge_boundary_ids(elem, e, bcids);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;          all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                           bcids.end());</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;          <span class="comment">// Separator</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;          all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;              boundary_info.raw_edge_boundary_ids(elem, e, bcids);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;              all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                               bcids.end());</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;              <span class="comment">// Separator</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;              all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> s=0; s != n_sides; ++s)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;          std::vector&lt;boundary_id_type&gt; bcids;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;              boundary_info.boundary_ids(elem, s, bcids);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;              all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                               bcids.end());</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;              <span class="comment">// Separator</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;              all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            }</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;              boundary_info.raw_boundary_ids(elem, s, bcids);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;              all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                               bcids.end());</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;              <span class="comment">// Separator</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;              all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> sf=0; sf != 2; ++sf)</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;          std::vector&lt;boundary_id_type&gt; bcids;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;              boundary_info.shellface_boundary_ids(elem, sf, bcids);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;              all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                               bcids.end());</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;              <span class="comment">// Separator</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;              all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;          <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;              boundary_info.raw_shellface_boundary_ids(elem, sf, bcids);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;              <span class="comment">// Ordering of boundary ids shouldn&#39;t matter</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;              std::sort(bcids.begin(), bcids.end());</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;              all_bcids.insert(all_bcids.end(), bcids.begin(),</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                               bcids.end());</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;              <span class="comment">// Separator</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;              all_bcids.push_back(BoundaryInfo::invalid_id);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;          <span class="comment">// libmesh_assert(mesh.comm().semiverify (elem ? &amp;bcids : nullptr));</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                     (elem ? &amp;all_bcids : <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_addbb2d78b5c3d5666c68b4b16514638b"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#addbb2d78b5c3d5666c68b4b16514638b">libMesh::MeshBase::get_boundary_info</a></div><div class="ttdeci">const BoundaryInfo &amp; get_boundary_info() const </div><div class="ttdoc">The information about boundary ids on the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00155">mesh_base.h:155</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="tecplot__io_8C_html_ae4aba5fa8c8579c6576b4f087aefb091"><div class="ttname"><a href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a></div><div class="ttdeci">const dof_id_type n_nodes</div><div class="ttdef"><b>Definition:</b> <a href="tecplot__io_8C_source.html#l00067">tecplot_io.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a8af3280d9eb50ef05f43ceea5bcb8cf8"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a8af3280d9eb50ef05f43ceea5bcb8cf8">libMesh::Elem::node_ptr</a></div><div class="ttdeci">const Node * node_ptr(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02307">elem.h:2307</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3a1e00b1906b0f6cf0cc1760c9a7da1f"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3a1e00b1906b0f6cf0cc1760c9a7da1f">libMesh::Elem::n_nodes</a></div><div class="ttdeci">virtual unsigned int n_nodes() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1BoundaryInfo_html"><div class="ttname"><a href="classlibMesh_1_1BoundaryInfo.html">libMesh::BoundaryInfo</a></div><div class="ttdoc">The BoundaryInfo class contains information relevant to boundary conditions including storing faces...</div><div class="ttdef"><b>Definition:</b> <a href="boundary__info_8h_source.html#l00057">boundary_info.h:57</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_adde1fccc9a1fc4b43485629cb6c4062b"><div class="ttname"><a href="classlibMesh_1_1Elem.html#adde1fccc9a1fc4b43485629cb6c4062b">libMesh::Elem::n_edges</a></div><div class="ttdeci">virtual unsigned int n_edges() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ae376bfa6ac14723330e07a97992b56c9"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ae376bfa6ac14723330e07a97992b56c9">libMesh::Elem::n_sides</a></div><div class="ttdeci">virtual unsigned int n_sides() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abca9e4c2c0ab99ae140ccd0212671792"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_constraint_rows </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that all mesh constraint rows express relations between nodes and elements that are semilocal (local or ghosted) to the current processor's portion of the mesh. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01249">1249</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1MeshBase.html#a429c4ffe9f54dbb58c38fa7f73800abd">libMesh::MeshBase::elem_ptr()</a>, <a class="el" href="mesh__base_8h_source.html#l01673">libMesh::MeshBase::get_constraint_rows()</a>, <a class="el" href="dof__object_8h_source.html#l00823">libMesh::DofObject::id()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#abc2fd76e7bf6c200f5e8849dfca9cd03">libMesh::MeshBase::node_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01976">libMesh::MeshCommunication::delete_remote_elements()</a>.</p>
<div class="fragment"><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;{</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; row : mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a988e7456320f55e731dc8e4bb9373ea3">get_constraint_rows</a>())</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = row.first;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node == mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#abc2fd76e7bf6c200f5e8849dfca9cd03">node_ptr</a>(node-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>()));</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; pr : row.second)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;          <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * spline_elem = pr.first.first;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(spline_elem == mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a429c4ffe9f54dbb58c38fa7f73800abd">elem_ptr</a>(spline_elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>()));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a988e7456320f55e731dc8e4bb9373ea3"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a988e7456320f55e731dc8e4bb9373ea3">libMesh::MeshBase::get_constraint_rows</a></div><div class="ttdeci">constraint_rows_type &amp; get_constraint_rows()</div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l01673">mesh_base.h:1673</a></div></div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a429c4ffe9f54dbb58c38fa7f73800abd"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a429c4ffe9f54dbb58c38fa7f73800abd">libMesh::MeshBase::elem_ptr</a></div><div class="ttdeci">virtual const Elem * elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_abc2fd76e7bf6c200f5e8849dfca9cd03"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#abc2fd76e7bf6c200f5e8849dfca9cd03">libMesh::MeshBase::node_ptr</a></div><div class="ttdeci">virtual const Node * node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_aeceebf9cd5d53b02df3cd1e9907139e2"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">libMesh::DofObject::id</a></div><div class="ttdeci">dof_id_type id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00823">dof_object.h:823</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a570d50de4beddbb36a7aa135faba5d16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_dof_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sysnum</em> = <code><a class="el" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that degree of freedom indexing matches across processors. </p>
<p>Verify a particular system by specifying that system's number, or verify all systems at once by leaving <code>sysnum</code> unspecified. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01704">1704</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr()</a>.</p>

<p>参考自 <a class="el" href="dof__map_8C_source.html#l00927">libMesh::DofMap::distribute_dofs()</a>.</p>
<div class="fragment"><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;{</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_dof_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_elem_id; ++i)</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    assert_semiverify_dofobj(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(),</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                             mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i),</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                             sysnum);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_node_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_node_id);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_node_id; ++i)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    assert_semiverify_dofobj(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(),</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                             mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">query_node_ptr</a>(i),</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                             sysnum);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a88d3228c36aa7b481f0f5d77f95bd021"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr</a></div><div class="ttdeci">virtual const Node * query_node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1968ff1c8ed3fdc7f1c23e6b8ec322f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_elem_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that ids and processor assignment of elements are correctly sorted (monotone increasing) </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01170">1170</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="distributed__mesh_8C_source.html#l01454">libMesh::DistributedMesh::renumber_nodes_and_elements()</a>.</p>
<div class="fragment"><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;{</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_elem_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> lastprocid = 0;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> lastelemid = 0;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> elemprocid = elem-&gt;processor_id();</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> elemid = elem-&gt;id();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      libmesh_assert_greater_equal (elemid, lastelemid);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      libmesh_assert_greater_equal (elemprocid, lastprocid);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      lastelemid = elemid;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      lastprocid = elemprocid;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c59d3e13f4d9f89d41eb66cb043f4ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_neighbors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assert_valid_remote_elems</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that neighbor connectivity is correct (each element is a neighbor of or descendant of a neighbor of its neighbors) and consistent (each neighbor link goes to either the same neighbor or to a <a class="el" href="classlibMesh_1_1RemoteElem.html" title="In parallel meshes where a ghost element has neighbors which do not exist on the local processor...">RemoteElem</a> on each processor) </p>
<p>If assert_valid_remote_elems is set to false, then no error will be thrown for neighbor links where a remote_elem should exist but a nullptr exists instead. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l02034">2034</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00823">libMesh::DofObject::id()</a>, <a class="el" href="dof__object_8h_source.html#l00477">libMesh::DofObject::invalid_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="elem_8h_source.html#l00663">libMesh::Elem::n_neighbors()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="elem_8h_source.html#l02383">libMesh::Elem::neighbor_ptr()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a> , 以及 <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a>.</p>

<p>参考自 <a class="el" href="mesh__refinement_8C_source.html#l01600">libMesh::MeshRefinement::_smooth_flags()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01806">libMesh::DistributedMesh::allgather()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01717">libMesh::DistributedMesh::delete_remote_elements()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l00530">libMesh::UnstructuredMesh::find_neighbors()</a> , 以及 <a class="el" href="unstructured__mesh_8C_source.html#l01786">libMesh::UnstructuredMesh::stitching_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;{</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_neighbors()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    {</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      elem-&gt;libmesh_assert_valid_neighbors();</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_elem_id; ++i)</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> my_n_neigh = elem ? elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#ab55b18d038017d32d3ed94bbe0cdff0c">n_neighbors</a>() : 0;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_neigh = my_n_neigh;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(n_neigh);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="keywordflow">if</span> (elem)</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        libmesh_assert_equal_to (my_n_neigh, n_neigh);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n = 0; n != n_neigh; ++n)</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;          <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> my_neighbor = DofObject::invalid_id;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;          <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> * p_my_neighbor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;          <span class="comment">// If we have a non-remote_elem neighbor link, then we can</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;          <span class="comment">// verify it.</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;          <span class="keywordflow">if</span> (elem &amp;&amp; elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">neighbor_ptr</a>(n) != <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>)</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;              p_my_neighbor = &amp;my_neighbor;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;              <span class="keywordflow">if</span> (elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">neighbor_ptr</a>(n))</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                my_neighbor = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">neighbor_ptr</a>(n)-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">id</a>();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;              <span class="comment">// But wait - if we haven&#39;t set remote_elem links yet then</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;              <span class="comment">// some nullptr links on ghost elements might be</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;              <span class="comment">// future-remote_elem links, so we can&#39;t verify those.</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;              <span class="keywordflow">if</span> (!assert_valid_remote_elems &amp;&amp;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                  !elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">neighbor_ptr</a>(n) &amp;&amp;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                  elem-&gt;<a class="code" href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">processor_id</a>() != mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                p_my_neighbor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().semiverify(p_my_neighbor));</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ab55b18d038017d32d3ed94bbe0cdff0c"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ab55b18d038017d32d3ed94bbe0cdff0c">libMesh::Elem::n_neighbors</a></div><div class="ttdeci">unsigned int n_neighbors() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00663">elem.h:663</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a3b58ea2b1f0983f12b64ef5d011331a6"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a3b58ea2b1f0983f12b64ef5d011331a6">libMesh::Elem::neighbor_ptr</a></div><div class="ttdeci">const Elem * neighbor_ptr(unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02383">elem.h:2383</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_aeceebf9cd5d53b02df3cd1e9907139e2"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#aeceebf9cd5d53b02df3cd1e9907139e2">libMesh::DofObject::id</a></div><div class="ttdeci">dof_id_type id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00823">dof_object.h:823</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_a0e8748b2c01f78902c9c432ad79cf546"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#a0e8748b2c01f78902c9c432ad79cf546">libMesh::DofObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00898">dof_object.h:898</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a059c8ba488323734da1dce1c85cbf8e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_node_pointers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for walking across the mesh to try and ferret out invalidated or misassigned pointers. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01114">1114</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a>.</p>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;{</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_node_pointers()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// Here we specifically do not want &quot;auto &amp;&quot; because we need to</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// reseat the (temporary) pointer variable in the loop below,</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// without modifying the original.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">while</span> (elem)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          elem-&gt;libmesh_assert_valid_node_pointers();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : elem-&gt;neighbor_ptr_range())</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">if</span> (n &amp;&amp; n != <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;              n-&gt;libmesh_assert_valid_node_pointers();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;          libmesh_assert_not_equal_to (elem-&gt;parent(), <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;          elem = elem-&gt;parent();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0ac238b587230fe4feed33c477f2600"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DofObjectSubclass &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_procids </td>
          <td>(</td>
          <td class="paramtype">const MeshBase &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that processor assignment is both parallel and topologically consistent. </p>

<p>在文件 <a class="el" href="mesh__tools_8h_source.html">mesh_tools.h</a> 第 <a class="el" href="mesh__tools_8h_source.html#l00569">569</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  libmesh_assert_parallel_consistent_procids&lt;DofObjectSubclass&gt;(<a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  libmesh_assert_topology_consistent_procids&lt;DofObjectSubclass&gt;(<a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a443c40ad462ac08f08aa00a23b552eb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_refinement_flags </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that refinement flags on elements are consistent between processors. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01987">1987</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a> , 以及 <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>.</p>
<div class="fragment"><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;{</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_refinement_flags()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <span class="keywordflow">if</span> (mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() == 1)</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  std::vector&lt;unsigned char&gt; my_elem_h_state(pmax_elem_id, 255);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  std::vector&lt;unsigned char&gt; my_elem_p_state(pmax_elem_id, 255);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> elemid = elem-&gt;id();</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      my_elem_h_state[elemid] =</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(elem-&gt;refinement_flag());</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      my_elem_p_state[elemid] =</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(elem-&gt;p_refinement_flag());</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  std::vector&lt;unsigned char&gt; min_elem_h_state(my_elem_h_state);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(min_elem_h_state);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  std::vector&lt;unsigned char&gt; min_elem_p_state(my_elem_p_state);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(min_elem_p_state);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i!= pmax_elem_id; ++i)</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(my_elem_h_state[i] == 255 ||</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                     my_elem_h_state[i] == min_elem_h_state[i]);</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(my_elem_p_state[i] == 255 ||</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                     my_elem_p_state[i] == min_elem_p_state[i]);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad394faa2ff745fcf291cb4c03c20ce73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_refinement_tree </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that elements on this processor have valid descendants and consistent active flags. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01416">1416</a> 行定义.</p>

<p>参考 <a class="el" href="elem_8h_source.html#l01284">libMesh::Elem::JUST_REFINED</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01976">libMesh::MeshCommunication::delete_remote_elements()</a> , 以及 <a class="el" href="distributed__mesh_8C_source.html#l01717">libMesh::DistributedMesh::delete_remote_elements()</a>.</p>
<div class="fragment"><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;{</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_refinement_tree()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;has_children())</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; child : elem-&gt;child_ref_range())</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          <span class="keywordflow">if</span> (&amp;child != <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            libmesh_assert_equal_to (child.parent(), elem);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;active())</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!elem-&gt;ancestor());</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!elem-&gt;subactive());</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (elem-&gt;ancestor())</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!elem-&gt;subactive());</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(elem-&gt;subactive());</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;p_refinement_flag() == Elem::JUST_REFINED)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        libmesh_assert_greater(elem-&gt;p_level(), 0);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a553f4980413b774f6ea4c39b18f331af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_remote_elems </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that active local elements' neighbors are never remote elements. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01139">1139</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="elem_8h_source.html#l02843">libMesh::Elem::parent()</a> , 以及 <a class="el" href="remote__elem_8C_source.html#l00054">libMesh::remote_elem</a>.</p>

<p>参考自 <a class="el" href="partitioner_8C_source.html#l00195">libMesh::Partitioner::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;{</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_remote_elems()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.local_elements_begin(),</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                    mesh.local_elements_end()))</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (elem);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="comment">// We currently don&#39;t allow active_local_elements to have</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="comment">// remote_elem neighbors</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;active())</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : elem-&gt;neighbor_ptr_range())</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;          libmesh_assert_not_equal_to (n, <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor"></span>      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * parent = elem-&gt;<a class="code" href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">parent</a>();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <span class="keywordflow">if</span> (parent)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        libmesh_assert_not_equal_to (parent, <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="comment">// We can only be strict about active elements&#39; subactive</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="comment">// children</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="keywordflow">if</span> (elem-&gt;active() &amp;&amp; elem-&gt;has_children())</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; child : elem-&gt;child_ref_range())</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;          libmesh_assert_not_equal_to (&amp;child, <a class="code" href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">remote_elem</a>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a7cdd994bb4245128f8617b62d7968e35"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a7cdd994bb4245128f8617b62d7968e35">libMesh::Elem::parent</a></div><div class="ttdeci">const Elem * parent() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02843">elem.h:2843</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a903992f631b52b5ba05ad96a51e7b383"><div class="ttname"><a href="namespacelibMesh.html#a903992f631b52b5ba05ad96a51e7b383">libMesh::remote_elem</a></div><div class="ttdeci">const RemoteElem * remote_elem</div><div class="ttdef"><b>Definition:</b> <a href="remote__elem_8C_source.html#l00054">remote_elem.C:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a142e1fe334582a7ed6d433def10bf30d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::MeshTools::libmesh_assert_valid_unique_ids </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for verifying that unique ids match across processors. </p>
<p>FIXME: we ought to check for uniqueness too. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01732">1732</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr()</a> , 以及 <a class="el" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr()</a>.</p>

<p>参考自 <a class="el" href="mesh__base_8C_source.html#l00740">libMesh::MeshBase::prepare_for_use()</a>.</p>
<div class="fragment"><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;{</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_unique_ids()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// First collect all the unique_ids we can see and make sure there&#39;s</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// no duplicates</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  std::unordered_set&lt;unique_id_type&gt; semilocal_unique_ids;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> n_semilocal_obj = 0;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp; elem : mesh.active_element_ptr_range())</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (!semilocal_unique_ids.count(elem-&gt;unique_id()));</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      semilocal_unique_ids.insert(elem-&gt;unique_id());</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      ++n_semilocal_obj;</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    }</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp; node : mesh.node_ptr_range())</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (!semilocal_unique_ids.count(node-&gt;unique_id()));</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      semilocal_unique_ids.insert(node-&gt;unique_id());</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      ++n_semilocal_obj;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="comment">// Then make sure elements are all in sync and remote elements don&#39;t</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <span class="comment">// duplicate semilocal</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_elem_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">max_elem_id</a>();</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_elem_id);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_elem_id; ++i)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Elem.html">Elem</a> * elem = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">query_elem_ptr</a>(i);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      assert_dofobj_unique_id(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), elem, semilocal_unique_ids);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// Then make sure nodes are all in sync and remote elements don&#39;t</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// duplicate semilocal</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> pmax_node_id = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">max_node_id</a>();</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(pmax_node_id);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> i=0; i != pmax_node_id; ++i)</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Node.html">Node</a> * node = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">query_node_ptr</a>(i);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      assert_dofobj_unique_id(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), node, semilocal_unique_ids);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Node_html"><div class="ttname"><a href="classlibMesh_1_1Node.html">libMesh::Node</a></div><div class="ttdoc">A Node is like a Point, but with more information. </div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00052">node.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html"><div class="ttname"><a href="classlibMesh_1_1Elem.html">libMesh::Elem</a></div><div class="ttdoc">This is the base class from which all geometric element types are derived. </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l00094">elem.h:94</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a88d3228c36aa7b481f0f5d77f95bd021"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a88d3228c36aa7b481f0f5d77f95bd021">libMesh::MeshBase::query_node_ptr</a></div><div class="ttdeci">virtual const Node * query_node_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a807e5541b5e0608c8847daf6f3ffc1cf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a807e5541b5e0608c8847daf6f3ffc1cf">libMesh::MeshBase::max_elem_id</a></div><div class="ttdeci">virtual dof_id_type max_elem_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a61954736112b225cf323b93f57cd70ed"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a61954736112b225cf323b93f57cd70ed">libMesh::MeshBase::query_elem_ptr</a></div><div class="ttdeci">virtual const Elem * query_elem_ptr(const dof_id_type i) const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a613704304440df6ceafa622096befe68"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a613704304440df6ceafa622096befe68">libMesh::MeshBase::max_node_id</a></div><div class="ttdeci">virtual dof_id_type max_node_id() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57a0ae7fb3cba63f06621d6c701327c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::max_level </td>
          <td>(</td>
          <td class="paramtype">const MeshBase &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the maximum h-refinement level in a mesh. </p>

<p>参考自 <a class="el" href="mesh__refinement_8C_source.html#l00779">libMesh::MeshRefinement::make_coarsening_compatible()</a> , 以及 <a class="el" href="checkpoint__io_8C_source.html#l01450">libMesh::CheckpointIO::n_active_levels_in()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7e2249723548ee73b035229cfc1f52e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::n_active_elem_of_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of active elements of type <code>type</code>.</dd></dl>
<p>Implemented in terms of active_type_element_iterators. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00736">736</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a><span class="keyword">&gt;</span>(std::distance(mesh.active_type_elements_begin(type),</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                                mesh.active_type_elements_end  (type)));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83a95efd16596e9d337f66983328ee8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::n_active_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of levels of refinement in the active mesh.</dd></dl>
<p>Implemented by looping over all the active local elements and finding the maximum level, then taking the max in parallel. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00771">771</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a> , 以及 <a class="el" href="mesh__tools_8C_source.html#l00759">n_active_local_levels()</a>.</p>

<p>参考自 <a class="el" href="xdr__io_8C_source.html#l00330">libMesh::XdrIO::write_serialized_connectivity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;{</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nl = <a class="code" href="namespacelibMesh_1_1MeshTools.html#a4ad92062f806ef59be2bbd73e9705775">n_active_local_levels</a>(mesh);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.unpartitioned_elements_begin(),</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                    mesh.unpartitioned_elements_end()))</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (elem-&gt;active())</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      nl = std::max(elem-&gt;level() + 1, nl);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(nl);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="keywordflow">return</span> nl;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a4ad92062f806ef59be2bbd73e9705775"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a4ad92062f806ef59be2bbd73e9705775">libMesh::MeshTools::n_active_local_levels</a></div><div class="ttdeci">unsigned int n_active_local_levels(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00759">mesh_tools.C:759</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ad92062f806ef59be2bbd73e9705775"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::n_active_local_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of levels of refinement in the active local mesh.</dd></dl>
<p>Implemented by looping over all the active local elements and finding the maximum level. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00759">759</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00771">n_active_levels()</a>.</p>
<div class="fragment"><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nl = 0;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : mesh.active_local_element_ptr_range())</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    nl = std::max(elem-&gt;level() + 1, nl);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">return</span> nl;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20881e0b5de5ef63808dd24d90e70b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::n_elem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__element__iterator.html">MeshBase::const_element_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__element__iterator.html">MeshBase::const_element_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count up the number of elements of a specific type (as defined by an iterator range). </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00850">850</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__subdivision__support_8C_source.html#l00229">libMesh::MeshTools::Subdivision::add_boundary_ghosts()</a>, <a class="el" href="mesh__tools_8C_source.html#l02222">correct_node_proc_ids()</a>, <a class="el" href="partitioner_8C_source.html#l00351">libMesh::Partitioner::partition_unpartitioned_elements()</a>, <a class="el" href="xdr__io_8C_source.html#l01420">libMesh::XdrIO::read()</a>, <a class="el" href="xdr__io_8C_source.html#l01552">libMesh::XdrIO::read_header()</a>, <a class="el" href="dyna__io_8C_source.html#l00177">libMesh::DynaIO::read_mesh()</a>, <a class="el" href="xdr__io_8C_source.html#l01727">libMesh::XdrIO::read_serialized_connectivity()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02165">libMesh::System::read_serialized_vectors()</a>, <a class="el" href="partitioner_8C_source.html#l00851">libMesh::Partitioner::set_node_processor_ids()</a>, <a class="el" href="partitioner_8C_source.html#l00425">libMesh::Partitioner::set_parent_processor_ids()</a>, <a class="el" href="xdr__io_8C_source.html#l00111">libMesh::XdrIO::write()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04303">libMesh::ExodusII_IO_Helper::write_element_values()</a>, <a class="el" href="ucd__io_8C_source.html#l00333">libMesh::UCDIO::write_nodal_data()</a>, <a class="el" href="xdr__io_8C_source.html#l00330">libMesh::XdrIO::write_serialized_connectivity()</a>, <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a> , 以及 <a class="el" href="system__io_8C_source.html#l02259">libMesh::System::write_serialized_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;{</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;dof_id_type&gt;(std::distance(begin, end));</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acfa7c59122e0f7a82f16f77f07331231"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::n_elem_of_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of elements of type <code>type</code>.</dd></dl>
<p>Implemented in terms of type_element_iterators. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00727">727</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a><span class="keyword">&gt;</span>(std::distance(mesh.type_elements_begin(type),</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                                mesh.type_elements_end  (type)));</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae15ece869d4ef3d283edb677942e8439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::n_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of levels of refinement in the mesh.</dd></dl>
<p>Implemented by looping over all the local elements and unpartitioned elements and finding the maximum level, then summing in parallel. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00801">801</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="mesh__tools_8C_source.html#l00788">n_local_levels()</a> , 以及 <a class="el" href="mesh__tools_8C_source.html#l00825">paranoid_n_levels()</a>.</p>

<p>参考自 <a class="el" href="mesh__communication_8C_source.html#l01976">libMesh::MeshCommunication::delete_remote_elements()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l00530">libMesh::UnstructuredMesh::find_neighbors()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l01076">libMesh::PetscDMWrapper::init_dm_data()</a>, <a class="el" href="mesh__modification_8C_source.html#l00189">libMesh::MeshTools::Modification::orient_elements()</a>, <a class="el" href="mesh__modification_8C_source.html#l00149">libMesh::MeshTools::Modification::permute_elements()</a>, <a class="el" href="partitioner_8C_source.html#l00851">libMesh::Partitioner::set_node_processor_ids()</a> , 以及 <a class="el" href="mesh__modification_8C_source.html#l01182">libMesh::MeshTools::Modification::smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;{</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nl = <a class="code" href="namespacelibMesh_1_1MeshTools.html#a86b5b94d1a51d606668a85e6f31af4b6">n_local_levels</a>(mesh);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.unpartitioned_elements_begin(),</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                    mesh.unpartitioned_elements_end()))</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    nl = std::max(elem-&gt;level() + 1, nl);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(nl);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">// n_levels() is only valid and should only be called in cases where</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// the mesh is validly distributed (or serialized).  Let&#39;s run an</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// expensive test in debug mode to make sure this is such a case.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> paranoid_nl = <a class="code" href="namespacelibMesh_1_1MeshTools.html#af3d4096c5ae231904d5c225d05e0b5b6">paranoid_n_levels</a>(mesh);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  libmesh_assert_equal_to(nl, paranoid_nl);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">return</span> nl;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a86b5b94d1a51d606668a85e6f31af4b6"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a86b5b94d1a51d606668a85e6f31af4b6">libMesh::MeshTools::n_local_levels</a></div><div class="ttdeci">unsigned int n_local_levels(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00788">mesh_tools.C:788</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_af3d4096c5ae231904d5c225d05e0b5b6"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#af3d4096c5ae231904d5c225d05e0b5b6">libMesh::MeshTools::paranoid_n_levels</a></div><div class="ttdeci">unsigned int paranoid_n_levels(const MeshBase &amp;mesh)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00825">mesh_tools.C:825</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86b5b94d1a51d606668a85e6f31af4b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::n_local_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of levels of refinement in the local mesh.</dd></dl>
<p>Implemented by looping over all the local elements and finding the maximum level. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00788">788</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00801">n_levels()</a>.</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nl = 0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.local_elements_begin(),</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                    mesh.local_elements_end()))</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    nl = std::max(elem-&gt;level() + 1, nl);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">return</span> nl;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c80534e24b606b4a4e825ab9e9887d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::n_nodes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__node__iterator.html">MeshBase::const_node_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlibMesh_1_1MeshBase_1_1const__node__iterator.html">MeshBase::const_node_iterator</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count up the number of nodes of a specific type (as defined by an iterator range). </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00858">858</a> 行定义.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l01813">libmesh_assert_consistent_distributed_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l01894">libmesh_assert_parallel_consistent_new_node_procids()</a> , 以及 <a class="el" href="mesh__tools_8C_source.html#l01534">libmesh_assert_valid_boundary_ids()</a>.</p>
<div class="fragment"><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;{</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;dof_id_type&gt;(std::distance(begin, end));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a217da6ccf47dd5f231757e18a33aaae3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::n_non_subactive_elem_of_type_at_level </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967">ElemType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of elements of type <code>type</code> at the specified refinement level.</dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00743">743</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> cnt = 0;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="comment">// iterate over the elements of the specified type</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.type_elements_begin(type),</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                                    mesh.type_elements_end(type)))</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">if</span> ((elem-&gt;level() == level) &amp;&amp; !elem-&gt;subactive())</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      cnt++;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">return</span> cnt;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a389d0bd8b56b85fce05a743e8f3bd454"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::n_p_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of p-levels of refinement in the mesh.</dd></dl>
<p>Implemented by looping over all the local elements and finding the maximum p-level, then summing in parallel. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00866">866</a> 行定义.</p>

<p>参考 <a class="el" href="simple__range_8h_source.html#l00057">libMesh::as_range()</a> , 以及 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>.</p>

<p>参考自 <a class="el" href="xdr__io_8C_source.html#l00111">libMesh::XdrIO::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_p_level = 0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// first my local elements</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.local_elements_begin(),</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                    mesh.local_elements_end()))</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    max_p_level = std::max(elem-&gt;p_level(), max_p_level);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="comment">// then any unpartitioned objects</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : <a class="code" href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">as_range</a>(mesh.unpartitioned_elements_begin(),</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                    mesh.unpartitioned_elements_end()))</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    max_p_level = std::max(elem-&gt;p_level(), max_p_level);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(max_p_level);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">return</span> max_p_level + 1;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a6775c045a6c8e84299b5467df9fc81ae"><div class="ttname"><a href="namespacelibMesh.html#a6775c045a6c8e84299b5467df9fc81ae">libMesh::as_range</a></div><div class="ttdeci">SimpleRange&lt; IndexType &gt; as_range(const std::pair&lt; IndexType, IndexType &gt; &amp;p)</div><div class="ttdoc">Helper function that allows us to treat a homogenous pair as a range. </div><div class="ttdef"><b>Definition:</b> <a href="simple__range_8h_source.html#l00057">simple_range.h:57</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3d4096c5ae231904d5c225d05e0b5b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::MeshTools::paranoid_n_levels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of levels of refinement in the mesh, even if that mesh is not currently properly distributed or properly serialized.</dd></dl>
<p>Implemented by looping over all elements and finding the maximum level, then summing in parallel. This is much slower than <a class="el" href="namespacelibMesh_1_1MeshTools.html#ae15ece869d4ef3d283edb677942e8439">n_levels()</a> but will return correct values even when the mesh is in an inconsistent parallel state. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00825">825</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>.</p>

<p>参考自 <a class="el" href="mesh__tools_8C_source.html#l00801">n_levels()</a>.</p>
<div class="fragment"><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;{</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nl = 0;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.element_ptr_range())</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    nl = std::max(elem-&gt;level() + 1, nl);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(nl);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">return</span> nl;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75fbe710c156720dc294b2a46604be7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a> libMesh::MeshTools::processor_bounding_sphere </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A processor bounding sphere instead of a processor bounding box. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00662">662</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__tools_8C_source.html#l00637">create_processor_bounding_box()</a>, <a class="el" href="type__vector_8h_source.html#l00064">std::norm()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>
<div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;{</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> bbox =</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="namespacelibMesh_1_1MeshTools.html#acb1a886ac7ab79ce0ca2fda13eda4594">create_processor_bounding_box</a>(mesh, pid);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>  diag = (bbox.second - bbox.first).<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Point.html">Point</a> cent = (bbox.second + bbox.first)/2;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1Sphere.html">Sphere</a> (cent, .5*diag);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Sphere_html"><div class="ttname"><a href="classlibMesh_1_1Sphere.html">libMesh::Sphere</a></div><div class="ttdoc">This class defines a sphere. </div><div class="ttdef"><b>Definition:</b> <a href="sphere_8h_source.html#l00072">sphere.h:72</a></div></div>
<div class="ttc" id="classlibMesh_1_1BoundingBox_html"><div class="ttname"><a href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a></div><div class="ttdoc">Defines a Cartesian bounding box by the two corner extremum. </div><div class="ttdef"><b>Definition:</b> <a href="bounding__box_8h_source.html#l00040">bounding_box.h:40</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="namespacestd_html_a6e740e64c53e9ae1489f7eee3899c10f"><div class="ttname"><a href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">std::norm</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; norm(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的范数。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00064">type_vector.h:64</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_acb1a886ac7ab79ce0ca2fda13eda4594"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#acb1a886ac7ab79ce0ca2fda13eda4594">libMesh::MeshTools::create_processor_bounding_box</a></div><div class="ttdeci">libMesh::BoundingBox create_processor_bounding_box(const MeshBase &amp;mesh, const processor_id_type pid)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00637">mesh_tools.C:637</a></div></div>
<div class="ttc" id="classlibMesh_1_1Point_html"><div class="ttname"><a href="classlibMesh_1_1Point.html">libMesh::Point</a></div><div class="ttdoc">A Point defines a location in LIBMESH_DIM dimensional Real space. </div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b4ec2068592eca4d6377e5b91de01fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1Sphere.html">Sphere</a> libMesh::MeshTools::subdomain_bounding_sphere </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a>&#160;</td>
          <td class="paramname"><em>sid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A subdomain bounding sphere instead of a subdomain bounding box. </dd></dl>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00701">701</a> 行定义.</p>

<p>参考 <a class="el" href="mesh__tools_8C_source.html#l00677">create_subdomain_bounding_box()</a>, <a class="el" href="type__vector_8h_source.html#l00064">std::norm()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a> bbox =</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="namespacelibMesh_1_1MeshTools.html#a473c73692d2de6bc686906b180b9efce">create_subdomain_bounding_box</a>(mesh, sid);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>  diag = (bbox.second - bbox.first).<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1Point.html">Point</a> cent = (bbox.second + bbox.first)/2;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1Sphere.html">Sphere</a> (cent, .5*diag);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Sphere_html"><div class="ttname"><a href="classlibMesh_1_1Sphere.html">libMesh::Sphere</a></div><div class="ttdoc">This class defines a sphere. </div><div class="ttdef"><b>Definition:</b> <a href="sphere_8h_source.html#l00072">sphere.h:72</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a473c73692d2de6bc686906b180b9efce"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a473c73692d2de6bc686906b180b9efce">libMesh::MeshTools::create_subdomain_bounding_box</a></div><div class="ttdeci">libMesh::BoundingBox create_subdomain_bounding_box(const MeshBase &amp;mesh, const subdomain_id_type sid)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00677">mesh_tools.C:677</a></div></div>
<div class="ttc" id="classlibMesh_1_1BoundingBox_html"><div class="ttname"><a href="classlibMesh_1_1BoundingBox.html">libMesh::BoundingBox</a></div><div class="ttdoc">Defines a Cartesian bounding box by the two corner extremum. </div><div class="ttdef"><b>Definition:</b> <a href="bounding__box_8h_source.html#l00040">bounding_box.h:40</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="namespacestd_html_a6e740e64c53e9ae1489f7eee3899c10f"><div class="ttname"><a href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">std::norm</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; norm(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的范数。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00064">type_vector.h:64</a></div></div>
<div class="ttc" id="classlibMesh_1_1Point_html"><div class="ttname"><a href="classlibMesh_1_1Point.html">libMesh::Point</a></div><div class="ttdoc">A Point defines a location in LIBMESH_DIM dimensional Real space. </div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00039">point.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6da3e3d945f7947934705ddd6f145f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::total_weight </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The sum over all the elements of the number of nodes per element.</dd></dl>
<p>This can be useful for partitioning hybrid meshes. A feasible load balancing scheme is to keep the weight per processor as uniform as possible. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00413">413</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="dof__object_8h_source.html#l00488">libMesh::DofObject::invalid_processor_id</a>, <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a>, <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a> , 以及 <a class="el" href="mesh__tools_8C_source.html#l00436">weight()</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">if</span> (!mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">is_serial</a>())</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      libmesh_parallel_only(mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> <a class="code" href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">weight</a> = <a class="code" href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">MeshTools::weight</a> (mesh, mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>());</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      mesh.<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().sum(weight);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> unpartitioned_weight =</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">MeshTools::weight</a> (mesh, DofObject::invalid_processor_id);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">return</span> weight + unpartitioned_weight;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  SumElemWeight sew;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.elements_begin(),</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                            mesh.elements_end()),</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                            sew);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">return</span> sew.weight();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a3c7d22fed3feea4c9ebd1fb41e7dbb4f"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a3c7d22fed3feea4c9ebd1fb41e7dbb4f">libMesh::MeshBase::is_serial</a></div><div class="ttdeci">virtual bool is_serial() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00201">mesh_base.h:201</a></div></div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a0701de7f01fd5eced3da4a332ff5ae51"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">libMesh::MeshTools::weight</a></div><div class="ttdeci">dof_id_type weight(const MeshBase &amp;mesh, const processor_id_type pid)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00436">mesh_tools.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50bb246769fd4cdfeec4604fd58ef22c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::MeshTools::valid_is_prepared </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for testing whether a mesh's cached is_prepared() setting is not a false positive. </p>
<p>If the mesh is marked as not prepared, or if preparing the already-partitioned mesh (without any repartitioning or renumbering) does not change it, then we return true. If the mesh believes it is prepared but prepare_for_use() would change it, we return false. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l01034">1034</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1MeshBase.html#ac1b854875f78351a0b2697689435b8fe">libMesh::MeshBase::clone()</a> , 以及 <a class="el" href="mesh__base_8h_source.html#l00188">libMesh::MeshBase::is_prepared()</a>.</p>
<div class="fragment"><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;{</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;libmesh_assert_valid_is_prepared()&quot;</span>, <span class="stringliteral">&quot;MeshTools&quot;</span>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (!mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#aef78858f228f672f3587b19c2bbd5fce">is_prepared</a>())</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  std::unique_ptr&lt;MeshBase&gt; mesh_clone = mesh.<a class="code" href="classlibMesh_1_1MeshBase.html#ac1b854875f78351a0b2697689435b8fe">clone</a>();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// Try preparing (without allowing repartitioning or renumbering, to</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="comment">// avoid false assertion failures)</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keywordtype">bool</span> old_allow_renumbering = mesh_clone-&gt;allow_renumbering();</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  mesh_clone-&gt;allow_renumbering(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordtype">bool</span> old_allow_remote_element_removal =</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    mesh_clone-&gt;allow_remote_element_removal();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordtype">bool</span> old_skip_partitioning = mesh_clone-&gt;skip_partitioning();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  mesh_clone-&gt;skip_partitioning(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  mesh_clone-&gt;allow_remote_element_removal(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  mesh_clone-&gt;prepare_for_use();</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  mesh_clone-&gt;allow_renumbering(old_allow_renumbering);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  mesh_clone-&gt;allow_remote_element_removal(old_allow_remote_element_removal);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  mesh_clone-&gt;skip_partitioning(old_skip_partitioning);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">return</span> (mesh == *mesh_clone);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_ac1b854875f78351a0b2697689435b8fe"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#ac1b854875f78351a0b2697689435b8fe">libMesh::MeshBase::clone</a></div><div class="ttdeci">virtual std::unique_ptr&lt; MeshBase &gt; clone() const =0</div><div class="ttdoc">Virtual &amp;quot;copy constructor&amp;quot;. </div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_aef78858f228f672f3587b19c2bbd5fce"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#aef78858f228f672f3587b19c2bbd5fce">libMesh::MeshBase::is_prepared</a></div><div class="ttdeci">bool is_prepared() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00188">mesh_base.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3dca32f0e87484a5f18c5d1e166acf1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::weight </td>
          <td>(</td>
          <td class="paramtype">const MeshBase &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="mesh__tools_8h_source.html">mesh_tools.h</a> 第 <a class="el" href="mesh__tools_8h_source.html#l00078">78</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a> , 以及 <a class="el" href="mesh__tools_8C_source.html#l00436">weight()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">MeshTools::weight</a> (<a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>, <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a>.processor_id()); }</div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a0701de7f01fd5eced3da4a332ff5ae51"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a0701de7f01fd5eced3da4a332ff5ae51">libMesh::MeshTools::weight</a></div><div class="ttdeci">dof_id_type weight(const MeshBase &amp;mesh, const processor_id_type pid)</div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00436">mesh_tools.C:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0701de7f01fd5eced3da4a332ff5ae51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::MeshTools::weight </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The sum over all the elements on processor <code>pid</code> of nodes per element.</dd></dl>
<p>This can be useful for partitioning hybrid meshes. A feasible load balancing scheme is to keep the weight per processor as uniform as possible. </p>

<p>在文件 <a class="el" href="mesh__tools_8C_source.html">mesh_tools.C</a> 第 <a class="el" href="mesh__tools_8C_source.html#l00436">436</a> 行定义.</p>

<p>参考 <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>.</p>

<p>参考自 <a class="el" href="quadrature__gm_8C_source.html#l00057">libMesh::QGrundmann_Moller::gm_rule()</a>, <a class="el" href="quadrature__grid__2D_8C_source.html#l00027">libMesh::QGrid::init_2D()</a>, <a class="el" href="quadrature__grid__3D_8C_source.html#l00028">libMesh::QGrid::init_3D()</a>, <a class="el" href="fe_8C_source.html#l00396">libMesh::FE&lt; Dim, T &gt;::init_shape_functions()</a>, <a class="el" href="inf__fe_8C_source.html#l00479">libMesh::InfFE&lt; friend_Dim, friend_T_radial, friend_T_map &gt;::init_shape_functions()</a>, <a class="el" href="fe__xyz_8C_source.html#l00104">libMesh::FEXYZ&lt; Dim &gt;::init_shape_functions()</a>, <a class="el" href="vtk__io_8C_source.html#l00414">libMesh::VTKIO::nodes_to_vtk()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="mesh__modification_8C_source.html#l01182">libMesh::MeshTools::Modification::smooth()</a>, <a class="el" href="mesh__tools_8C_source.html#l00413">total_weight()</a> , 以及 <a class="el" href="mesh__tools_8h_source.html#l00078">weight()</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  SumElemWeight sew;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (<a class="code" href="classlibMesh_1_1StoredRange.html">ConstElemRange</a> (mesh.pid_elements_begin(pid),</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                            mesh.pid_elements_end(pid)),</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            sew);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">return</span> sew.weight();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1StoredRange_html"><div class="ttname"><a href="classlibMesh_1_1StoredRange.html">libMesh::StoredRange</a></div><div class="ttdoc">The StoredRange class defines a contiguous, divisible set of objects. </div><div class="ttdef"><b>Definition:</b> <a href="stored__range_8h_source.html#l00054">stored_range.h:54</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2023年 十二月 20日 星期三 12:09:47 , 为 libmesh解析使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
