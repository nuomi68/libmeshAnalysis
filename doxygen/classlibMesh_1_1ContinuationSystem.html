<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libmesh解析: libMesh::ContinuationSystem类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libmesh解析
   </div>
   <div id="projectbrief">本工作只是尝试解析原libmesh的代码,供学习使用</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li class="current"><a href="annotated.html"><span>类</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>类列表</span></a></li>
      <li><a href="classes.html"><span>类索引</span></a></li>
      <li><a href="inherits.html"><span>类继承关系</span></a></li>
      <li><a href="functions.html"><span>类成员</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全部</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>类</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>命名空间</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>文件</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>函数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>变量</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>类型定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>枚举</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>枚举值</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>友元</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>页</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibMesh.html">libMesh</a></li><li class="navelem"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public 类型</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pub-static-methods">静态 Public 成员函数</a> &#124;
<a href="#pub-attribs">Public 属性</a> &#124;
<a href="#pro-types">Protected 类型</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a> &#124;
<a href="#pro-static-attribs">静态 Protected 属性</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="classlibMesh_1_1ContinuationSystem-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">libMesh::ContinuationSystem类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>该类继承自FEMSystem。它可以用于弧长延拓。这里的大多数思想和符号都来自HB Keller的1977年论文：  
 <a href="classlibMesh_1_1ContinuationSystem.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="continuation__system_8h_source.html">continuation_system.h</a>&gt;</code></p>
<div class="dynheader">
类 libMesh::ContinuationSystem 继承关系图:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 -->
</div>
<center><span class="legend">[<a href="graph_legend.html">图例</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public 类型</h2></td></tr>
<tr class="memitem:ac6985654cb1d70608920d8c77409c600"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600">Predictor</a> { <a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">Euler</a>, 
<a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549">AB2</a>, 
<a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a5d9fffba94c555b0116ce03320b86b70">Invalid_Predictor</a>
 }</td></tr>
<tr class="memdesc:ac6985654cb1d70608920d8c77409c600"><td class="mdescLeft">&#160;</td><td class="mdescRight">预测器方案的选择，用于获取下一个解的初始猜测。  <a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600">更多...</a><br/></td></tr>
<tr class="separator:ac6985654cb1d70608920d8c77409c600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e16e54312b5099b71e42f6593926536"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1e16e54312b5099b71e42f6593926536">sys_type</a></td></tr>
<tr class="memdesc:a1e16e54312b5099b71e42f6593926536"><td class="mdescLeft">&#160;</td><td class="mdescRight">系统的类型。  <a href="#a1e16e54312b5099b71e42f6593926536">更多...</a><br/></td></tr>
<tr class="separator:a1e16e54312b5099b71e42f6593926536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa590e2a8c5a75d6b3d1a1c5cfc8f08e6"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classlibMesh_1_1FEMSystem.html">FEMSystem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#aa590e2a8c5a75d6b3d1a1c5cfc8f08e6">Parent</a></td></tr>
<tr class="memdesc:aa590e2a8c5a75d6b3d1a1c5cfc8f08e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">父类的类型。  <a href="#aa590e2a8c5a75d6b3d1a1c5cfc8f08e6">更多...</a><br/></td></tr>
<tr class="separator:aa590e2a8c5a75d6b3d1a1c5cfc8f08e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0309d81e51a657209482a80e4a9047"><td class="memItemLeft" align="right" valign="top">typedef bool(TimeSolver::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a1b0309d81e51a657209482a80e4a9047">TimeSolverResPtr</a> )(bool, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a1b0309d81e51a657209482a80e4a9047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Syntax sugar to make <a class="el" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6" title="Uses the results of multiple res calls to numerically differentiate the corresponding jacobian...">numerical_jacobian()</a> declaration easier.  <a href="#a1b0309d81e51a657209482a80e4a9047">更多...</a><br/></td></tr>
<tr class="separator:a1b0309d81e51a657209482a80e4a9047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae762e359a9b2b6256dfcd38c77eb85c2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a> )(const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;<a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a>, const std::string &amp;sys_name, const std::string &amp;unknown_name)</td></tr>
<tr class="memdesc:ae762e359a9b2b6256dfcd38c77eb85c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto the current solution.  <a href="#ae762e359a9b2b6256dfcd38c77eb85c2">更多...</a><br/></td></tr>
<tr class="separator:ae762e359a9b2b6256dfcd38c77eb85c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c79ca1fa9506883de9be0d335b8674f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a> )(const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters, const std::string &amp;sys_name, const std::string &amp;unknown_name)</td></tr>
<tr class="separator:a2c79ca1fa9506883de9be0d335b8674f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61da28617688ed39b3a960f7da33c97"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;, std::less<br class="typebreak"/>
&lt;&gt; &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">vectors_iterator</a></td></tr>
<tr class="memdesc:ab61da28617688ed39b3a960f7da33c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector iterator typedefs.  <a href="#ab61da28617688ed39b3a960f7da33c97">更多...</a><br/></td></tr>
<tr class="separator:ab61da28617688ed39b3a960f7da33c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae301ec73eb4f0efe04e619edc17c0edb"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;, std::less<br class="typebreak"/>
&lt;&gt; &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">const_vectors_iterator</a></td></tr>
<tr class="separator:ae301ec73eb4f0efe04e619edc17c0edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af597ed806384b5271ef8aa9fb675eaf8"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;, std::less<br class="typebreak"/>
&lt;&gt; &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">matrices_iterator</a></td></tr>
<tr class="memdesc:af597ed806384b5271ef8aa9fb675eaf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix iterator typedefs.  <a href="#af597ed806384b5271ef8aa9fb675eaf8">更多...</a><br/></td></tr>
<tr class="separator:af597ed806384b5271ef8aa9fb675eaf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3f228f78dfcd6e22eef514743b7c2c"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;, std::less<br class="typebreak"/>
&lt;&gt; &gt;::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2f3f228f78dfcd6e22eef514743b7c2c">const_matrices_iterator</a></td></tr>
<tr class="separator:a2f3f228f78dfcd6e22eef514743b7c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a6ec7c334543edd9117ce97e3eb491292"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a6ec7c334543edd9117ce97e3eb491292">ContinuationSystem</a> (<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>, const unsigned int <a class="el" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>)</td></tr>
<tr class="memdesc:a6ec7c334543edd9117ce97e3eb491292"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数。可选择初始化所需的数据结构。  <a href="#a6ec7c334543edd9117ce97e3eb491292">更多...</a><br/></td></tr>
<tr class="separator:a6ec7c334543edd9117ce97e3eb491292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6391a08c6ab6f7824b288e6e468fbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a8a6391a08c6ab6f7824b288e6e468fbd">ContinuationSystem</a> (const <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;)=delete</td></tr>
<tr class="memdesc:a8a6391a08c6ab6f7824b288e6e468fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">特殊函数。  <a href="#a8a6391a08c6ab6f7824b288e6e468fbd">更多...</a><br/></td></tr>
<tr class="separator:a8a6391a08c6ab6f7824b288e6e468fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785309d11e57a7bd7c837a2c028a5c9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a785309d11e57a7bd7c837a2c028a5c9c">operator=</a> (const <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;)=delete</td></tr>
<tr class="separator:a785309d11e57a7bd7c837a2c028a5c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94036b9126a09405e8734e14d9a44a3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a94036b9126a09405e8734e14d9a44a3d">ContinuationSystem</a> (<a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a94036b9126a09405e8734e14d9a44a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ec31469c8a5bf2dc9e8f9f0cc10a09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#aa3ec31469c8a5bf2dc9e8f9f0cc10a09">operator=</a> (<a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:aa3ec31469c8a5bf2dc9e8f9f0cc10a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a438c87dd95393e480a98d239146450"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a3a438c87dd95393e480a98d239146450">~ContinuationSystem</a> ()</td></tr>
<tr class="separator:a3a438c87dd95393e480a98d239146450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d518f06522c7396ebb5a85747c9a9f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a56d518f06522c7396ebb5a85747c9a9f">clear</a> () override</td></tr>
<tr class="memdesc:a56d518f06522c7396ebb5a85747c9a9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">清除与系统关联的所有数据结构。  <a href="#a56d518f06522c7396ebb5a85747c9a9f">更多...</a><br/></td></tr>
<tr class="separator:a56d518f06522c7396ebb5a85747c9a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461a6cee1ad76ff0a66a8928653b255d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a461a6cee1ad76ff0a66a8928653b255d">solve</a> () override</td></tr>
<tr class="memdesc:a461a6cee1ad76ff0a66a8928653b255d"><td class="mdescLeft">&#160;</td><td class="mdescRight">执行系统的标准“solve”，不进行延拓。  <a href="#a461a6cee1ad76ff0a66a8928653b255d">更多...</a><br/></td></tr>
<tr class="separator:a461a6cee1ad76ff0a66a8928653b255d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8706b919a3b01da570359d8bb71338dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a8706b919a3b01da570359d8bb71338dd">continuation_solve</a> ()</td></tr>
<tr class="memdesc:a8706b919a3b01da570359d8bb71338dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">执行系统的延拓求解。通常，只能在读取或解算两个先前控制参数值之后才能开始延拓求解。 必须为启动延拓方法提供前两个解决方案。  <a href="#a8706b919a3b01da570359d8bb71338dd">更多...</a><br/></td></tr>
<tr class="separator:a8706b919a3b01da570359d8bb71338dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652388ee34fa6ffefe9d67e8655e5d1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a652388ee34fa6ffefe9d67e8655e5d1e">advance_arcstep</a> ()</td></tr>
<tr class="memdesc:a652388ee34fa6ffefe9d67e8655e5d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">在延拓求解后调用此函数以计算切线并获取下一个初始猜测。  <a href="#a652388ee34fa6ffefe9d67e8655e5d1e">更多...</a><br/></td></tr>
<tr class="separator:a652388ee34fa6ffefe9d67e8655e5d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ebd4210e22590e9f23a18e20c7d71cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a2ebd4210e22590e9f23a18e20c7d71cf">set_max_arclength_stepsize</a> (<a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> maxds)</td></tr>
<tr class="memdesc:a2ebd4210e22590e9f23a18e20c7d71cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置（初始化）最大允许的ds值和当前ds值。 在开始弧长延拓之前调用此函数。默认的最大步长是0.1。  <a href="#a2ebd4210e22590e9f23a18e20c7d71cf">更多...</a><br/></td></tr>
<tr class="separator:a2ebd4210e22590e9f23a18e20c7d71cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab1f92beb3279c4ed3267e63c7a9eb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1ab1f92beb3279c4ed3267e63c7a9eb9">save_current_solution</a> ()</td></tr>
<tr class="memdesc:a1ab1f92beb3279c4ed3267e63c7a9eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">存储以后引用的当前解和延拓参数（作为"previous_u"和"old_continuation_parameter"）。在计算第二个解并开始弧长延拓之前，可能需要调用此函数。  <a href="#a1ab1f92beb3279c4ed3267e63c7a9eb9">更多...</a><br/></td></tr>
<tr class="separator:a1ab1f92beb3279c4ed3267e63c7a9eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc864618acb256ac21e788c571649eaf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a> (bool get_residual, bool get_jacobian, bool apply_heterogeneous_constraints=false, bool apply_no_constraints=false) override</td></tr>
<tr class="memdesc:adc864618acb256ac21e788c571649eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares <code>matrix</code> or <code>rhs</code> for matrix assembly.  <a href="#adc864618acb256ac21e788c571649eaf">更多...</a><br/></td></tr>
<tr class="separator:adc864618acb256ac21e788c571649eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cba6e08b4e89962bf0175637e62698"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a16cba6e08b4e89962bf0175637e62698">mesh_position_get</a> ()</td></tr>
<tr class="memdesc:a16cba6e08b4e89962bf0175637e62698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> to set the degree of freedom coefficients which should correspond to mesh nodal coordinates.  <a href="#a16cba6e08b4e89962bf0175637e62698">更多...</a><br/></td></tr>
<tr class="separator:a16cba6e08b4e89962bf0175637e62698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efde0dcca62566606f1a259d7de53eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a2efde0dcca62566606f1a259d7de53eb">mesh_position_set</a> ()</td></tr>
<tr class="memdesc:a2efde0dcca62566606f1a259d7de53eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> to set the mesh nodal coordinates which should correspond to degree of freedom coefficients.  <a href="#a2efde0dcca62566606f1a259d7de53eb">更多...</a><br/></td></tr>
<tr class="separator:a2efde0dcca62566606f1a259d7de53eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a97785fa8239fc92e6577e62599a82d"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">build_context</a> () override</td></tr>
<tr class="memdesc:a4a97785fa8239fc92e6577e62599a82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a <a class="el" href="classlibMesh_1_1FEMContext.html" title="This class provides all data required for a physics package (e.g. ">FEMContext</a> object with enough information to do evaluations on each element.  <a href="#a4a97785fa8239fc92e6577e62599a82d">更多...</a><br/></td></tr>
<tr class="separator:a4a97785fa8239fc92e6577e62599a82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e9242b511c664a3c93afb61d927d7e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">init_context</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;) override</td></tr>
<tr class="separator:a30e9242b511c664a3c93afb61d927d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71156cbaca0860bd51bff2d21149b7b3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a71156cbaca0860bd51bff2d21149b7b3">postprocess</a> () override</td></tr>
<tr class="memdesc:a71156cbaca0860bd51bff2d21149b7b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a postprocessing loop over all elements, and if <code>postprocess_sides</code> is true over all sides.  <a href="#a71156cbaca0860bd51bff2d21149b7b3">更多...</a><br/></td></tr>
<tr class="separator:a71156cbaca0860bd51bff2d21149b7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d2b1cfa745c2be73c734c1892036b6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#ac4d2b1cfa745c2be73c734c1892036b6">assemble_qoi</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;indices=<a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()) override</td></tr>
<tr class="memdesc:ac4d2b1cfa745c2be73c734c1892036b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a qoi assembly loop over all elements, and if <code>assemble_qoi_sides</code> is true over all sides.  <a href="#ac4d2b1cfa745c2be73c734c1892036b6">更多...</a><br/></td></tr>
<tr class="separator:ac4d2b1cfa745c2be73c734c1892036b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8bde1f58b115a38c4e2450eef6ba82"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a5e8bde1f58b115a38c4e2450eef6ba82">assemble_qoi_derivative</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices=<a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>(), bool include_liftfunc=true, bool apply_constraints=true) override</td></tr>
<tr class="memdesc:a5e8bde1f58b115a38c4e2450eef6ba82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs a qoi derivative assembly loop over all elements, and if <code>assemble_qoi_sides</code> is true over all sides.  <a href="#a5e8bde1f58b115a38c4e2450eef6ba82">更多...</a><br/></td></tr>
<tr class="separator:a5e8bde1f58b115a38c4e2450eef6ba82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a6ff41c4810ce77b9597de9915f339"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a47a6ff41c4810ce77b9597de9915f339">numerical_jacobian_h_for_var</a> (unsigned int var_num) const </td></tr>
<tr class="memdesc:a47a6ff41c4810ce77b9597de9915f339"><td class="mdescLeft">&#160;</td><td class="mdescRight">If numerical_jacobian_h_for_var(var_num) is changed from its default value (numerical_jacobian_h), the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will perturb solution vector entries for variable var_num by that amount when calculating finite differences with respect to that variable.  <a href="#a47a6ff41c4810ce77b9597de9915f339">更多...</a><br/></td></tr>
<tr class="separator:a47a6ff41c4810ce77b9597de9915f339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72400276713d7ffa796de3c465ee697d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a72400276713d7ffa796de3c465ee697d">set_numerical_jacobian_h_for_var</a> (unsigned int var_num, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> new_h)</td></tr>
<tr class="separator:a72400276713d7ffa796de3c465ee697d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce8525010231020fa26f1c3b487c8d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">numerical_jacobian</a> (<a class="el" href="classlibMesh_1_1FEMSystem.html#a1b0309d81e51a657209482a80e4a9047">TimeSolverResPtr</a> res, <a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;context) const </td></tr>
<tr class="memdesc:a4ce8525010231020fa26f1c3b487c8d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the results of multiple <code>res</code> calls to numerically differentiate the corresponding jacobian.  <a href="#a4ce8525010231020fa26f1c3b487c8d6">更多...</a><br/></td></tr>
<tr class="separator:a4ce8525010231020fa26f1c3b487c8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315de41d5b7826c38d6a653f6700837b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a315de41d5b7826c38d6a653f6700837b">numerical_elem_jacobian</a> (<a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;context) const </td></tr>
<tr class="memdesc:a315de41d5b7826c38d6a653f6700837b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the results of multiple element_residual() calls to numerically differentiate the corresponding jacobian on an element.  <a href="#a315de41d5b7826c38d6a653f6700837b">更多...</a><br/></td></tr>
<tr class="separator:a315de41d5b7826c38d6a653f6700837b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33da347e7276cc3d789c566654a5e27c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a33da347e7276cc3d789c566654a5e27c">numerical_side_jacobian</a> (<a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;context) const </td></tr>
<tr class="memdesc:a33da347e7276cc3d789c566654a5e27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the results of multiple side_residual() calls to numerically differentiate the corresponding jacobian on an element's side.  <a href="#a33da347e7276cc3d789c566654a5e27c">更多...</a><br/></td></tr>
<tr class="separator:a33da347e7276cc3d789c566654a5e27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70d5f5a0428b9b563106bab8fa888cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#aa70d5f5a0428b9b563106bab8fa888cf">numerical_nonlocal_jacobian</a> (<a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;context) const </td></tr>
<tr class="memdesc:aa70d5f5a0428b9b563106bab8fa888cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the results of multiple side_residual() calls to numerically differentiate the corresponding jacobian on nonlocal DoFs.  <a href="#aa70d5f5a0428b9b563106bab8fa888cf">更多...</a><br/></td></tr>
<tr class="separator:aa70d5f5a0428b9b563106bab8fa888cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed043f850ff7f4b5b6ccbd53f9b6c3e1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aed043f850ff7f4b5b6ccbd53f9b6c3e1">reinit</a> () override</td></tr>
<tr class="memdesc:aed043f850ff7f4b5b6ccbd53f9b6c3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">重新初始化与系统关联的成员数据字段，以便，例如，可以使用<code><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec" title="准备matrix和rhs进行矩阵装配。用户不应重新实现此功能。 注意，在某些情况下，仅在装配期间使用  current_local_solution ， 因此，如果solution在没有调用update...">assemble()</a>。</code>  <a href="#aed043f850ff7f4b5b6ccbd53f9b6c3e1">更多...</a><br/></td></tr>
<tr class="separator:aed043f850ff7f4b5b6ccbd53f9b6c3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd79e823b9cf2fcdc47ffa8b3e6c0cec"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec">assemble</a> () override</td></tr>
<tr class="memdesc:afd79e823b9cf2fcdc47ffa8b3e6c0cec"><td class="mdescLeft">&#160;</td><td class="mdescRight">准备<code>matrix和<code>rhs进行矩阵装配。用户不应重新实现此功能。</code> 注意，在某些情况下，仅在装配期间使用</code>  current_local_solution ， 因此，如果<a class="el" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>在没有调用<a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a>的情况下发生更改， 那么用户必须在调用此函数之前调用<a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a>。  <a href="#afd79e823b9cf2fcdc47ffa8b3e6c0cec">更多...</a><br/></td></tr>
<tr class="separator:afd79e823b9cf2fcdc47ffa8b3e6c0cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8ce10be3d4bd961c1d04cc146e72d3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a7b8ce10be3d4bd961c1d04cc146e72d3">get_linear_solver</a> () const override</td></tr>
<tr class="separator:a7b8ce10be3d4bd961c1d04cc146e72d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ff2590f2e97f1ecfa5da19e074cf87"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; unsigned <br class="typebreak"/>
int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aa9ff2590f2e97f1ecfa5da19e074cf87">get_linear_solve_parameters</a> () const override</td></tr>
<tr class="separator:aa9ff2590f2e97f1ecfa5da19e074cf87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf16a7623398990e1e8327fd132b9dfb"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; unsigned <br class="typebreak"/>
int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aaf16a7623398990e1e8327fd132b9dfb">adjoint_solve</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices=<a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()) override</td></tr>
<tr class="memdesc:aaf16a7623398990e1e8327fd132b9dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">此函数将_is_adjoint布尔成员设置为TimeSolver的true，然后调用隐式系统中的adjoint_solve。  <a href="#aaf16a7623398990e1e8327fd132b9dfb">更多...</a><br/></td></tr>
<tr class="separator:aaf16a7623398990e1e8327fd132b9dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecf357f9c98d27273c7bb69bd2754a2"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aaecf357f9c98d27273c7bb69bd2754a2">clone_physics</a> () override</td></tr>
<tr class="memdesc:aaecf357f9c98d27273c7bb69bd2754a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">不允许将系统附加到彼此  <a href="#aaecf357f9c98d27273c7bb69bd2754a2">更多...</a><br/></td></tr>
<tr class="separator:aaecf357f9c98d27273c7bb69bd2754a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff2ddccdd71320e0e6ad13c1f79357e1"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aff2ddccdd71320e0e6ad13c1f79357e1">clone</a> () override</td></tr>
<tr class="memdesc:aff2ddccdd71320e0e6ad13c1f79357e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">不允许将系统附加到彼此  <a href="#aff2ddccdd71320e0e6ad13c1f79357e1">更多...</a><br/></td></tr>
<tr class="separator:aff2ddccdd71320e0e6ad13c1f79357e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de82ee97ddefef223df2ea4a62b8604"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a1de82ee97ddefef223df2ea4a62b8604">get_physics</a> () const </td></tr>
<tr class="separator:a1de82ee97ddefef223df2ea4a62b8604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa25fe583e34bcd5997ccc6c2af66c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afa25fe583e34bcd5997ccc6c2af66c8d">get_physics</a> ()</td></tr>
<tr class="separator:afa25fe583e34bcd5997ccc6c2af66c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad894454a827ac22b94d509df2dbcea8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ad894454a827ac22b94d509df2dbcea8f">attach_physics</a> (<a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *physics_in)</td></tr>
<tr class="memdesc:ad894454a827ac22b94d509df2dbcea8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">附加外部Physics对象。  <a href="#ad894454a827ac22b94d509df2dbcea8f">更多...</a><br/></td></tr>
<tr class="separator:ad894454a827ac22b94d509df2dbcea8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3023026e936df1d1012eb463a9bc641"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a> (<a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *&amp;swap_physics)</td></tr>
<tr class="memdesc:ad3023026e936df1d1012eb463a9bc641"><td class="mdescLeft">&#160;</td><td class="mdescRight">将当前物理对象与外部对象交换。这是不推荐的。  <a href="#ad3023026e936df1d1012eb463a9bc641">更多...</a><br/></td></tr>
<tr class="separator:ad3023026e936df1d1012eb463a9bc641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b05cf0200a65a10db9de1f1b987e17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a38b05cf0200a65a10db9de1f1b987e17">push_physics</a> (<a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> &amp;new_physics)</td></tr>
<tr class="memdesc:a38b05cf0200a65a10db9de1f1b987e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">将一个新的物理对象的克隆推送到堆栈上，覆盖当前的物理对象， 直到新的物理对象被弹出（或直到有其他东西被推到它的顶部）。  <a href="#a38b05cf0200a65a10db9de1f1b987e17">更多...</a><br/></td></tr>
<tr class="separator:a38b05cf0200a65a10db9de1f1b987e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24569db75612034e6e76da10503723bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a24569db75612034e6e76da10503723bb">pop_physics</a> ()</td></tr>
<tr class="memdesc:a24569db75612034e6e76da10503723bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">从堆栈中弹出一个物理对象。  <a href="#a24569db75612034e6e76da10503723bb">更多...</a><br/></td></tr>
<tr class="separator:a24569db75612034e6e76da10503723bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bef312234b712c642470daf77350eb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">get_qoi</a> () const </td></tr>
<tr class="separator:ab8bef312234b712c642470daf77350eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e20f1184205afefc41b1979e48b0d60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a7e20f1184205afefc41b1979e48b0d60">get_qoi</a> ()</td></tr>
<tr class="separator:a7e20f1184205afefc41b1979e48b0d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63efd46cc0d4788510db3496c3ca8ec9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a63efd46cc0d4788510db3496c3ca8ec9">attach_qoi</a> (<a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a> *qoi_in)</td></tr>
<tr class="memdesc:a63efd46cc0d4788510db3496c3ca8ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">附加外部QoI对象。  <a href="#a63efd46cc0d4788510db3496c3ca8ec9">更多...</a><br/></td></tr>
<tr class="separator:a63efd46cc0d4788510db3496c3ca8ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f40f9dc20cb3ac6be91d7ddfb3ef3ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a4f40f9dc20cb3ac6be91d7ddfb3ef3ad">set_time_solver</a> (std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &gt; _time_solver)</td></tr>
<tr class="memdesc:a4f40f9dc20cb3ac6be91d7ddfb3ef3ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置time_solver FIXME: 这段代码有点危险，因为它将TimeSolver的所有权从创建此类的TimeSolver对象转移到此类。 在调用此函数之后，用户不能再访问原始的TimeSolver对象。  <a href="#a4f40f9dc20cb3ac6be91d7ddfb3ef3ad">更多...</a><br/></td></tr>
<tr class="separator:a4f40f9dc20cb3ac6be91d7ddfb3ef3ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab483909038f728046821a7974b686742"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">get_time_solver</a> ()</td></tr>
<tr class="separator:ab483909038f728046821a7974b686742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d927be0ae42d9d9e639626fa8cdb95"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a55d927be0ae42d9d9e639626fa8cdb95">get_time_solver</a> () const </td></tr>
<tr class="memdesc:a55d927be0ae42d9d9e639626fa8cdb95"><td class="mdescLeft">&#160;</td><td class="mdescRight">上面方法的非const版本  <a href="#a55d927be0ae42d9d9e639626fa8cdb95">更多...</a><br/></td></tr>
<tr class="separator:a55d927be0ae42d9d9e639626fa8cdb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7309f211d6ac11ac750e4a90858e7a0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a7309f211d6ac11ac750e4a90858e7a0f">element_postprocess</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a7309f211d6ac11ac750e4a90858e7a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">在后处理循环中在<code>elem上执行需要完成的任何工作。</code>  <a href="#a7309f211d6ac11ac750e4a90858e7a0f">更多...</a><br/></td></tr>
<tr class="separator:a7309f211d6ac11ac750e4a90858e7a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc7a29f5bc94098ddf54cc1584622d4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afdc7a29f5bc94098ddf54cc1584622d4">side_postprocess</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:afdc7a29f5bc94098ddf54cc1584622d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">在后处理循环中在<code>elem的<code>side上执行需要完成的任何工作。</code> </code>  <a href="#afdc7a29f5bc94098ddf54cc1584622d4">更多...</a><br/></td></tr>
<tr class="separator:afdc7a29f5bc94098ddf54cc1584622d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca2e533a7009a9c64425a61560aa085"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a0ca2e533a7009a9c64425a61560aa085">get_second_order_dot_var</a> (unsigned int var) const </td></tr>
<tr class="memdesc:a0ca2e533a7009a9c64425a61560aa085"><td class="mdescLeft">&#160;</td><td class="mdescRight">对于给定的时间变量<code>var的二阶（在时间上）变量，此方法将返回对应的“dot”变量的索引。</code> 对于FirstOrderUnsteadySolver类，将自动添加“dot”变量，并且返回的索引将对应于该变量。 对于SecondOrderUnsteadySolver类，此方法将返回var，因为没有“dot”变量，但是有了这个函数，可以使用界面同时处理 FirstOrderUnsteadySolver和SecondOrderUnsteadySolver。  <a href="#a0ca2e533a7009a9c64425a61560aa085">更多...</a><br/></td></tr>
<tr class="separator:a0ca2e533a7009a9c64425a61560aa085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faa2b18c16acf6bd073f8b3737d423c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a5faa2b18c16acf6bd073f8b3737d423c">have_first_order_scalar_vars</a> () const </td></tr>
<tr class="memdesc:a5faa2b18c16acf6bd073f8b3737d423c"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查是否有任何同时属于FEFamily::SCALAR的一阶变量。  <a href="#a5faa2b18c16acf6bd073f8b3737d423c">更多...</a><br/></td></tr>
<tr class="separator:a5faa2b18c16acf6bd073f8b3737d423c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc539edb426aa8d8367444896582253"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#adfc539edb426aa8d8367444896582253">have_second_order_scalar_vars</a> () const </td></tr>
<tr class="memdesc:adfc539edb426aa8d8367444896582253"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查是否有任何同时属于FEFamily::SCALAR的二阶变量。  <a href="#adfc539edb426aa8d8367444896582253">更多...</a><br/></td></tr>
<tr class="separator:adfc539edb426aa8d8367444896582253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a351962aba5bfa0e04f6422802c1d7759"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a351962aba5bfa0e04f6422802c1d7759">set_constrain_in_solver</a> (bool enable)</td></tr>
<tr class="memdesc:a351962aba5bfa0e04f6422802c1d7759"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置constrain_in_solver为false，以仅通过要解决的系统中的残差项应用约束。  <a href="#a351962aba5bfa0e04f6422802c1d7759">更多...</a><br/></td></tr>
<tr class="separator:a351962aba5bfa0e04f6422802c1d7759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127c1b13fc8f077ead66889abb4dfd8f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a127c1b13fc8f077ead66889abb4dfd8f">get_constrain_in_solver</a> ()</td></tr>
<tr class="separator:a127c1b13fc8f077ead66889abb4dfd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5fd2988d63965f621c0952304d7ff1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1e16e54312b5099b71e42f6593926536">sys_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a4c5fd2988d63965f621c0952304d7ff1">system</a> ()</td></tr>
<tr class="separator:a4c5fd2988d63965f621c0952304d7ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741883b7f26a17f565f2f74e78f3397b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">disable_cache</a> () override</td></tr>
<tr class="memdesc:a741883b7f26a17f565f2f74e78f3397b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Avoids use of any cached data that might affect any solve result.  <a href="#a741883b7f26a17f565f2f74e78f3397b">更多...</a><br/></td></tr>
<tr class="separator:a741883b7f26a17f565f2f74e78f3397b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bdaf8a27905faa08abcb265c70ca4a"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a65bdaf8a27905faa08abcb265c70ca4a">system_type</a> () const override</td></tr>
<tr class="separator:a65bdaf8a27905faa08abcb265c70ca4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43effba7c17eb24695c107560eb65e7d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a43effba7c17eb24695c107560eb65e7d">release_linear_solver</a> (<a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *) const </td></tr>
<tr class="memdesc:a43effba7c17eb24695c107560eb65e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently a no-op.  <a href="#a43effba7c17eb24695c107560eb65e7d">更多...</a><br/></td></tr>
<tr class="separator:a43effba7c17eb24695c107560eb65e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d503bf57aab66f8becfcff4dec5030d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a4d503bf57aab66f8becfcff4dec5030d">assemble_residual_derivatives</a> (const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters) override</td></tr>
<tr class="memdesc:a4d503bf57aab66f8becfcff4dec5030d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Residual parameter derivative function.  <a href="#a4d503bf57aab66f8becfcff4dec5030d">更多...</a><br/></td></tr>
<tr class="separator:a4d503bf57aab66f8becfcff4dec5030d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac659d63f5c1dcbd434571de5ee5e293d"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; unsigned <br class="typebreak"/>
int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#ac659d63f5c1dcbd434571de5ee5e293d">sensitivity_solve</a> (const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters) override</td></tr>
<tr class="memdesc:ac659d63f5c1dcbd434571de5ee5e293d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles &amp; solves the linear system(s) (dR/du)*u_p = -dR/dp, for those parameters contained within <code>parameters</code>.  <a href="#ac659d63f5c1dcbd434571de5ee5e293d">更多...</a><br/></td></tr>
<tr class="separator:ac659d63f5c1dcbd434571de5ee5e293d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffd63b51e74f2ba7b09737f834319b2"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; unsigned <br class="typebreak"/>
int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a1ffd63b51e74f2ba7b09737f834319b2">weighted_sensitivity_solve</a> (const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;weights) override</td></tr>
<tr class="memdesc:a1ffd63b51e74f2ba7b09737f834319b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles &amp; solves the linear system(s) (dR/du)*u_w = sum(w_p*-dR/dp), for those parameters p contained within <code>parameters</code> weighted by the values w_p found within <code>weights</code>.  <a href="#a1ffd63b51e74f2ba7b09737f834319b2">更多...</a><br/></td></tr>
<tr class="separator:a1ffd63b51e74f2ba7b09737f834319b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93980bb1f5144843b5fd266a0c4cee29"><td class="memItemLeft" align="right" valign="top">virtual std::pair&lt; unsigned <br class="typebreak"/>
int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a93980bb1f5144843b5fd266a0c4cee29">weighted_sensitivity_adjoint_solve</a> (const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;weights, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices=<a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()) override</td></tr>
<tr class="memdesc:a93980bb1f5144843b5fd266a0c4cee29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles &amp; solves the linear system(s) (dR/du)^T*z_w = sum(w_p*(d^2q/dudp - d^2R/dudp*z)), for those parameters p contained within <code>parameters</code>, weighted by the values w_p found within <code>weights</code>.  <a href="#a93980bb1f5144843b5fd266a0c4cee29">更多...</a><br/></td></tr>
<tr class="separator:a93980bb1f5144843b5fd266a0c4cee29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722c2196740110650459649fdff530d7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a722c2196740110650459649fdff530d7">adjoint_qoi_parameter_sensitivity</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, <a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;sensitivities) override</td></tr>
<tr class="memdesc:a722c2196740110650459649fdff530d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j].  <a href="#a722c2196740110650459649fdff530d7">更多...</a><br/></td></tr>
<tr class="separator:a722c2196740110650459649fdff530d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6eb5b96c250d8f56ef6e26dc10abc31"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#af6eb5b96c250d8f56ef6e26dc10abc31">forward_qoi_parameter_sensitivity</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, <a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;sensitivities) override</td></tr>
<tr class="memdesc:af6eb5b96c250d8f56ef6e26dc10abc31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j].  <a href="#af6eb5b96c250d8f56ef6e26dc10abc31">更多...</a><br/></td></tr>
<tr class="separator:af6eb5b96c250d8f56ef6e26dc10abc31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac845783660befc16fdc2a76b66439e97"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#ac845783660befc16fdc2a76b66439e97">qoi_parameter_hessian</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, <a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;hessian) override</td></tr>
<tr class="memdesc:ac845783660befc16fdc2a76b66439e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each of the system's quantities of interest q in <code>qoi</code>[qoi_indices], and for a vector of parameters p, the parameter sensitivity Hessian H_ij is defined as H_ij = (d^2 q)/(d p_i d p_j) This Hessian is the output of this method, where for each q_i, H_jk is stored in <code>hessian.second_derivative(i,j,k)</code>.  <a href="#ac845783660befc16fdc2a76b66439e97">更多...</a><br/></td></tr>
<tr class="separator:ac845783660befc16fdc2a76b66439e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecd1677e33dd1e7f9a2eb9afbc0396f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a7ecd1677e33dd1e7f9a2eb9afbc0396f">qoi_parameter_hessian_vector_product</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;vector, <a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;product) override</td></tr>
<tr class="memdesc:a7ecd1677e33dd1e7f9a2eb9afbc0396f"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each of the system's quantities of interest q in <code>qoi</code>[qoi_indices], and for a vector of parameters p, the parameter sensitivity Hessian H_ij is defined as H_ij = (d^2 q)/(d p_i d p_j) The Hessian-vector product, for a vector v_k in parameter space, is S_j = H_jk v_k This product is the output of this method, where for each q_i, S_j is stored in <code>sensitivities</code>[i][j].  <a href="#a7ecd1677e33dd1e7f9a2eb9afbc0396f">更多...</a><br/></td></tr>
<tr class="separator:a7ecd1677e33dd1e7f9a2eb9afbc0396f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d44b82f7c06e9cabf085382888451f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a53d44b82f7c06e9cabf085382888451f">get_system_matrix</a> () const </td></tr>
<tr class="separator:a53d44b82f7c06e9cabf085382888451f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6d42609f4e905614adce2cfe4ce56e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#acd6d42609f4e905614adce2cfe4ce56e">get_system_matrix</a> ()</td></tr>
<tr class="separator:acd6d42609f4e905614adce2cfe4ce56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbe27bf56eae7baea5c397fa88c09a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9cbe27bf56eae7baea5c397fa88c09a3">init</a> ()</td></tr>
<tr class="memdesc:a9cbe27bf56eae7baea5c397fa88c09a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes degrees of freedom on the current mesh.  <a href="#a9cbe27bf56eae7baea5c397fa88c09a3">更多...</a><br/></td></tr>
<tr class="separator:a9cbe27bf56eae7baea5c397fa88c09a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12672358a8e9796a42bd7f42888c54f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad12672358a8e9796a42bd7f42888c54f">reinit_constraints</a> ()</td></tr>
<tr class="memdesc:ad12672358a8e9796a42bd7f42888c54f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reinitializes the constraints for this system.  <a href="#ad12672358a8e9796a42bd7f42888c54f">更多...</a><br/></td></tr>
<tr class="separator:ad12672358a8e9796a42bd7f42888c54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549aa79b76a63905bea5cd3344272250"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a549aa79b76a63905bea5cd3344272250">reinit_mesh</a> ()</td></tr>
<tr class="memdesc:a549aa79b76a63905bea5cd3344272250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reinitializes the system with a new mesh.  <a href="#a549aa79b76a63905bea5cd3344272250">更多...</a><br/></td></tr>
<tr class="separator:a549aa79b76a63905bea5cd3344272250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87af74bbfb7181bbab50f3b95b1f1f31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">is_initialized</a> ()</td></tr>
<tr class="separator:a87af74bbfb7181bbab50f3b95b1f1f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d81ac9c1787c43fb87cf13d37741ee"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a> ()</td></tr>
<tr class="memdesc:ab9d81ac9c1787c43fb87cf13d37741ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the local values to reflect the solution on neighboring processors.  <a href="#ab9d81ac9c1787c43fb87cf13d37741ee">更多...</a><br/></td></tr>
<tr class="separator:ab9d81ac9c1787c43fb87cf13d37741ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271e81524cb5f49448bbb486005abb9b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a271e81524cb5f49448bbb486005abb9b">restrict_solve_to</a> (const <a class="el" href="classlibMesh_1_1SystemSubset.html">SystemSubset</a> *subset, const <a class="el" href="namespacelibMesh.html#a41629eb8a6af5262ee8b038aeed73c7c">SubsetSolveMode</a> subset_solve_mode=<a class="el" href="namespacelibMesh.html#a41629eb8a6af5262ee8b038aeed73c7ca30be0945c067164d6d60997d8429b64e">SUBSET_ZERO</a>)</td></tr>
<tr class="memdesc:a271e81524cb5f49448bbb486005abb9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">After calling this method, any solve will be restricted to the given subdomain.  <a href="#a271e81524cb5f49448bbb486005abb9b">更多...</a><br/></td></tr>
<tr class="separator:a271e81524cb5f49448bbb486005abb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5cd5ab35b28e4e0f56fc164d6898fe4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">is_adjoint_already_solved</a> () const </td></tr>
<tr class="memdesc:ac5cd5ab35b28e4e0f56fc164d6898fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the adjoint_already_solved boolean.  <a href="#ac5cd5ab35b28e4e0f56fc164d6898fe4">更多...</a><br/></td></tr>
<tr class="separator:ac5cd5ab35b28e4e0f56fc164d6898fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb30e72086df414aef73ad2aa590a74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8eb30e72086df414aef73ad2aa590a74">set_adjoint_already_solved</a> (bool setting)</td></tr>
<tr class="memdesc:a8eb30e72086df414aef73ad2aa590a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter for the adjoint_already_solved boolean.  <a href="#a8eb30e72086df414aef73ad2aa590a74">更多...</a><br/></td></tr>
<tr class="separator:a8eb30e72086df414aef73ad2aa590a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd540ebc82189c84815d2e50b4a04c2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a4fd540ebc82189c84815d2e50b4a04c2">qoi_parameter_sensitivity</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;parameters, <a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;sensitivities)</td></tr>
<tr class="memdesc:a4fd540ebc82189c84815d2e50b4a04c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j].  <a href="#a4fd540ebc82189c84815d2e50b4a04c2">更多...</a><br/></td></tr>
<tr class="separator:a4fd540ebc82189c84815d2e50b4a04c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3e5f73bb8c49d5d69ed59849e9b20e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8a3e5f73bb8c49d5d69ed59849e9b20e">compare</a> (const <a class="el" href="classlibMesh_1_1System.html">System</a> &amp;other_system, const <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> threshold, const bool verbose) const </td></tr>
<tr class="separator:a8a3e5f73bb8c49d5d69ed59849e9b20e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80f6b2e508821ebd9c8fcb78d443f18"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a> () const </td></tr>
<tr class="separator:af80f6b2e508821ebd9c8fcb78d443f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08e7a5855675d3704cd64326e7b7604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#af08e7a5855675d3704cd64326e7b7604">project_solution</a> (<a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr) const </td></tr>
<tr class="memdesc:af08e7a5855675d3704cd64326e7b7604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto the current solution.  <a href="#af08e7a5855675d3704cd64326e7b7604">更多...</a><br/></td></tr>
<tr class="separator:af08e7a5855675d3704cd64326e7b7604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2f96dfc66ef7168badd470ff642749"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aea2f96dfc66ef7168badd470ff642749">project_solution</a> (<a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr) const </td></tr>
<tr class="memdesc:aea2f96dfc66ef7168badd470ff642749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto the current solution.  <a href="#aea2f96dfc66ef7168badd470ff642749">更多...</a><br/></td></tr>
<tr class="separator:aea2f96dfc66ef7168badd470ff642749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfca9f795aecad69938879a00396ff59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#adfca9f795aecad69938879a00396ff59">project_solution</a> (<a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a> fptr, <a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a> gptr, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters) const </td></tr>
<tr class="memdesc:adfca9f795aecad69938879a00396ff59"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method projects an arbitrary function onto the solution via L2 projections and nodal interpolations on each element.  <a href="#adfca9f795aecad69938879a00396ff59">更多...</a><br/></td></tr>
<tr class="separator:adfca9f795aecad69938879a00396ff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84735c2ddbecdfee79afe438100ef580"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;new_vector, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:a84735c2ddbecdfee79afe438100ef580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto a vector of degree of freedom values for the current system.  <a href="#a84735c2ddbecdfee79afe438100ef580">更多...</a><br/></td></tr>
<tr class="separator:a84735c2ddbecdfee79afe438100ef580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc54c26bf5805d5aadcebcefe482eaea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#afc54c26bf5805d5aadcebcefe482eaea">project_vector</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;new_vector, <a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:afc54c26bf5805d5aadcebcefe482eaea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto a vector of degree of freedom values for the current system.  <a href="#afc54c26bf5805d5aadcebcefe482eaea">更多...</a><br/></td></tr>
<tr class="separator:afc54c26bf5805d5aadcebcefe482eaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2698aa30831e4f5785e33ebeb21b4f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2698aa30831e4f5785e33ebeb21b4f53">project_vector</a> (<a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a> fptr, <a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a> gptr, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters, <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;new_vector, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:a2698aa30831e4f5785e33ebeb21b4f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary functions onto a vector of degree of freedom values for the current system.  <a href="#a2698aa30831e4f5785e33ebeb21b4f53">更多...</a><br/></td></tr>
<tr class="separator:a2698aa30831e4f5785e33ebeb21b4f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96afadf8b4e2967988fa423070c97866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a96afadf8b4e2967988fa423070c97866">boundary_project_solution</a> (const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr)</td></tr>
<tr class="memdesc:a96afadf8b4e2967988fa423070c97866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system.  <a href="#a96afadf8b4e2967988fa423070c97866">更多...</a><br/></td></tr>
<tr class="separator:a96afadf8b4e2967988fa423070c97866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a90d5c7c7a97a4383f088f522ca0d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a70a90d5c7c7a97a4383f088f522ca0d8">boundary_project_solution</a> (const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, <a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a> fptr, <a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a> gptr, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters)</td></tr>
<tr class="memdesc:a70a90d5c7c7a97a4383f088f522ca0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system.  <a href="#a70a90d5c7c7a97a4383f088f522ca0d8">更多...</a><br/></td></tr>
<tr class="separator:a70a90d5c7c7a97a4383f088f522ca0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24af24b7af53cb6bab7f5a046ba2e45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab24af24b7af53cb6bab7f5a046ba2e45">boundary_project_vector</a> (const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;new_vector, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *f, <a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *g=nullptr, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:ab24af24b7af53cb6bab7f5a046ba2e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system.  <a href="#ab24af24b7af53cb6bab7f5a046ba2e45">更多...</a><br/></td></tr>
<tr class="separator:ab24af24b7af53cb6bab7f5a046ba2e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16f986edcb3de23b587b3ad020faa90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad16f986edcb3de23b587b3ad020faa90">boundary_project_vector</a> (const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, <a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a> fptr, <a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a> gptr, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters, <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;new_vector, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:ad16f986edcb3de23b587b3ad020faa90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system.  <a href="#ad16f986edcb3de23b587b3ad020faa90">更多...</a><br/></td></tr>
<tr class="separator:ad16f986edcb3de23b587b3ad020faa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5caacb487b070842733f1c84b9a2fd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a> () const </td></tr>
<tr class="separator:aee5caacb487b070842733f1c84b9a2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4975cc3fa5f1e70fd9a6073a25abc78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad4975cc3fa5f1e70fd9a6073a25abc78">update_global_solution</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;global_soln) const </td></tr>
<tr class="memdesc:ad4975cc3fa5f1e70fd9a6073a25abc78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the input vector <code>global_soln</code> so that it contains the global solution on all processors.  <a href="#ad4975cc3fa5f1e70fd9a6073a25abc78">更多...</a><br/></td></tr>
<tr class="separator:ad4975cc3fa5f1e70fd9a6073a25abc78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5cadabcb6208c3d2dd9f807ffcacf04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac5cadabcb6208c3d2dd9f807ffcacf04">update_global_solution</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;global_soln, const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> dest_proc) const </td></tr>
<tr class="memdesc:ac5cadabcb6208c3d2dd9f807ffcacf04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the input vector <code>global_soln</code> so that it contains the global solution on processor <code>dest_proc</code>.  <a href="#ac5cadabcb6208c3d2dd9f807ffcacf04">更多...</a><br/></td></tr>
<tr class="separator:ac5cadabcb6208c3d2dd9f807ffcacf04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39141a08afe4e0334c21035de6f0b7a3"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a> () const </td></tr>
<tr class="separator:a39141a08afe4e0334c21035de6f0b7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21ba8b25570465e1262a579566375ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad21ba8b25570465e1262a579566375ae">get_mesh</a> ()</td></tr>
<tr class="separator:ad21ba8b25570465e1262a579566375ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b392c8791f781092d6326e51856f553"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1DofMap.html">DofMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a> () const </td></tr>
<tr class="separator:a3b392c8791f781092d6326e51856f553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255709f85c1967d3670ec371048f20e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1DofMap.html">DofMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a255709f85c1967d3670ec371048f20e7">get_dof_map</a> ()</td></tr>
<tr class="separator:a255709f85c1967d3670ec371048f20e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ca6b1f3adcfac56982982e90dc905b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">get_equation_systems</a> () const </td></tr>
<tr class="separator:ac5ca6b1f3adcfac56982982e90dc905b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6407174ed7461749bc7fb9c453f169cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6407174ed7461749bc7fb9c453f169cf">get_equation_systems</a> ()</td></tr>
<tr class="separator:a6407174ed7461749bc7fb9c453f169cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0abd752d5ad75ea99581c65e0d5c2fb7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a0abd752d5ad75ea99581c65e0d5c2fb7">active</a> () const </td></tr>
<tr class="separator:a0abd752d5ad75ea99581c65e0d5c2fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2caec05f9f5fbdeee0ed4a1245f5e150"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2caec05f9f5fbdeee0ed4a1245f5e150">activate</a> ()</td></tr>
<tr class="memdesc:a2caec05f9f5fbdeee0ed4a1245f5e150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates the system.  <a href="#a2caec05f9f5fbdeee0ed4a1245f5e150">更多...</a><br/></td></tr>
<tr class="separator:a2caec05f9f5fbdeee0ed4a1245f5e150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba45875ecfb9f9151a014cadac8109c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9ba45875ecfb9f9151a014cadac8109c">deactivate</a> ()</td></tr>
<tr class="memdesc:a9ba45875ecfb9f9151a014cadac8109c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the system.  <a href="#a9ba45875ecfb9f9151a014cadac8109c">更多...</a><br/></td></tr>
<tr class="separator:a9ba45875ecfb9f9151a014cadac8109c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42e57affc13d641c216b5909f47b960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab42e57affc13d641c216b5909f47b960">set_basic_system_only</a> ()</td></tr>
<tr class="memdesc:ab42e57affc13d641c216b5909f47b960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the system to be "basic only": i.e.  <a href="#ab42e57affc13d641c216b5909f47b960">更多...</a><br/></td></tr>
<tr class="separator:ab42e57affc13d641c216b5909f47b960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293a39e0a532954f5c643b5d3650c048"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">vectors_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a> ()</td></tr>
<tr class="memdesc:a293a39e0a532954f5c643b5d3650c048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Beginning of vectors container.  <a href="#a293a39e0a532954f5c643b5d3650c048">更多...</a><br/></td></tr>
<tr class="separator:a293a39e0a532954f5c643b5d3650c048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0394a0bff8e3746a49eed518cc8c00c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">const_vectors_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a0394a0bff8e3746a49eed518cc8c00c8">vectors_begin</a> () const </td></tr>
<tr class="memdesc:a0394a0bff8e3746a49eed518cc8c00c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Beginning of vectors container.  <a href="#a0394a0bff8e3746a49eed518cc8c00c8">更多...</a><br/></td></tr>
<tr class="separator:a0394a0bff8e3746a49eed518cc8c00c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bad75f37fdc2e047d73830d182e1314"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">vectors_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8bad75f37fdc2e047d73830d182e1314">vectors_end</a> ()</td></tr>
<tr class="memdesc:a8bad75f37fdc2e047d73830d182e1314"><td class="mdescLeft">&#160;</td><td class="mdescRight">End of vectors container.  <a href="#a8bad75f37fdc2e047d73830d182e1314">更多...</a><br/></td></tr>
<tr class="separator:a8bad75f37fdc2e047d73830d182e1314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb796e766f91a826247574816d375407"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">const_vectors_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#acb796e766f91a826247574816d375407">vectors_end</a> () const </td></tr>
<tr class="memdesc:acb796e766f91a826247574816d375407"><td class="mdescLeft">&#160;</td><td class="mdescRight">End of vectors container.  <a href="#acb796e766f91a826247574816d375407">更多...</a><br/></td></tr>
<tr class="separator:acb796e766f91a826247574816d375407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b89c8295f639035ee70666476a1606"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a> (std::string_view vec_name, const bool projections=true, const <a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a> type=<a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>)</td></tr>
<tr class="memdesc:a73b89c8295f639035ee70666476a1606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the additional vector <code>vec_name</code> to this system.  <a href="#a73b89c8295f639035ee70666476a1606">更多...</a><br/></td></tr>
<tr class="separator:a73b89c8295f639035ee70666476a1606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494ee3a04eb1abcf72d2a4dcaf97f310"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a494ee3a04eb1abcf72d2a4dcaf97f310">remove_vector</a> (std::string_view vec_name)</td></tr>
<tr class="memdesc:a494ee3a04eb1abcf72d2a4dcaf97f310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the additional vector <code>vec_name</code> from this system.  <a href="#a494ee3a04eb1abcf72d2a4dcaf97f310">更多...</a><br/></td></tr>
<tr class="separator:a494ee3a04eb1abcf72d2a4dcaf97f310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a93003e559fb4b266738e81fa52585"><td class="memItemLeft" align="right" valign="top">bool &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a04a93003e559fb4b266738e81fa52585">project_solution_on_reinit</a> (void)</td></tr>
<tr class="memdesc:a04a93003e559fb4b266738e81fa52585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> whether or not to project the solution vector onto new grids when the system is reinitialized.  <a href="#a04a93003e559fb4b266738e81fa52585">更多...</a><br/></td></tr>
<tr class="separator:a04a93003e559fb4b266738e81fa52585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ced35ea1ff00cc42a9580ec1d809093"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8ced35ea1ff00cc42a9580ec1d809093">have_vector</a> (std::string_view vec_name) const </td></tr>
<tr class="separator:a8ced35ea1ff00cc42a9580ec1d809093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96c930e174fca5f5ef96298ae1e8349"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae96c930e174fca5f5ef96298ae1e8349">request_vector</a> (std::string_view vec_name) const </td></tr>
<tr class="separator:ae96c930e174fca5f5ef96298ae1e8349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dfd48cc6b4ee9f400f9cdf231aaf73c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8dfd48cc6b4ee9f400f9cdf231aaf73c">request_vector</a> (std::string_view vec_name)</td></tr>
<tr class="separator:a8dfd48cc6b4ee9f400f9cdf231aaf73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1b6411c265710301c4decf4b14c31b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a5d1b6411c265710301c4decf4b14c31b">request_vector</a> (const unsigned int vec_num) const </td></tr>
<tr class="separator:a5d1b6411c265710301c4decf4b14c31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4c16924aa396c1e27f1e2697bb859b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a7a4c16924aa396c1e27f1e2697bb859b">request_vector</a> (const unsigned int vec_num)</td></tr>
<tr class="separator:a7a4c16924aa396c1e27f1e2697bb859b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2398b253d3fd1ec124777c4cbb6ba6c0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a> (std::string_view vec_name) const </td></tr>
<tr class="separator:a2398b253d3fd1ec124777c4cbb6ba6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5037f203f6d58466b1af08cc8fd74772"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a5037f203f6d58466b1af08cc8fd74772">get_vector</a> (std::string_view vec_name)</td></tr>
<tr class="separator:a5037f203f6d58466b1af08cc8fd74772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61673ce724fff56da3e6fc2913684db"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aa61673ce724fff56da3e6fc2913684db">get_vector</a> (const unsigned int vec_num) const </td></tr>
<tr class="separator:aa61673ce724fff56da3e6fc2913684db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eecf3fc4893f55bb46d783af3d85baf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a5eecf3fc4893f55bb46d783af3d85baf">get_vector</a> (const unsigned int vec_num)</td></tr>
<tr class="separator:a5eecf3fc4893f55bb46d783af3d85baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a443f0f130fa43570e3c82994c634b8"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6a443f0f130fa43570e3c82994c634b8">vector_name</a> (const unsigned int vec_num) const </td></tr>
<tr class="separator:a6a443f0f130fa43570e3c82994c634b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac238a615f0df0877e346d8d1091632e7"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac238a615f0df0877e346d8d1091632e7">vector_name</a> (const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;vec_reference) const </td></tr>
<tr class="separator:ac238a615f0df0877e346d8d1091632e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6beb9627c21ea35b0a3fd070faaa855e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6beb9627c21ea35b0a3fd070faaa855e">set_vector_as_adjoint</a> (const std::string &amp;vec_name, int qoi_num)</td></tr>
<tr class="memdesc:a6beb9627c21ea35b0a3fd070faaa855e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows one to set the QoI index controlling whether the vector identified by vec_name represents a solution from the adjoint (qoi_num &gt;= 0) or primal (qoi_num == -1) space.  <a href="#a6beb9627c21ea35b0a3fd070faaa855e">更多...</a><br/></td></tr>
<tr class="separator:a6beb9627c21ea35b0a3fd070faaa855e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588ada48776f00651c12d2799a53c2bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a588ada48776f00651c12d2799a53c2bc">vector_is_adjoint</a> (std::string_view vec_name) const </td></tr>
<tr class="separator:a588ada48776f00651c12d2799a53c2bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751b43d5879b101026eb7664c7a45443"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a751b43d5879b101026eb7664c7a45443">set_vector_preservation</a> (const std::string &amp;vec_name, bool preserve)</td></tr>
<tr class="memdesc:a751b43d5879b101026eb7664c7a45443"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows one to set the boolean controlling whether the vector identified by vec_name should be "preserved": projected to new meshes, saved, etc.  <a href="#a751b43d5879b101026eb7664c7a45443">更多...</a><br/></td></tr>
<tr class="separator:a751b43d5879b101026eb7664c7a45443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42aa9ababa5c866dcde0209ebf23be4f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a42aa9ababa5c866dcde0209ebf23be4f">vector_preservation</a> (std::string_view vec_name) const </td></tr>
<tr class="separator:a42aa9ababa5c866dcde0209ebf23be4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5777831398d0a7a0d8ef2a231824989"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab5777831398d0a7a0d8ef2a231824989">add_adjoint_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:ab5777831398d0a7a0d8ef2a231824989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf02ff714b2d9b6aca4e8d696856529"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:aeaf02ff714b2d9b6aca4e8d696856529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff763590396fc13d20827142198592e7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aff763590396fc13d20827142198592e7">get_adjoint_solution</a> (unsigned int i=0) const </td></tr>
<tr class="separator:aff763590396fc13d20827142198592e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af728122cdd5677dc5a78e698bd1b35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8af728122cdd5677dc5a78e698bd1b35">add_sensitivity_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:a8af728122cdd5677dc5a78e698bd1b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920173d7f09d6f17b4451f354b7bccac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:a920173d7f09d6f17b4451f354b7bccac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94373373f4ceb680968c8f8ebcac4bfd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a94373373f4ceb680968c8f8ebcac4bfd">get_sensitivity_solution</a> (unsigned int i=0) const </td></tr>
<tr class="separator:a94373373f4ceb680968c8f8ebcac4bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e412144b3c5c1cc59cbb9e52b9ab05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a16e412144b3c5c1cc59cbb9e52b9ab05">add_weighted_sensitivity_adjoint_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:a16e412144b3c5c1cc59cbb9e52b9ab05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497665a8b66520f587e5e5102c94420c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">get_weighted_sensitivity_adjoint_solution</a> (unsigned int i=0)</td></tr>
<tr class="separator:a497665a8b66520f587e5e5102c94420c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab363af94629536786940958b38f38010"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab363af94629536786940958b38f38010">get_weighted_sensitivity_adjoint_solution</a> (unsigned int i=0) const </td></tr>
<tr class="separator:ab363af94629536786940958b38f38010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1922f73d344e6e1bea9100fec966e54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae1922f73d344e6e1bea9100fec966e54">add_weighted_sensitivity_solution</a> ()</td></tr>
<tr class="separator:ae1922f73d344e6e1bea9100fec966e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4168ae004bc141639bb8b2b44de45cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a> ()</td></tr>
<tr class="separator:ad4168ae004bc141639bb8b2b44de45cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac08a4777e59167b26c810c75772e974a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac08a4777e59167b26c810c75772e974a">get_weighted_sensitivity_solution</a> () const </td></tr>
<tr class="separator:ac08a4777e59167b26c810c75772e974a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21c031f38c12ff111865623561b6687"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab21c031f38c12ff111865623561b6687">add_adjoint_rhs</a> (unsigned int i=0)</td></tr>
<tr class="separator:ab21c031f38c12ff111865623561b6687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe988921e219358881c49d1fa7303507"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a> (unsigned int i=0)</td></tr>
<tr class="separator:afe988921e219358881c49d1fa7303507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51faae6da9b7a003b5ad500f01d2d2e4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a51faae6da9b7a003b5ad500f01d2d2e4">get_adjoint_rhs</a> (unsigned int i=0) const </td></tr>
<tr class="separator:a51faae6da9b7a003b5ad500f01d2d2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65312b9004fc31ba812b7ec32515a2fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a65312b9004fc31ba812b7ec32515a2fa">add_sensitivity_rhs</a> (unsigned int i=0)</td></tr>
<tr class="separator:a65312b9004fc31ba812b7ec32515a2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3023ee4c1d7ff532fab06136eed63c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aad3023ee4c1d7ff532fab06136eed63c">get_sensitivity_rhs</a> (unsigned int i=0)</td></tr>
<tr class="separator:aad3023ee4c1d7ff532fab06136eed63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ed3a6cb7e47b3caa7f9b4e8893874f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a90ed3a6cb7e47b3caa7f9b4e8893874f">get_sensitivity_rhs</a> (unsigned int i=0) const </td></tr>
<tr class="separator:a90ed3a6cb7e47b3caa7f9b4e8893874f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bd8cfb070bab2dc814c33749c8c21b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a> () const </td></tr>
<tr class="separator:a46bd8cfb070bab2dc814c33749c8c21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17680e6b4bf7abfb50c8d36e0c8bb59d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a17680e6b4bf7abfb50c8d36e0c8bb59d">n_matrices</a> () const </td></tr>
<tr class="separator:a17680e6b4bf7abfb50c8d36e0c8bb59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf032eda109fe32a7fcde672ef5726e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a> () const </td></tr>
<tr class="separator:a4cf032eda109fe32a7fcde672ef5726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f610871e1ffd907872018e6e1164f4"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a> () const </td></tr>
<tr class="separator:a45f610871e1ffd907872018e6e1164f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f572f472e767adada89af6b82547ddd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6f572f472e767adada89af6b82547ddd">n_components</a> () const </td></tr>
<tr class="separator:a6f572f472e767adada89af6b82547ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57de7c4f37f7ca24fbf185d3d07054cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a> () const </td></tr>
<tr class="separator:a57de7c4f37f7ca24fbf185d3d07054cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7b5bfe3979ffccc49e013590b4cfa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6b7b5bfe3979ffccc49e013590b4cfa3">n_active_dofs</a> () const </td></tr>
<tr class="separator:a6b7b5bfe3979ffccc49e013590b4cfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3244b511caa986cb90536628f4bf8eff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3244b511caa986cb90536628f4bf8eff">n_constrained_dofs</a> () const </td></tr>
<tr class="separator:a3244b511caa986cb90536628f4bf8eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c0cdd1dc6cf29034cba6b4236fceec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a17c0cdd1dc6cf29034cba6b4236fceec">n_local_constrained_dofs</a> () const </td></tr>
<tr class="separator:a17c0cdd1dc6cf29034cba6b4236fceec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a069a96e414fd05d292e3bb3a1a475602"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a> () const </td></tr>
<tr class="separator:a069a96e414fd05d292e3bb3a1a475602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e969faaf69643992543173498cf6b25"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a> (std::string_view var, const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;type, const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const active_subdomains=nullptr)</td></tr>
<tr class="memdesc:a6e969faaf69643992543173498cf6b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the variable <code>var</code> to the list of variables for this system.  <a href="#a6e969faaf69643992543173498cf6b25">更多...</a><br/></td></tr>
<tr class="separator:a6e969faaf69643992543173498cf6b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18d4e41db087ea87b9601c1cf781217"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac18d4e41db087ea87b9601c1cf781217">add_variable</a> (std::string_view var, const <a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a> order=<a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2a693d1c909a51afe7292cb273c313d4c3">FIRST</a>, const <a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a>=<a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2da0b0bdaef8cef619acc3e552276abfe8f">LAGRANGE</a>, const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const active_subdomains=nullptr)</td></tr>
<tr class="memdesc:ac18d4e41db087ea87b9601c1cf781217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the variable <code>var</code> to the list of variables for this system.  <a href="#ac18d4e41db087ea87b9601c1cf781217">更多...</a><br/></td></tr>
<tr class="separator:ac18d4e41db087ea87b9601c1cf781217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a7397242d9df810aa21db837526474"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac0a7397242d9df810aa21db837526474">add_variables</a> (const std::vector&lt; std::string &gt; &amp;vars, const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;type, const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const active_subdomains=nullptr)</td></tr>
<tr class="memdesc:ac0a7397242d9df810aa21db837526474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the variable <code>var</code> to the list of variables for this system.  <a href="#ac0a7397242d9df810aa21db837526474">更多...</a><br/></td></tr>
<tr class="separator:ac0a7397242d9df810aa21db837526474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44558855a02c01a5bacb52709b3f4a58"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a44558855a02c01a5bacb52709b3f4a58">add_variables</a> (const std::vector&lt; std::string &gt; &amp;vars, const <a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a> order=<a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2a693d1c909a51afe7292cb273c313d4c3">FIRST</a>, const <a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a>=<a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2da0b0bdaef8cef619acc3e552276abfe8f">LAGRANGE</a>, const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const active_subdomains=nullptr)</td></tr>
<tr class="memdesc:a44558855a02c01a5bacb52709b3f4a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the variable <code>var</code> to the list of variables for this system.  <a href="#a44558855a02c01a5bacb52709b3f4a58">更多...</a><br/></td></tr>
<tr class="separator:a44558855a02c01a5bacb52709b3f4a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d89ed534ffce5eda02dc0137583b56"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1Variable.html">Variable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a> (unsigned int var) const </td></tr>
<tr class="memdesc:a56d89ed534ffce5eda02dc0137583b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a constant reference to <code><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a></code> <code>var</code>.  <a href="#a56d89ed534ffce5eda02dc0137583b56">更多...</a><br/></td></tr>
<tr class="separator:a56d89ed534ffce5eda02dc0137583b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9737135afee0afcde47e30a411001a9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1VariableGroup.html">VariableGroup</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac9737135afee0afcde47e30a411001a9">variable_group</a> (unsigned int vg) const </td></tr>
<tr class="memdesc:ac9737135afee0afcde47e30a411001a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a constant reference to <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> <code>vg</code>.  <a href="#ac9737135afee0afcde47e30a411001a9">更多...</a><br/></td></tr>
<tr class="separator:ac9737135afee0afcde47e30a411001a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c56fafca7cb14f7246169f6179e75d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae1c56fafca7cb14f7246169f6179e75d">has_variable</a> (std::string_view var) const </td></tr>
<tr class="separator:ae1c56fafca7cb14f7246169f6179e75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cddad5dd8b68389373567fddfbdb257"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a> (const unsigned int i) const </td></tr>
<tr class="separator:a9cddad5dd8b68389373567fddfbdb257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2106b9ef395b8ee20200653ea40629f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">variable_number</a> (std::string_view var) const </td></tr>
<tr class="separator:ad2106b9ef395b8ee20200653ea40629f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8675912333213ff5ec6ca4b87b13f13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac8675912333213ff5ec6ca4b87b13f13">get_all_variable_numbers</a> (std::vector&lt; unsigned int &gt; &amp;all_variable_numbers) const </td></tr>
<tr class="memdesc:ac8675912333213ff5ec6ca4b87b13f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills <code>all_variable_numbers</code> with all the variable numbers for the variables that have been added to this system.  <a href="#ac8675912333213ff5ec6ca4b87b13f13">更多...</a><br/></td></tr>
<tr class="separator:ac8675912333213ff5ec6ca4b87b13f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b51e2e5f42614e581f13540e2dda4aa"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8b51e2e5f42614e581f13540e2dda4aa">variable_scalar_number</a> (std::string_view var, unsigned int component) const </td></tr>
<tr class="separator:a8b51e2e5f42614e581f13540e2dda4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840232334e8e87a04da21a2f832a5475"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a840232334e8e87a04da21a2f832a5475">variable_scalar_number</a> (unsigned int var_num, unsigned int component) const </td></tr>
<tr class="separator:a840232334e8e87a04da21a2f832a5475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab321ab954fa1284069a647b311ff6d17"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a> (const unsigned int i) const </td></tr>
<tr class="separator:ab321ab954fa1284069a647b311ff6d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4a23615d04e0328acb372611a158be"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a0a4a23615d04e0328acb372611a158be">variable_type</a> (std::string_view var) const </td></tr>
<tr class="separator:a0a4a23615d04e0328acb372611a158be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51038079e055d9b42f0a591bb59c3679"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a51038079e055d9b42f0a591bb59c3679">identify_variable_groups</a> () const </td></tr>
<tr class="separator:a51038079e055d9b42f0a591bb59c3679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5994a6460722b6b7e947cebef3e5c9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad5994a6460722b6b7e947cebef3e5c9a">identify_variable_groups</a> (const bool)</td></tr>
<tr class="memdesc:ad5994a6460722b6b7e947cebef3e5c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle automatic <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> identification.  <a href="#ad5994a6460722b6b7e947cebef3e5c9a">更多...</a><br/></td></tr>
<tr class="separator:ad5994a6460722b6b7e947cebef3e5c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2058825c4de9fba1da920a4247c60d3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2058825c4de9fba1da920a4247c60d3a">calculate_norm</a> (const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;v, unsigned int var, <a class="el" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346">FEMNormType</a> norm_type, std::set&lt; unsigned int &gt; *skip_dimensions=nullptr) const </td></tr>
<tr class="separator:a2058825c4de9fba1da920a4247c60d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a905b83be8d844d7f2b3a9d922b05d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a85a905b83be8d844d7f2b3a9d922b05d">calculate_norm</a> (const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;v, const <a class="el" href="classlibMesh_1_1SystemNorm.html">SystemNorm</a> &amp;norm, std::set&lt; unsigned int &gt; *skip_dimensions=nullptr) const </td></tr>
<tr class="separator:a85a905b83be8d844d7f2b3a9d922b05d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb65fd4d50e20cc1593e578e5ff028c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aeeb65fd4d50e20cc1593e578e5ff028c">read_header</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, std::string_view version, const bool read_header=true, const bool read_additional_data=true, const bool read_legacy_format=false)</td></tr>
<tr class="memdesc:aeeb65fd4d50e20cc1593e578e5ff028c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the basic data header for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#aeeb65fd4d50e20cc1593e578e5ff028c">更多...</a><br/></td></tr>
<tr class="separator:aeeb65fd4d50e20cc1593e578e5ff028c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01d9de7172eb9ae886bbcba4aa3f9a2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a01d9de7172eb9ae886bbcba4aa3f9a2a">read_legacy_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool read_additional_data=true)</td></tr>
<tr class="memdesc:a01d9de7172eb9ae886bbcba4aa3f9a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#a01d9de7172eb9ae886bbcba4aa3f9a2a">更多...</a><br/></td></tr>
<tr class="separator:a01d9de7172eb9ae886bbcba4aa3f9a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dc2c47d9dfe118694ce25621d91f3c"><td class="memTemplParams" colspan="2">template&lt;typename ValType &gt; </td></tr>
<tr class="memitem:ab6dc2c47d9dfe118694ce25621d91f3c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ab6dc2c47d9dfe118694ce25621d91f3c">read_serialized_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool read_additional_data=true)</td></tr>
<tr class="memdesc:ab6dc2c47d9dfe118694ce25621d91f3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#ab6dc2c47d9dfe118694ce25621d91f3c">更多...</a><br/></td></tr>
<tr class="separator:ab6dc2c47d9dfe118694ce25621d91f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb0dd9d3ef0453daf9b5eeff0819736"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3eb0dd9d3ef0453daf9b5eeff0819736">read_serialized_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool read_additional_data=true)</td></tr>
<tr class="memdesc:a3eb0dd9d3ef0453daf9b5eeff0819736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-templated version for backward compatibility.  <a href="#a3eb0dd9d3ef0453daf9b5eeff0819736">更多...</a><br/></td></tr>
<tr class="separator:a3eb0dd9d3ef0453daf9b5eeff0819736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa5c1556938b178e9359f11e651b8ff"><td class="memTemplParams" colspan="2">template&lt;typename InValType &gt; </td></tr>
<tr class="memitem:a7aa5c1556938b178e9359f11e651b8ff"><td class="memTemplItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a7aa5c1556938b178e9359f11e651b8ff">read_serialized_vectors</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const std::vector&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;vectors) const </td></tr>
<tr class="memdesc:a7aa5c1556938b178e9359f11e651b8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a number of identically distributed vectors.  <a href="#a7aa5c1556938b178e9359f11e651b8ff">更多...</a><br/></td></tr>
<tr class="separator:a7aa5c1556938b178e9359f11e651b8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d985f80d7c5a4b8d7000168c010edf"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aa7d985f80d7c5a4b8d7000168c010edf">read_serialized_vectors</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const std::vector&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;vectors) const </td></tr>
<tr class="memdesc:aa7d985f80d7c5a4b8d7000168c010edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-templated version for backward compatibility.  <a href="#aa7d985f80d7c5a4b8d7000168c010edf">更多...</a><br/></td></tr>
<tr class="separator:aa7d985f80d7c5a4b8d7000168c010edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afafc4a18ca87487d39b4ca3a6e14e693"><td class="memTemplParams" colspan="2">template&lt;typename InValType &gt; </td></tr>
<tr class="memitem:afafc4a18ca87487d39b4ca3a6e14e693"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#afafc4a18ca87487d39b4ca3a6e14e693">read_parallel_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool read_additional_data)</td></tr>
<tr class="memdesc:afafc4a18ca87487d39b4ca3a6e14e693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#afafc4a18ca87487d39b4ca3a6e14e693">更多...</a><br/></td></tr>
<tr class="separator:afafc4a18ca87487d39b4ca3a6e14e693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f952c98690727e4168a8b03918f008"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a13f952c98690727e4168a8b03918f008">read_parallel_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool read_additional_data)</td></tr>
<tr class="memdesc:a13f952c98690727e4168a8b03918f008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-templated version for backward compatibility.  <a href="#a13f952c98690727e4168a8b03918f008">更多...</a><br/></td></tr>
<tr class="separator:a13f952c98690727e4168a8b03918f008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da3b8b573358122b074d47f249236ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3da3b8b573358122b074d47f249236ff">write_header</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, std::string_view version, const bool write_additional_data) const </td></tr>
<tr class="memdesc:a3da3b8b573358122b074d47f249236ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the basic data header for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#a3da3b8b573358122b074d47f249236ff">更多...</a><br/></td></tr>
<tr class="separator:a3da3b8b573358122b074d47f249236ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8063c135acc9c54240886e1ac3c9acd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae8063c135acc9c54240886e1ac3c9acd">write_serialized_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool write_additional_data=true) const </td></tr>
<tr class="memdesc:ae8063c135acc9c54240886e1ac3c9acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#ae8063c135acc9c54240886e1ac3c9acd">更多...</a><br/></td></tr>
<tr class="separator:ae8063c135acc9c54240886e1ac3c9acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e7f637e7f7008915b61c142eb36a4e"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a78e7f637e7f7008915b61c142eb36a4e">write_serialized_vectors</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const std::vector&lt; const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;vectors) const </td></tr>
<tr class="memdesc:a78e7f637e7f7008915b61c142eb36a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize &amp; write a number of identically distributed vectors.  <a href="#a78e7f637e7f7008915b61c142eb36a4e">更多...</a><br/></td></tr>
<tr class="separator:a78e7f637e7f7008915b61c142eb36a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce0f02169af7e0f55924c488bb63ad8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6ce0f02169af7e0f55924c488bb63ad8">write_parallel_data</a> (<a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;io, const bool write_additional_data) const </td></tr>
<tr class="memdesc:a6ce0f02169af7e0f55924c488bb63ad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>.  <a href="#a6ce0f02169af7e0f55924c488bb63ad8">更多...</a><br/></td></tr>
<tr class="separator:a6ce0f02169af7e0f55924c488bb63ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4e901465589bb4d2f6a8ce19d4e2c5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a4d4e901465589bb4d2f6a8ce19d4e2c5">get_info</a> () const </td></tr>
<tr class="separator:a4d4e901465589bb4d2f6a8ce19d4e2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c99bee95fdfc5b9a38cac034861496"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a69c99bee95fdfc5b9a38cac034861496">attach_init_function</a> (void fptr(<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>))</td></tr>
<tr class="memdesc:a69c99bee95fdfc5b9a38cac034861496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user function to use in initializing the system.  <a href="#a69c99bee95fdfc5b9a38cac034861496">更多...</a><br/></td></tr>
<tr class="separator:a69c99bee95fdfc5b9a38cac034861496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3c54815715309e41ba939db46dfff5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aac3c54815715309e41ba939db46dfff5">attach_init_object</a> (<a class="el" href="classlibMesh_1_1System_1_1Initialization.html">Initialization</a> &amp;<a class="el" href="classlibMesh_1_1System.html#a9cbe27bf56eae7baea5c397fa88c09a3">init</a>)</td></tr>
<tr class="memdesc:aac3c54815715309e41ba939db46dfff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user class to use to initialize the system.  <a href="#aac3c54815715309e41ba939db46dfff5">更多...</a><br/></td></tr>
<tr class="separator:aac3c54815715309e41ba939db46dfff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611b54551324acd1f072a1f809f5843a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a611b54551324acd1f072a1f809f5843a">attach_assemble_function</a> (void fptr(<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>))</td></tr>
<tr class="memdesc:a611b54551324acd1f072a1f809f5843a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user function to use in assembling the system matrix and RHS.  <a href="#a611b54551324acd1f072a1f809f5843a">更多...</a><br/></td></tr>
<tr class="separator:a611b54551324acd1f072a1f809f5843a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc7da4a4654dea097846bb441fe16d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a0fc7da4a4654dea097846bb441fe16d8">attach_assemble_object</a> (<a class="el" href="classlibMesh_1_1System_1_1Assembly.html">Assembly</a> &amp;<a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec">assemble</a>)</td></tr>
<tr class="memdesc:a0fc7da4a4654dea097846bb441fe16d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user object to use in assembling the system matrix and RHS.  <a href="#a0fc7da4a4654dea097846bb441fe16d8">更多...</a><br/></td></tr>
<tr class="separator:a0fc7da4a4654dea097846bb441fe16d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10381e68b0376de0772a5ba07982beba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a10381e68b0376de0772a5ba07982beba">attach_constraint_function</a> (void fptr(<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>))</td></tr>
<tr class="memdesc:a10381e68b0376de0772a5ba07982beba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user function for imposing constraints.  <a href="#a10381e68b0376de0772a5ba07982beba">更多...</a><br/></td></tr>
<tr class="separator:a10381e68b0376de0772a5ba07982beba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad341754f0468b7a1878a26d50c8726ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad341754f0468b7a1878a26d50c8726ae">attach_constraint_object</a> (<a class="el" href="classlibMesh_1_1System_1_1Constraint.html">Constraint</a> &amp;constrain)</td></tr>
<tr class="memdesc:ad341754f0468b7a1878a26d50c8726ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user object for imposing constraints.  <a href="#ad341754f0468b7a1878a26d50c8726ae">更多...</a><br/></td></tr>
<tr class="separator:ad341754f0468b7a1878a26d50c8726ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb2fdc8f4ca8607b8d9d4cfd21a5cf9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8eb2fdc8f4ca8607b8d9d4cfd21a5cf9">has_constraint_object</a> () const </td></tr>
<tr class="separator:a8eb2fdc8f4ca8607b8d9d4cfd21a5cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022401d3a4bd375a5d257e7928618f45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System_1_1Constraint.html">Constraint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a022401d3a4bd375a5d257e7928618f45">get_constraint_object</a> ()</td></tr>
<tr class="memdesc:a022401d3a4bd375a5d257e7928618f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the user object for imposing constraints.  <a href="#a022401d3a4bd375a5d257e7928618f45">更多...</a><br/></td></tr>
<tr class="separator:a022401d3a4bd375a5d257e7928618f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6471fddc304ce4a3de018b4fbf821135"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6471fddc304ce4a3de018b4fbf821135">attach_QOI_function</a> (void fptr(<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices))</td></tr>
<tr class="memdesc:a6471fddc304ce4a3de018b4fbf821135"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user function for evaluating the quantities of interest, whose values should be placed in <code><a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6" title="Values of the quantities of interest. ">System::qoi</a></code>.  <a href="#a6471fddc304ce4a3de018b4fbf821135">更多...</a><br/></td></tr>
<tr class="separator:a6471fddc304ce4a3de018b4fbf821135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b1c3e4b9aa3ef3a95c0939c3e1183b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad7b1c3e4b9aa3ef3a95c0939c3e1183b">attach_QOI_object</a> (<a class="el" href="classlibMesh_1_1System_1_1QOI.html">QOI</a> &amp;<a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>)</td></tr>
<tr class="memdesc:ad7b1c3e4b9aa3ef3a95c0939c3e1183b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user object for evaluating the quantities of interest, whose values should be placed in <code><a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6" title="Values of the quantities of interest. ">System::qoi</a></code>.  <a href="#ad7b1c3e4b9aa3ef3a95c0939c3e1183b">更多...</a><br/></td></tr>
<tr class="separator:ad7b1c3e4b9aa3ef3a95c0939c3e1183b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8269159bb8129781aca9b3787d0fd2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ae8269159bb8129781aca9b3787d0fd2c">attach_QOI_derivative</a> (void fptr(<a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;es, const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices, bool include_liftfunc, bool apply_constraints))</td></tr>
<tr class="memdesc:ae8269159bb8129781aca9b3787d0fd2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user function for evaluating derivatives of a quantity of interest with respect to test functions, whose values should be placed in <code>System::rhs</code>.  <a href="#ae8269159bb8129781aca9b3787d0fd2c">更多...</a><br/></td></tr>
<tr class="separator:ae8269159bb8129781aca9b3787d0fd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3ee567661a12b5282580e0a9cb8988"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aed3ee567661a12b5282580e0a9cb8988">attach_QOI_derivative_object</a> (<a class="el" href="classlibMesh_1_1System_1_1QOIDerivative.html">QOIDerivative</a> &amp;qoi_derivative)</td></tr>
<tr class="memdesc:aed3ee567661a12b5282580e0a9cb8988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a user object for evaluating derivatives of a quantity of interest with respect to test functions, whose values should be placed in <code>System::rhs</code>.  <a href="#aed3ee567661a12b5282580e0a9cb8988">更多...</a><br/></td></tr>
<tr class="separator:aed3ee567661a12b5282580e0a9cb8988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7a3a1e154fe61af97e966f3ab34ae2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a5f7a3a1e154fe61af97e966f3ab34ae2">user_initialization</a> ()</td></tr>
<tr class="memdesc:a5f7a3a1e154fe61af97e966f3ab34ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls user's attached initialization function, or is overridden by the user in derived classes.  <a href="#a5f7a3a1e154fe61af97e966f3ab34ae2">更多...</a><br/></td></tr>
<tr class="separator:a5f7a3a1e154fe61af97e966f3ab34ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792940ed6cca41b5dcaf878429a50253"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a792940ed6cca41b5dcaf878429a50253">user_assembly</a> ()</td></tr>
<tr class="memdesc:a792940ed6cca41b5dcaf878429a50253"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls user's attached assembly function, or is overridden by the user in derived classes.  <a href="#a792940ed6cca41b5dcaf878429a50253">更多...</a><br/></td></tr>
<tr class="separator:a792940ed6cca41b5dcaf878429a50253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e857fcc4af2756cdd0d16563dfbbe83"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8e857fcc4af2756cdd0d16563dfbbe83">user_constrain</a> ()</td></tr>
<tr class="memdesc:a8e857fcc4af2756cdd0d16563dfbbe83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls user's attached constraint function, or is overridden by the user in derived classes.  <a href="#a8e857fcc4af2756cdd0d16563dfbbe83">更多...</a><br/></td></tr>
<tr class="separator:a8e857fcc4af2756cdd0d16563dfbbe83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e75c1bd2055bb1bf9f5832a62c0039d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3e75c1bd2055bb1bf9f5832a62c0039d">user_QOI</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices)</td></tr>
<tr class="memdesc:a3e75c1bd2055bb1bf9f5832a62c0039d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls user's attached quantity of interest function, or is overridden by the user in derived classes.  <a href="#a3e75c1bd2055bb1bf9f5832a62c0039d">更多...</a><br/></td></tr>
<tr class="separator:a3e75c1bd2055bb1bf9f5832a62c0039d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bed9a357369eb62e07a361c68efa11"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a01bed9a357369eb62e07a361c68efa11">user_QOI_derivative</a> (const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices=<a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>(), bool include_liftfunc=true, bool apply_constraints=true)</td></tr>
<tr class="memdesc:a01bed9a357369eb62e07a361c68efa11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls user's attached quantity of interest derivative function, or is overridden by the user in derived classes.  <a href="#a01bed9a357369eb62e07a361c68efa11">更多...</a><br/></td></tr>
<tr class="separator:a01bed9a357369eb62e07a361c68efa11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f76b0ddbd8084a2a01a12495ebad2d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a95f76b0ddbd8084a2a01a12495ebad2d">re_update</a> ()</td></tr>
<tr class="memdesc:a95f76b0ddbd8084a2a01a12495ebad2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-update the local values when the mesh has changed.  <a href="#a95f76b0ddbd8084a2a01a12495ebad2d">更多...</a><br/></td></tr>
<tr class="separator:a95f76b0ddbd8084a2a01a12495ebad2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78af7f915ad5c678e3629ddced200967"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a78af7f915ad5c678e3629ddced200967">restrict_vectors</a> ()</td></tr>
<tr class="memdesc:a78af7f915ad5c678e3629ddced200967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restrict vectors after the mesh has coarsened.  <a href="#a78af7f915ad5c678e3629ddced200967">更多...</a><br/></td></tr>
<tr class="separator:a78af7f915ad5c678e3629ddced200967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55667d016781687feed399872671c963"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a55667d016781687feed399872671c963">prolong_vectors</a> ()</td></tr>
<tr class="memdesc:a55667d016781687feed399872671c963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prolong vectors after the mesh has refined.  <a href="#a55667d016781687feed399872671c963">更多...</a><br/></td></tr>
<tr class="separator:a55667d016781687feed399872671c963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a62ad32105a9dd50721e5a6098f671f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a5a62ad32105a9dd50721e5a6098f671f">current_solution</a> (const <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> global_dof_number) const </td></tr>
<tr class="separator:a5a62ad32105a9dd50721e5a6098f671f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993ffd888b690f4af0e1dd5a3df49b3f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a> () const </td></tr>
<tr class="memdesc:a993ffd888b690f4af0e1dd5a3df49b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of currently active quantities of interest.  <a href="#a993ffd888b690f4af0e1dd5a3df49b3f">更多...</a><br/></td></tr>
<tr class="separator:a993ffd888b690f4af0e1dd5a3df49b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b01bc6397bd45d31c7a8956c5285d72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a8b01bc6397bd45d31c7a8956c5285d72">init_qois</a> (unsigned int <a class="el" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>)</td></tr>
<tr class="memdesc:a8b01bc6397bd45d31c7a8956c5285d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessors for qoi and qoi_error_estimates vectors.  <a href="#a8b01bc6397bd45d31c7a8956c5285d72">更多...</a><br/></td></tr>
<tr class="separator:a8b01bc6397bd45d31c7a8956c5285d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4e8f8e0fe305b5828354b7bf28540e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2b4e8f8e0fe305b5828354b7bf28540e">set_qoi</a> (unsigned int qoi_index, <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> qoi_value)</td></tr>
<tr class="separator:a2b4e8f8e0fe305b5828354b7bf28540e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b479fd707728fa0f08e385ac73f9205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a1b479fd707728fa0f08e385ac73f9205">set_qoi</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; new_qoi)</td></tr>
<tr class="separator:a1b479fd707728fa0f08e385ac73f9205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbaff444a42dd4ce946b4dc46554f41d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a> (unsigned int qoi_index) const </td></tr>
<tr class="separator:abbaff444a42dd4ce946b4dc46554f41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b23ab84ecbb678fe65e76fc29567c8b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a> () const </td></tr>
<tr class="memdesc:a9b23ab84ecbb678fe65e76fc29567c8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <em>copy</em> of qoi, not a reference.  <a href="#a9b23ab84ecbb678fe65e76fc29567c8b">更多...</a><br/></td></tr>
<tr class="separator:a9b23ab84ecbb678fe65e76fc29567c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17f64d897e96f29458159a130cf6c95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ac17f64d897e96f29458159a130cf6c95">set_qoi_error_estimate</a> (unsigned int qoi_index, <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> qoi_error_estimate)</td></tr>
<tr class="separator:ac17f64d897e96f29458159a130cf6c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea69d8396c2307d52d374f7bd0263245"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aea69d8396c2307d52d374f7bd0263245">get_qoi_error_estimate_value</a> (unsigned int qoi_index) const </td></tr>
<tr class="separator:aea69d8396c2307d52d374f7bd0263245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32dc23729dbda0930043a703e489aabe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const bool insist_on_success=true, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a32dc23729dbda0930043a703e489aabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cbd4827285c18d03a0716b34074dc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a16cbd4827285c18d03a0716b34074dc1">point_value</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;e, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a16cbd4827285c18d03a0716b34074dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60cfe486b33aae1df441ab89dc7ad06a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a60cfe486b33aae1df441ab89dc7ad06a">point_value</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *e) const </td></tr>
<tr class="memdesc:a60cfe486b33aae1df441ab89dc7ad06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a> which takes a reference.  <a href="#a60cfe486b33aae1df441ab89dc7ad06a">更多...</a><br/></td></tr>
<tr class="separator:a60cfe486b33aae1df441ab89dc7ad06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f3cd2f1b27b09d8a435e27de8e52a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a04f3cd2f1b27b09d8a435e27de8e52a4">point_value</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol) const </td></tr>
<tr class="memdesc:a04f3cd2f1b27b09d8a435e27de8e52a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a>.  <a href="#a04f3cd2f1b27b09d8a435e27de8e52a4">更多...</a><br/></td></tr>
<tr class="separator:a04f3cd2f1b27b09d8a435e27de8e52a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c35d2269fdf58a67c35243406d5cc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const bool insist_on_success=true, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a63c35d2269fdf58a67c35243406d5cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48dffd057337bcc38139c90b1c71a6bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a48dffd057337bcc38139c90b1c71a6bd">point_gradient</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;e, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a48dffd057337bcc38139c90b1c71a6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445b62a34b81751d50bb800302d8764f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a445b62a34b81751d50bb800302d8764f">point_gradient</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *e) const </td></tr>
<tr class="memdesc:a445b62a34b81751d50bb800302d8764f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a> which takes a reference.  <a href="#a445b62a34b81751d50bb800302d8764f">更多...</a><br/></td></tr>
<tr class="separator:a445b62a34b81751d50bb800302d8764f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81271f1aa0d210df10c6b176e4f78787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a81271f1aa0d210df10c6b176e4f78787">point_gradient</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol) const </td></tr>
<tr class="memdesc:a81271f1aa0d210df10c6b176e4f78787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a>.  <a href="#a81271f1aa0d210df10c6b176e4f78787">更多...</a><br/></td></tr>
<tr class="separator:a81271f1aa0d210df10c6b176e4f78787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6409dc341216274e1f8d43ea16f1f152"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const bool insist_on_success=true, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a6409dc341216274e1f8d43ea16f1f152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac195d544153c6ddff2d76979303b62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6ac195d544153c6ddff2d76979303b62">point_hessian</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;e, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol=nullptr) const </td></tr>
<tr class="separator:a6ac195d544153c6ddff2d76979303b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadaf986b9da86669089dbab71634878e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aadaf986b9da86669089dbab71634878e">point_hessian</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *e) const </td></tr>
<tr class="memdesc:aadaf986b9da86669089dbab71634878e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a> which takes a reference.  <a href="#aadaf986b9da86669089dbab71634878e">更多...</a><br/></td></tr>
<tr class="separator:aadaf986b9da86669089dbab71634878e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbcf5be115df75e2c7d8517276d1fc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9dbcf5be115df75e2c7d8517276d1fc3">point_hessian</a> (unsigned int var, const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *sol) const </td></tr>
<tr class="memdesc:a9dbcf5be115df75e2c7d8517276d1fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a>.  <a href="#a9dbcf5be115df75e2c7d8517276d1fc3">更多...</a><br/></td></tr>
<tr class="separator:a9dbcf5be115df75e2c7d8517276d1fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ba0db1bb3ca6f71f6834e2cc07044f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a82ba0db1bb3ca6f71f6834e2cc07044f">local_dof_indices</a> (const unsigned int var, std::set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; &amp;var_indices) const </td></tr>
<tr class="memdesc:a82ba0db1bb3ca6f71f6834e2cc07044f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills the std::set with the degrees of freedom on the local processor corresponding the the variable number passed in.  <a href="#a82ba0db1bb3ca6f71f6834e2cc07044f">更多...</a><br/></td></tr>
<tr class="separator:a82ba0db1bb3ca6f71f6834e2cc07044f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1768b0db365db97ce4486167dca4efff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a1768b0db365db97ce4486167dca4efff">zero_variable</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;v, unsigned int var_num) const </td></tr>
<tr class="memdesc:a1768b0db365db97ce4486167dca4efff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeroes all dofs in <code>v</code> that correspond to variable number <code>var_num</code>.  <a href="#a1768b0db365db97ce4486167dca4efff">更多...</a><br/></td></tr>
<tr class="separator:a1768b0db365db97ce4486167dca4efff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68be6bd3de0d76e849249546bb8e3434"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a68be6bd3de0d76e849249546bb8e3434">get_project_with_constraints</a> ()</td></tr>
<tr class="memdesc:a68be6bd3de0d76e849249546bb8e3434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter and getter functions for project_with_constraints boolean.  <a href="#a68be6bd3de0d76e849249546bb8e3434">更多...</a><br/></td></tr>
<tr class="separator:a68be6bd3de0d76e849249546bb8e3434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96757fa4555b626bc600bfacd775876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ad96757fa4555b626bc600bfacd775876">set_project_with_constraints</a> (bool _project_with_constraints)</td></tr>
<tr class="separator:ad96757fa4555b626bc600bfacd775876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592a8b8f5384557b2992e870d0513ffd"><td class="memItemLeft" align="right" valign="top">bool &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a592a8b8f5384557b2992e870d0513ffd">hide_output</a> ()</td></tr>
<tr class="separator:a592a8b8f5384557b2992e870d0513ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0df496ef8cd4d60eadfb9a42294cf72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#af0df496ef8cd4d60eadfb9a42294cf72">projection_matrix</a> (<a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;proj_mat) const </td></tr>
<tr class="memdesc:af0df496ef8cd4d60eadfb9a42294cf72"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method creates a projection matrix which corresponds to the operation of project_vector between old and new solution spaces.  <a href="#af0df496ef8cd4d60eadfb9a42294cf72">更多...</a><br/></td></tr>
<tr class="separator:af0df496ef8cd4d60eadfb9a42294cf72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093662b71afff79539246455941fc342"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a093662b71afff79539246455941fc342">add_matrix</a> (std::string_view mat_name, <a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a> type=<a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>, <a class="el" href="namespacelibMesh.html#a4eace1aabc535e887730e3657345bbb2">MatrixBuildType</a> mat_build_type=MatrixBuildType::AUTOMATIC)</td></tr>
<tr class="memdesc:a093662b71afff79539246455941fc342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the additional matrix <code>mat_name</code> to this system.  <a href="#a093662b71afff79539246455941fc342">更多...</a><br/></td></tr>
<tr class="separator:a093662b71afff79539246455941fc342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3141abd9409c7e7f0f7609a81b3c8d"><td class="memTemplParams" colspan="2">template&lt;template&lt; typename &gt; class&gt; </td></tr>
<tr class="memitem:a0f3141abd9409c7e7f0f7609a81b3c8d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a0f3141abd9409c7e7f0f7609a81b3c8d">add_matrix</a> (std::string_view mat_name, <a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a>=<a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>)</td></tr>
<tr class="memdesc:a0f3141abd9409c7e7f0f7609a81b3c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the additional matrix <code>mat_name</code> to this system.  <a href="#a0f3141abd9409c7e7f0f7609a81b3c8d">更多...</a><br/></td></tr>
<tr class="separator:a0f3141abd9409c7e7f0f7609a81b3c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a942abcfc37b57966295947050588a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a33a942abcfc37b57966295947050588a">remove_matrix</a> (std::string_view mat_name)</td></tr>
<tr class="memdesc:a33a942abcfc37b57966295947050588a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the additional matrix <code>mat_name</code> from this system.  <a href="#a33a942abcfc37b57966295947050588a">更多...</a><br/></td></tr>
<tr class="separator:a33a942abcfc37b57966295947050588a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1366c98bb1cd65480a8aefcede9aa095"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a1366c98bb1cd65480a8aefcede9aa095">have_matrix</a> (std::string_view mat_name) const </td></tr>
<tr class="separator:a1366c98bb1cd65480a8aefcede9aa095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0a65d74ebf10e2e5f14fa308a60944"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a7c0a65d74ebf10e2e5f14fa308a60944">request_matrix</a> (std::string_view mat_name) const </td></tr>
<tr class="separator:a7c0a65d74ebf10e2e5f14fa308a60944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c3aa462409a70fe6c0a119f5823be1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a12c3aa462409a70fe6c0a119f5823be1">request_matrix</a> (std::string_view mat_name)</td></tr>
<tr class="separator:a12c3aa462409a70fe6c0a119f5823be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4bc1dfdda6474974caf6d290671121"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9a4bc1dfdda6474974caf6d290671121">get_matrix</a> (std::string_view mat_name) const </td></tr>
<tr class="separator:a9a4bc1dfdda6474974caf6d290671121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3678648316bf4708016aee5fb51fecb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a3678648316bf4708016aee5fb51fecb8">get_matrix</a> (std::string_view mat_name)</td></tr>
<tr class="separator:a3678648316bf4708016aee5fb51fecb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20de1180df21bdc9e6ca6151ed4ffda9"><td class="memItemLeft" align="right" valign="top">const Parallel::Communicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a> () const </td></tr>
<tr class="separator:a20de1180df21bdc9e6ca6151ed4ffda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50719f74165b613ab929afd29b6d5f4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a> () const </td></tr>
<tr class="separator:a50719f74165b613ab929afd29b6d5f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e7d1a1118f63d9889a761c27433bbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a> () const </td></tr>
<tr class="separator:ae1e7d1a1118f63d9889a761c27433bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b8b35b7cd10743f61cb911f7e2c60d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a81b8b35b7cd10743f61cb911f7e2c60d">clear_physics</a> ()</td></tr>
<tr class="memdesc:a81b8b35b7cd10743f61cb911f7e2c60d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear any data structures associated with the physics.  <a href="#a81b8b35b7cd10743f61cb911f7e2c60d">更多...</a><br/></td></tr>
<tr class="separator:a81b8b35b7cd10743f61cb911f7e2c60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2e3f22e33e5030bb6a32f0804e649d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#aaf2e3f22e33e5030bb6a32f0804e649d">init_physics</a> (const <a class="el" href="classlibMesh_1_1System.html">System</a> &amp;sys)</td></tr>
<tr class="memdesc:aaf2e3f22e33e5030bb6a32f0804e649d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize any data structures associated with the physics.  <a href="#aaf2e3f22e33e5030bb6a32f0804e649d">更多...</a><br/></td></tr>
<tr class="separator:aaf2e3f22e33e5030bb6a32f0804e649d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c80f2e313fbb8b6ff7d088ff4169be2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1c80f2e313fbb8b6ff7d088ff4169be2">element_time_derivative</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a1c80f2e313fbb8b6ff7d088ff4169be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the time derivative contribution on <code>elem</code> to elem_residual.  <a href="#a1c80f2e313fbb8b6ff7d088ff4169be2">更多...</a><br/></td></tr>
<tr class="separator:a1c80f2e313fbb8b6ff7d088ff4169be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bdc46ab11bb6ab33dc5b17bfbd1ccf3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1bdc46ab11bb6ab33dc5b17bfbd1ccf3">element_constraint</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a1bdc46ab11bb6ab33dc5b17bfbd1ccf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the constraint contribution on <code>elem</code> to elem_residual.  <a href="#a1bdc46ab11bb6ab33dc5b17bfbd1ccf3">更多...</a><br/></td></tr>
<tr class="separator:a1bdc46ab11bb6ab33dc5b17bfbd1ccf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46a5c2399209d750f3ea4ee10bdf13c1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a46a5c2399209d750f3ea4ee10bdf13c1">side_time_derivative</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a46a5c2399209d750f3ea4ee10bdf13c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the time derivative contribution on <code>side</code> of <code>elem</code> to elem_residual.  <a href="#a46a5c2399209d750f3ea4ee10bdf13c1">更多...</a><br/></td></tr>
<tr class="separator:a46a5c2399209d750f3ea4ee10bdf13c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74bae39adf00d96c559fe81b1158c272"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a74bae39adf00d96c559fe81b1158c272">side_constraint</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a74bae39adf00d96c559fe81b1158c272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the constraint contribution on <code>side</code> of <code>elem</code> to elem_residual.  <a href="#a74bae39adf00d96c559fe81b1158c272">更多...</a><br/></td></tr>
<tr class="separator:a74bae39adf00d96c559fe81b1158c272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe254dbb92afb6b42d83315e3b50b93"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#abbe254dbb92afb6b42d83315e3b50b93">nonlocal_time_derivative</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:abbe254dbb92afb6b42d83315e3b50b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds any nonlocal time derivative contributions (e.g.  <a href="#abbe254dbb92afb6b42d83315e3b50b93">更多...</a><br/></td></tr>
<tr class="separator:abbe254dbb92afb6b42d83315e3b50b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffc6b599db2eda744da5af375548ee6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a8ffc6b599db2eda744da5af375548ee6">nonlocal_constraint</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a8ffc6b599db2eda744da5af375548ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds any nonlocal constraint contributions (e.g.  <a href="#a8ffc6b599db2eda744da5af375548ee6">更多...</a><br/></td></tr>
<tr class="separator:a8ffc6b599db2eda744da5af375548ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5744b5cf72344e4c5eb426b3f50f1d7e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e">time_evolving</a> (unsigned int var, unsigned int order)</td></tr>
<tr class="memdesc:a5744b5cf72344e4c5eb426b3f50f1d7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the DiffSystem that variable var is evolving with respect to time.  <a href="#a5744b5cf72344e4c5eb426b3f50f1d7e">更多...</a><br/></td></tr>
<tr class="separator:a5744b5cf72344e4c5eb426b3f50f1d7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8dad6ea83e0f4df29baab44f0f10893"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab8dad6ea83e0f4df29baab44f0f10893">is_time_evolving</a> (unsigned int var) const </td></tr>
<tr class="separator:ab8dad6ea83e0f4df29baab44f0f10893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c47f742ea50b5aa65cbf415384de5e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a63c47f742ea50b5aa65cbf415384de5e">eulerian_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a63c47f742ea50b5aa65cbf415384de5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a pseudo-convection contribution on <code>elem</code> to elem_residual, if the nodes of <code>elem</code> are being translated by a moving mesh.  <a href="#a63c47f742ea50b5aa65cbf415384de5e">更多...</a><br/></td></tr>
<tr class="separator:a63c47f742ea50b5aa65cbf415384de5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb1bf406ea53decb009830b8644d89d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMPhysics.html#adbb1bf406ea53decb009830b8644d89d">eulerian_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;context) override</td></tr>
<tr class="memdesc:adbb1bf406ea53decb009830b8644d89d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a pseudo-convection contribution on <code>elem</code> to elem_residual, if the nodes of <code>elem</code> are being translated by a moving mesh.  <a href="#adbb1bf406ea53decb009830b8644d89d">更多...</a><br/></td></tr>
<tr class="separator:adbb1bf406ea53decb009830b8644d89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dd0a71e42b409c95a6c73fc47adc01"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#af3dd0a71e42b409c95a6c73fc47adc01">mass_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:af3dd0a71e42b409c95a6c73fc47adc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts a mass vector contribution on <code>elem</code> from elem_residual.  <a href="#af3dd0a71e42b409c95a6c73fc47adc01">更多...</a><br/></td></tr>
<tr class="separator:af3dd0a71e42b409c95a6c73fc47adc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37ebf0a6d46d64d3adbf4169079684d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMPhysics.html#ab37ebf0a6d46d64d3adbf4169079684d">mass_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;) override</td></tr>
<tr class="memdesc:ab37ebf0a6d46d64d3adbf4169079684d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts a mass vector contribution on <code>elem</code> from elem_residual.  <a href="#ab37ebf0a6d46d64d3adbf4169079684d">更多...</a><br/></td></tr>
<tr class="separator:ab37ebf0a6d46d64d3adbf4169079684d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e41862f9197f1ae47a3fe2bf936a29"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a39e41862f9197f1ae47a3fe2bf936a29">side_mass_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:a39e41862f9197f1ae47a3fe2bf936a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts a mass vector contribution on <code>side</code> of <code>elem</code> from elem_residual.  <a href="#a39e41862f9197f1ae47a3fe2bf936a29">更多...</a><br/></td></tr>
<tr class="separator:a39e41862f9197f1ae47a3fe2bf936a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a653ad59e812a9dc76ddff3beef7aa"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ad4a653ad59e812a9dc76ddff3beef7aa">nonlocal_mass_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;c)</td></tr>
<tr class="memdesc:ad4a653ad59e812a9dc76ddff3beef7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts any nonlocal mass vector contributions (e.g.  <a href="#ad4a653ad59e812a9dc76ddff3beef7aa">更多...</a><br/></td></tr>
<tr class="separator:ad4a653ad59e812a9dc76ddff3beef7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85e4b7839ce25e0341c73686001740f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ad85e4b7839ce25e0341c73686001740f">damping_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:ad85e4b7839ce25e0341c73686001740f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts a damping vector contribution on <code>elem</code> from elem_residual.  <a href="#ad85e4b7839ce25e0341c73686001740f">更多...</a><br/></td></tr>
<tr class="separator:ad85e4b7839ce25e0341c73686001740f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9e129aacad3e6746c868fd9a259f5c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#adb9e129aacad3e6746c868fd9a259f5c">side_damping_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:adb9e129aacad3e6746c868fd9a259f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts a damping vector contribution on <code>side</code> of <code>elem</code> from elem_residual.  <a href="#adb9e129aacad3e6746c868fd9a259f5c">更多...</a><br/></td></tr>
<tr class="separator:adb9e129aacad3e6746c868fd9a259f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbc9391cdd815aa99a97e96a8228bcf"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#acfbc9391cdd815aa99a97e96a8228bcf">nonlocal_damping_residual</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:acfbc9391cdd815aa99a97e96a8228bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subtracts any nonlocal damping vector contributions (e.g.  <a href="#acfbc9391cdd815aa99a97e96a8228bcf">更多...</a><br/></td></tr>
<tr class="separator:acfbc9391cdd815aa99a97e96a8228bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aadb813e058ee99f1dbe75159469c53"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a3aadb813e058ee99f1dbe75159469c53">set_mesh_system</a> (<a class="el" href="classlibMesh_1_1System.html">System</a> *sys)</td></tr>
<tr class="memdesc:a3aadb813e058ee99f1dbe75159469c53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that system <code>sys</code> contains the isoparametric Lagrangian variables which correspond to the coordinates of mesh nodes, in problems where the mesh itself is expected to move in time.  <a href="#a3aadb813e058ee99f1dbe75159469c53">更多...</a><br/></td></tr>
<tr class="separator:a3aadb813e058ee99f1dbe75159469c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00730e0acd41b2275fc9dfd984b9b04"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classlibMesh_1_1System.html">System</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#af00730e0acd41b2275fc9dfd984b9b04">get_mesh_system</a> () const </td></tr>
<tr class="separator:af00730e0acd41b2275fc9dfd984b9b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87c50cce641b0eab7e98e6bc2414ed3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html">System</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#af87c50cce641b0eab7e98e6bc2414ed3">get_mesh_system</a> ()</td></tr>
<tr class="separator:af87c50cce641b0eab7e98e6bc2414ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372a46df636268b6b68fbd864cd04ebb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a372a46df636268b6b68fbd864cd04ebb">set_mesh_x_var</a> (unsigned int var)</td></tr>
<tr class="memdesc:a372a46df636268b6b68fbd864cd04ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the x coordinate of mesh nodes, in problems where the mesh itself is expected to move in time.  <a href="#a372a46df636268b6b68fbd864cd04ebb">更多...</a><br/></td></tr>
<tr class="separator:a372a46df636268b6b68fbd864cd04ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b6da4b35a7ade82f0ad56c8e6ddc40"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ae9b6da4b35a7ade82f0ad56c8e6ddc40">get_mesh_x_var</a> () const </td></tr>
<tr class="separator:ae9b6da4b35a7ade82f0ad56c8e6ddc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04147e9771387d9cf2eaa47d8f477004"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a04147e9771387d9cf2eaa47d8f477004">set_mesh_y_var</a> (unsigned int var)</td></tr>
<tr class="memdesc:a04147e9771387d9cf2eaa47d8f477004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the y coordinate of mesh nodes.  <a href="#a04147e9771387d9cf2eaa47d8f477004">更多...</a><br/></td></tr>
<tr class="separator:a04147e9771387d9cf2eaa47d8f477004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1721154e664e142a440d1259bcf5e47"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ad1721154e664e142a440d1259bcf5e47">get_mesh_y_var</a> () const </td></tr>
<tr class="separator:ad1721154e664e142a440d1259bcf5e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7222ddddd09ea18f663da19a672d5c9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#aa7222ddddd09ea18f663da19a672d5c9">set_mesh_z_var</a> (unsigned int var)</td></tr>
<tr class="memdesc:aa7222ddddd09ea18f663da19a672d5c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the z coordinate of mesh nodes.  <a href="#aa7222ddddd09ea18f663da19a672d5c9">更多...</a><br/></td></tr>
<tr class="separator:aa7222ddddd09ea18f663da19a672d5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5e103fdc6ce8ffcc21bcb227ea10eb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a6d5e103fdc6ce8ffcc21bcb227ea10eb">get_mesh_z_var</a> () const </td></tr>
<tr class="separator:a6d5e103fdc6ce8ffcc21bcb227ea10eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada28f60bb629cdd5421916287a404404"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ada28f60bb629cdd5421916287a404404">_eulerian_time_deriv</a> (bool request_jacobian, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td></tr>
<tr class="memdesc:ada28f60bb629cdd5421916287a404404"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method simply combines <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1c80f2e313fbb8b6ff7d088ff4169be2" title="Adds the time derivative contribution on elem to elem_residual. ">element_time_derivative()</a> and <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a63c47f742ea50b5aa65cbf415384de5e" title="Adds a pseudo-convection contribution on elem to elem_residual, if the nodes of elem are being transl...">eulerian_residual()</a>, which makes its address useful as a pointer-to-member-function when refactoring.  <a href="#ada28f60bb629cdd5421916287a404404">更多...</a><br/></td></tr>
<tr class="separator:ada28f60bb629cdd5421916287a404404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd963623f4c8476804162e8f84a52667"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#abd963623f4c8476804162e8f84a52667">have_first_order_vars</a> () const </td></tr>
<tr class="separator:abd963623f4c8476804162e8f84a52667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add26aa3e6bc8cda29582f16a9ad23677"><td class="memItemLeft" align="right" valign="top">const std::set&lt; unsigned int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#add26aa3e6bc8cda29582f16a9ad23677">get_first_order_vars</a> () const </td></tr>
<tr class="separator:add26aa3e6bc8cda29582f16a9ad23677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f0fb45aafa456c314f05eeaead379b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a94f0fb45aafa456c314f05eeaead379b">is_first_order_var</a> (unsigned int var) const </td></tr>
<tr class="separator:a94f0fb45aafa456c314f05eeaead379b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecc9bec59252586a19aa7334fd2e54aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#aecc9bec59252586a19aa7334fd2e54aa">have_second_order_vars</a> () const </td></tr>
<tr class="separator:aecc9bec59252586a19aa7334fd2e54aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814c1bfb614273e3c449daa52c4892c0"><td class="memItemLeft" align="right" valign="top">const std::set&lt; unsigned int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a814c1bfb614273e3c449daa52c4892c0">get_second_order_vars</a> () const </td></tr>
<tr class="separator:a814c1bfb614273e3c449daa52c4892c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadcb53357db196860e5bc0b762555c2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#aadcb53357db196860e5bc0b762555c2b">is_second_order_var</a> (unsigned int var) const </td></tr>
<tr class="separator:aadcb53357db196860e5bc0b762555c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d34a15d98a5e18cc6dd258e37dd792"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a11d34a15d98a5e18cc6dd258e37dd792">init_qoi</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;)</td></tr>
<tr class="memdesc:a11d34a15d98a5e18cc6dd258e37dd792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize system qoi.  <a href="#a11d34a15d98a5e18cc6dd258e37dd792">更多...</a><br/></td></tr>
<tr class="separator:a11d34a15d98a5e18cc6dd258e37dd792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d54ae2f901e6b296caf5c2e9d14b25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a08d54ae2f901e6b296caf5c2e9d14b25">init_qoi</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;)</td></tr>
<tr class="memdesc:a08d54ae2f901e6b296caf5c2e9d14b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non-virtual, to try to help deprecated user code catch this change at compile time (if they specified override)  <a href="#a08d54ae2f901e6b296caf5c2e9d14b25">更多...</a><br/></td></tr>
<tr class="separator:a08d54ae2f901e6b296caf5c2e9d14b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae286923dfaf97ea4cf7a6e5012891b31"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#ae286923dfaf97ea4cf7a6e5012891b31">init_qoi_count</a> (<a class="el" href="classlibMesh_1_1System.html">System</a> &amp;)</td></tr>
<tr class="memdesc:ae286923dfaf97ea4cf7a6e5012891b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize system qoi.  <a href="#ae286923dfaf97ea4cf7a6e5012891b31">更多...</a><br/></td></tr>
<tr class="separator:ae286923dfaf97ea4cf7a6e5012891b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a31c3823d943df168dff5ac215d5bf0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a0a31c3823d943df168dff5ac215d5bf0">clear_qoi</a> ()</td></tr>
<tr class="memdesc:a0a31c3823d943df168dff5ac215d5bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all the data structures associated with the QoI.  <a href="#a0a31c3823d943df168dff5ac215d5bf0">更多...</a><br/></td></tr>
<tr class="separator:a0a31c3823d943df168dff5ac215d5bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ddc8f75ac46188425122533f8ea65a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#aa9ddc8f75ac46188425122533f8ea65a">element_qoi</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;)</td></tr>
<tr class="memdesc:aa9ddc8f75ac46188425122533f8ea65a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does any work that needs to be done on <code>elem</code> in a quantity of interest assembly loop, outputting to elem_qoi.  <a href="#aa9ddc8f75ac46188425122533f8ea65a">更多...</a><br/></td></tr>
<tr class="separator:aa9ddc8f75ac46188425122533f8ea65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad380b1814e89e62a0c9e29219cbb0cb1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#ad380b1814e89e62a0c9e29219cbb0cb1">element_qoi_derivative</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;)</td></tr>
<tr class="memdesc:ad380b1814e89e62a0c9e29219cbb0cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does any work that needs to be done on <code>elem</code> in a quantity of interest derivative assembly loop, outputting to elem_qoi_derivative.  <a href="#ad380b1814e89e62a0c9e29219cbb0cb1">更多...</a><br/></td></tr>
<tr class="separator:ad380b1814e89e62a0c9e29219cbb0cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd67c479bc8687a22ec94c0e01908a1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a7bd67c479bc8687a22ec94c0e01908a1">side_qoi</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;)</td></tr>
<tr class="memdesc:a7bd67c479bc8687a22ec94c0e01908a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does any work that needs to be done on <code>side</code> of <code>elem</code> in a quantity of interest assembly loop, outputting to elem_qoi.  <a href="#a7bd67c479bc8687a22ec94c0e01908a1">更多...</a><br/></td></tr>
<tr class="separator:a7bd67c479bc8687a22ec94c0e01908a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9712775efccee0de909d655d709739"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#aca9712775efccee0de909d655d709739">side_qoi_derivative</a> (<a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;)</td></tr>
<tr class="memdesc:aca9712775efccee0de909d655d709739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does any work that needs to be done on <code>side</code> of <code>elem</code> in a quantity of interest derivative assembly loop, outputting to elem_qoi_derivative.  <a href="#aca9712775efccee0de909d655d709739">更多...</a><br/></td></tr>
<tr class="separator:aca9712775efccee0de909d655d709739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5026c8e548f023986bf967a9134f1308"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a5026c8e548f023986bf967a9134f1308">thread_join</a> (std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;<a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>, const std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;other_qoi, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices)</td></tr>
<tr class="memdesc:a5026c8e548f023986bf967a9134f1308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to combine thread-local qois.  <a href="#a5026c8e548f023986bf967a9134f1308">更多...</a><br/></td></tr>
<tr class="separator:a5026c8e548f023986bf967a9134f1308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d75169be800a31d3ab9443d1b46e66c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a7d75169be800a31d3ab9443d1b46e66c">parallel_op</a> (const Parallel::Communicator &amp;communicator, std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;sys_qoi, std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;local_qoi, const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;qoi_indices)</td></tr>
<tr class="memdesc:a7d75169be800a31d3ab9443d1b46e66c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to populate system qoi data structure with process-local qoi.  <a href="#a7d75169be800a31d3ab9443d1b46e66c">更多...</a><br/></td></tr>
<tr class="separator:a7d75169be800a31d3ab9443d1b46e66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3918a7493ac40b1a00ab4cb24ca234af"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a3918a7493ac40b1a00ab4cb24ca234af">finalize_derivative</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;derivatives, std::size_t qoi_index)</td></tr>
<tr class="memdesc:a3918a7493ac40b1a00ab4cb24ca234af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to finalize qoi derivatives which require more than just a simple sum of element contributions.  <a href="#a3918a7493ac40b1a00ab4cb24ca234af">更多...</a><br/></td></tr>
<tr class="separator:a3918a7493ac40b1a00ab4cb24ca234af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
静态 Public 成员函数</h2></td></tr>
<tr class="memitem:a103b37125ae9eaaadf6f7854df17faa2"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a103b37125ae9eaaadf6f7854df17faa2">get_info</a> ()</td></tr>
<tr class="memdesc:a103b37125ae9eaaadf6f7854df17faa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a string containing the reference information.  <a href="#a103b37125ae9eaaadf6f7854df17faa2">更多...</a><br/></td></tr>
<tr class="separator:a103b37125ae9eaaadf6f7854df17faa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ce734a14ffd1dbb6496dab702da8e1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a13ce734a14ffd1dbb6496dab702da8e1">print_info</a> (std::ostream &amp;out_stream=<a class="el" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>)</td></tr>
<tr class="memdesc:a13ce734a14ffd1dbb6496dab702da8e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the reference information, by default to <code><a class="el" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></code>.  <a href="#a13ce734a14ffd1dbb6496dab702da8e1">更多...</a><br/></td></tr>
<tr class="separator:a13ce734a14ffd1dbb6496dab702da8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e74641afc6e2870c9e1ce412f8c44f"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a50e74641afc6e2870c9e1ce412f8c44f">n_objects</a> ()</td></tr>
<tr class="memdesc:a50e74641afc6e2870c9e1ce412f8c44f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the number of outstanding (created, but not yet destroyed) objects.  <a href="#a50e74641afc6e2870c9e1ce412f8c44f">更多...</a><br/></td></tr>
<tr class="separator:a50e74641afc6e2870c9e1ce412f8c44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86837c50216b2ddb800b3836d2a08c09"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a86837c50216b2ddb800b3836d2a08c09">enable_print_counter_info</a> ()</td></tr>
<tr class="memdesc:a86837c50216b2ddb800b3836d2a08c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Methods to enable/disable the reference counter output from <a class="el" href="classlibMesh_1_1ReferenceCounter.html#a13ce734a14ffd1dbb6496dab702da8e1" title="Prints the reference information, by default to libMesh::out. ">print_info()</a>  <a href="#a86837c50216b2ddb800b3836d2a08c09">更多...</a><br/></td></tr>
<tr class="separator:a86837c50216b2ddb800b3836d2a08c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0a2d3d3c531f9f069b0d623d4ace0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a5c0a2d3d3c531f9f069b0d623d4ace0f">disable_print_counter_info</a> ()</td></tr>
<tr class="separator:a5c0a2d3d3c531f9f069b0d623d4ace0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public 属性</h2></td></tr>
<tr class="memitem:a95e4e1ac0b0db34b8ca3011ae221ed80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a></td></tr>
<tr class="memdesc:a95e4e1ac0b0db34b8ca3011ae221ed80"><td class="mdescLeft">&#160;</td><td class="mdescRight">延拓参数必须是派生类的成员变量，这里定义的"continuation_parameter"指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为"lambda"。  <a href="#a95e4e1ac0b0db34b8ca3011ae221ed80">更多...</a><br/></td></tr>
<tr class="separator:a95e4e1ac0b0db34b8ca3011ae221ed80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202486b5f0a3740de27e707d01ee892c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a></td></tr>
<tr class="memdesc:a202486b5f0a3740de27e707d01ee892c"><td class="mdescLeft">&#160;</td><td class="mdescRight">如果quiet==false，系统会打印有关其操作的额外信息。  <a href="#a202486b5f0a3740de27e707d01ee892c">更多...</a><br/></td></tr>
<tr class="separator:a202486b5f0a3740de27e707d01ee892c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b62535acc9fb37c6f699a8a649fd6e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac2b62535acc9fb37c6f699a8a649fd6e">continuation_parameter_tolerance</a></td></tr>
<tr class="memdesc:ac2b62535acc9fb37c6f699a8a649fd6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">牛顿迭代尝试收敛delta_lambda的程度。默认为1.e-6。  <a href="#ac2b62535acc9fb37c6f699a8a649fd6e">更多...</a><br/></td></tr>
<tr class="separator:ac2b62535acc9fb37c6f699a8a649fd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18b9bf0a892d99962bfab8b83e5e981"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">solution_tolerance</a></td></tr>
<tr class="memdesc:ad18b9bf0a892d99962bfab8b83e5e981"><td class="mdescLeft">&#160;</td><td class="mdescRight">牛顿迭代尝试收敛||delta_u||的程度。默认为1.e-6。  <a href="#ad18b9bf0a892d99962bfab8b83e5e981">更多...</a><br/></td></tr>
<tr class="separator:ad18b9bf0a892d99962bfab8b83e5e981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91eea11b31b452f37de66e006b8e4abd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">initial_newton_tolerance</a></td></tr>
<tr class="memdesc:a91eea11b31b452f37de66e006b8e4abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">在第一（不精确）牛顿步中尝试减少残差的程度。这通常是在不精确的牛顿方法中的一个较大的值，比如1/2，以防止过度求解。  <a href="#a91eea11b31b452f37de66e006b8e4abd">更多...</a><br/></td></tr>
<tr class="separator:a91eea11b31b452f37de66e006b8e4abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77f90619bd7bc91484458fea937a7cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a></td></tr>
<tr class="memdesc:ab77f90619bd7bc91484458fea937a7cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">系统还跟踪延拓参数的旧值。  <a href="#ab77f90619bd7bc91484458fea937a7cd">更多...</a><br/></td></tr>
<tr class="separator:ab77f90619bd7bc91484458fea937a7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c926e951ebf781dd05157295532a833"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a3c926e951ebf781dd05157295532a833">min_continuation_parameter</a></td></tr>
<tr class="memdesc:a3c926e951ebf781dd05157295532a833"><td class="mdescLeft">&#160;</td><td class="mdescRight">延拓参数的最小允许值。如果延拓参数低于此值，牛顿迭代将停止。  <a href="#a3c926e951ebf781dd05157295532a833">更多...</a><br/></td></tr>
<tr class="separator:a3c926e951ebf781dd05157295532a833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d569bd9b652d24df1fbc9bd2c9c54a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">max_continuation_parameter</a></td></tr>
<tr class="memdesc:a69d569bd9b652d24df1fbc9bd2c9c54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">延拓参数的最大允许值。如果延拓参数超过此值，牛顿迭代将停止。如果此值为零，则延拓参数没有最大值。  <a href="#a69d569bd9b652d24df1fbc9bd2c9c54a">更多...</a><br/></td></tr>
<tr class="separator:a69d569bd9b652d24df1fbc9bd2c9c54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570c39c32a5de85421fcbd7ef8684ad5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a></td></tr>
<tr class="memdesc:a570c39c32a5de85421fcbd7ef8684ad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。  <a href="#a570c39c32a5de85421fcbd7ef8684ad5">更多...</a><br/></td></tr>
<tr class="separator:a570c39c32a5de85421fcbd7ef8684ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecef946a682013aafd03a1d853a182d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a></td></tr>
<tr class="memdesc:aecef946a682013aafd03a1d853a182d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。  <a href="#aecef946a682013aafd03a1d853a182d3">更多...</a><br/></td></tr>
<tr class="separator:aecef946a682013aafd03a1d853a182d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8723254d749f107d589deffb4eae4f5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a8723254d749f107d589deffb4eae4f5f">newton_progress_check</a></td></tr>
<tr class="memdesc:a8723254d749f107d589deffb4eae4f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">另一个由LOCA人员建议的缩放参数。这个参数试图在前两个切线向量之间的角度变大时缩小步长ds。  <a href="#a8723254d749f107d589deffb4eae4f5f">更多...</a><br/></td></tr>
<tr class="separator:a8723254d749f107d589deffb4eae4f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb52b3e342e9ce329a7e4bfeab1487bf"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a></td></tr>
<tr class="memdesc:abb52b3e342e9ce329a7e4bfeab1487bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">非线性（牛顿）迭代循环的循环计数器。  <a href="#abb52b3e342e9ce329a7e4bfeab1487bf">更多...</a><br/></td></tr>
<tr class="separator:abb52b3e342e9ce329a7e4bfeab1487bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a172cfb334a843f73419f20ab5cde57a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600">Predictor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">predictor</a></td></tr>
<tr class="memdesc:a172cfb334a843f73419f20ab5cde57a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">预测器类型。  <a href="#a172cfb334a843f73419f20ab5cde57a5">更多...</a><br/></td></tr>
<tr class="separator:a172cfb334a843f73419f20ab5cde57a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad499324a7a490ad9a4777fd48bfca048"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">newton_stepgrowth_aggressiveness</a></td></tr>
<tr class="memdesc:ad499324a7a490ad9a4777fd48bfca048"><td class="mdescLeft">&#160;</td><td class="mdescRight">基于所需的牛顿迭代次数尝试增长弧长步长的程度的度量。 默认值为1.0，如果设置为零，则不尝试基于所需的牛顿迭代次数增加或减小弧长步长。  <a href="#ad499324a7a490ad9a4777fd48bfca048">更多...</a><br/></td></tr>
<tr class="separator:ad499324a7a490ad9a4777fd48bfca048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb2c9bf8e35299c02a1fb768082f8cb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">n_backtrack_steps</a></td></tr>
<tr class="memdesc:aecb2c9bf8e35299c02a1fb768082f8cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">牛顿迭代内尝试的后退步数，如果牛顿步没有减小残差。 这是在*单个*牛顿步内后退，如果要尝试较小的弧步，请设置n_arclength_reductions &gt; 0。  <a href="#aecb2c9bf8e35299c02a1fb768082f8cb">更多...</a><br/></td></tr>
<tr class="separator:aecb2c9bf8e35299c02a1fb768082f8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460a40fa157a8a02291bf801855da11a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a460a40fa157a8a02291bf801855da11a">n_arclength_reductions</a></td></tr>
<tr class="memdesc:a460a40fa157a8a02291bf801855da11a"><td class="mdescLeft">&#160;</td><td class="mdescRight">当牛顿无法减少残差时尝试的弧长缩减次数。对于每个弧长缩减，弧步大小减半。  <a href="#a460a40fa157a8a02291bf801855da11a">更多...</a><br/></td></tr>
<tr class="separator:a460a40fa157a8a02291bf801855da11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc77804ea5ef5dde638fe522aeed6a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">ds_min</a></td></tr>
<tr class="memdesc:a7cc77804ea5ef5dde638fe522aeed6a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">允许的最小步长，默认为1.e-8。  <a href="#a7cc77804ea5ef5dde638fe522aeed6a3">更多...</a><br/></td></tr>
<tr class="separator:a7cc77804ea5ef5dde638fe522aeed6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267ad32ebc39d8f8a966682615e28dae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a267ad32ebc39d8f8a966682615e28dae">fe_reinit_during_postprocess</a></td></tr>
<tr class="memdesc:a267ad32ebc39d8f8a966682615e28dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">If fe_reinit_during_postprocess is true (it is true by default), <a class="el" href="classlibMesh_1_1FE.html" title="A specific instantiation of the FEBase class. ">FE</a> objects will be <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aed043f850ff7f4b5b6ccbd53f9b6c3e1" title="重新初始化与系统关联的成员数据字段，以便，例如，可以使用assemble()。 ">reinit()</a>ed with their default quadrature rules.  <a href="#a267ad32ebc39d8f8a966682615e28dae">更多...</a><br/></td></tr>
<tr class="separator:a267ad32ebc39d8f8a966682615e28dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b4c7f9f81fc10f215caf1f4799664a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#a73b4c7f9f81fc10f215caf1f4799664a">numerical_jacobian_h</a></td></tr>
<tr class="memdesc:a73b4c7f9f81fc10f215caf1f4799664a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If calculating numeric jacobians is required, the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will perturb each solution vector entry by numerical_jacobian_h when calculating finite differences.  <a href="#a73b4c7f9f81fc10f215caf1f4799664a">更多...</a><br/></td></tr>
<tr class="separator:a73b4c7f9f81fc10f215caf1f4799664a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b49eeb3527a6aab2cf647fdb71d3e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a></td></tr>
<tr class="memdesc:af3b49eeb3527a6aab2cf647fdb71d3e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">If verify_analytic_jacobian is equal to zero (as it is by default), no numeric jacobians will be calculated unless an overridden <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1c80f2e313fbb8b6ff7d088ff4169be2" title="Adds the time derivative contribution on elem to elem_residual. ">element_time_derivative()</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1bdc46ab11bb6ab33dc5b17bfbd1ccf3" title="Adds the constraint contribution on elem to elem_residual. ">element_constraint()</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a46a5c2399209d750f3ea4ee10bdf13c1" title="Adds the time derivative contribution on side of elem to elem_residual. ">side_time_derivative()</a>, or <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a74bae39adf00d96c559fe81b1158c272" title="Adds the constraint contribution on side of elem to elem_residual. ">side_constraint()</a> function cannot provide an analytic jacobian upon request.  <a href="#af3b49eeb3527a6aab2cf647fdb71d3e4">更多...</a><br/></td></tr>
<tr class="separator:af3b49eeb3527a6aab2cf647fdb71d3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece93931d398b846da32c5b6a86ed94f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a></td></tr>
<tr class="memdesc:aece93931d398b846da32c5b6a86ed94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">要使用的求解器对象的指针。 这必须在求解之前实例化！  <a href="#aece93931d398b846da32c5b6a86ed94f">更多...</a><br/></td></tr>
<tr class="separator:aece93931d398b846da32c5b6a86ed94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b792f8f71393719e56312995d863b04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a2b792f8f71393719e56312995d863b04">deltat</a></td></tr>
<tr class="memdesc:a2b792f8f71393719e56312995d863b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">对于时变问题，这是将解决方案在时间上推进<code>deltat的量。</code>  <a href="#a2b792f8f71393719e56312995d863b04">更多...</a><br/></td></tr>
<tr class="separator:a2b792f8f71393719e56312995d863b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a191ca6371747268974a5f108e7576873"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a191ca6371747268974a5f108e7576873">postprocess_sides</a></td></tr>
<tr class="memdesc:a191ca6371747268974a5f108e7576873"><td class="mdescLeft">&#160;</td><td class="mdescRight">如果<code>postprocess_sides为true（默认为false），则后处理循环将在所有边上以及所有元素上循环。</code>  <a href="#a191ca6371747268974a5f108e7576873">更多...</a><br/></td></tr>
<tr class="separator:a191ca6371747268974a5f108e7576873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724e8442b2bc0b3a07e5e82051ce7f9e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a724e8442b2bc0b3a07e5e82051ce7f9e">print_solution_norms</a></td></tr>
<tr class="memdesc:a724e8442b2bc0b3a07e5e82051ce7f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_residual_norms为true，以在组装()调用中使用时打印|U|。  <a href="#a724e8442b2bc0b3a07e5e82051ce7f9e">更多...</a><br/></td></tr>
<tr class="separator:a724e8442b2bc0b3a07e5e82051ce7f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c17d5708132f067a3224019af8ce58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a94c17d5708132f067a3224019af8ce58">print_solutions</a></td></tr>
<tr class="memdesc:a94c17d5708132f067a3224019af8ce58"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_solutions为true，以在组装()调用中使用时打印U。  <a href="#a94c17d5708132f067a3224019af8ce58">更多...</a><br/></td></tr>
<tr class="separator:a94c17d5708132f067a3224019af8ce58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fc23a36102eb56598d5bb528cacf0b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aa4fc23a36102eb56598d5bb528cacf0b">print_residual_norms</a></td></tr>
<tr class="memdesc:aa4fc23a36102eb56598d5bb528cacf0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_residual_norms为true，以在组装时打印|F|。  <a href="#aa4fc23a36102eb56598d5bb528cacf0b">更多...</a><br/></td></tr>
<tr class="separator:aa4fc23a36102eb56598d5bb528cacf0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be85415f6f38f15a4e36a201abbfe1c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a1be85415f6f38f15a4e36a201abbfe1c">print_residuals</a></td></tr>
<tr class="memdesc:a1be85415f6f38f15a4e36a201abbfe1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_residuals为true，以在组装时打印F。  <a href="#a1be85415f6f38f15a4e36a201abbfe1c">更多...</a><br/></td></tr>
<tr class="separator:a1be85415f6f38f15a4e36a201abbfe1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa7d80ca74e2494265f70a618989b6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aeaa7d80ca74e2494265f70a618989b6a">print_jacobian_norms</a></td></tr>
<tr class="memdesc:aeaa7d80ca74e2494265f70a618989b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_jacobian_norms为true，以在组装时打印|J|。  <a href="#aeaa7d80ca74e2494265f70a618989b6a">更多...</a><br/></td></tr>
<tr class="separator:aeaa7d80ca74e2494265f70a618989b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0878d8d6d40ef8cb6daad9e9915daf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a0b0878d8d6d40ef8cb6daad9e9915daf">print_jacobians</a></td></tr>
<tr class="memdesc:a0b0878d8d6d40ef8cb6daad9e9915daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_jacobians为true，以在组装时打印J。  <a href="#a0b0878d8d6d40ef8cb6daad9e9915daf">更多...</a><br/></td></tr>
<tr class="separator:a0b0878d8d6d40ef8cb6daad9e9915daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f8ce339287cd3b6d51124b9e5e7efc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a95f8ce339287cd3b6d51124b9e5e7efc">print_element_solutions</a></td></tr>
<tr class="memdesc:a95f8ce339287cd3b6d51124b9e5e7efc"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_element_solutions为true，以打印每个U_elem输入。  <a href="#a95f8ce339287cd3b6d51124b9e5e7efc">更多...</a><br/></td></tr>
<tr class="separator:a95f8ce339287cd3b6d51124b9e5e7efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5baab19dc3bd6c230010730a23721ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ae5baab19dc3bd6c230010730a23721ae">print_element_residuals</a></td></tr>
<tr class="memdesc:ae5baab19dc3bd6c230010730a23721ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_element_residuals为true，以打印每个R_elem的贡献。  <a href="#ae5baab19dc3bd6c230010730a23721ae">更多...</a><br/></td></tr>
<tr class="separator:ae5baab19dc3bd6c230010730a23721ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72254eda9b022410c946f7ca2008e83a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a72254eda9b022410c946f7ca2008e83a">print_element_jacobians</a></td></tr>
<tr class="memdesc:a72254eda9b022410c946f7ca2008e83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置print_element_jacobians为true，以打印每个J_elem的贡献。  <a href="#a72254eda9b022410c946f7ca2008e83a">更多...</a><br/></td></tr>
<tr class="separator:a72254eda9b022410c946f7ca2008e83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549bd875b4fc99cbd5d1f7ba169feca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a></td></tr>
<tr class="memdesc:a549bd875b4fc99cbd5d1f7ba169feca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The system matrix.  <a href="#a549bd875b4fc99cbd5d1f7ba169feca7">更多...</a><br/></td></tr>
<tr class="separator:a549bd875b4fc99cbd5d1f7ba169feca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab9f07322fa95c790f360ff7f51db8b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#a1ab9f07322fa95c790f360ff7f51db8b">zero_out_matrix_and_rhs</a></td></tr>
<tr class="memdesc:a1ab9f07322fa95c790f360ff7f51db8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">By default, the system will zero out the matrix and the right hand side.  <a href="#a1ab9f07322fa95c790f360ff7f51db8b">更多...</a><br/></td></tr>
<tr class="separator:a1ab9f07322fa95c790f360ff7f51db8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add942ac69c43a1c5e578620a003a75fe"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a></td></tr>
<tr class="memdesc:add942ac69c43a1c5e578620a003a75fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class handles all the details of interfacing with various linear algebra packages like PETSc or LASPACK.  <a href="#add942ac69c43a1c5e578620a003a75fe">更多...</a><br/></td></tr>
<tr class="separator:add942ac69c43a1c5e578620a003a75fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fde3a02d1256dbc31891c88986bddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a></td></tr>
<tr class="memdesc:a98fde3a02d1256dbc31891c88986bddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The system matrix.  <a href="#a98fde3a02d1256dbc31891c88986bddc">更多...</a><br/></td></tr>
<tr class="separator:a98fde3a02d1256dbc31891c88986bddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b24ccb769399c64405e8f8a52491e70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a6b24ccb769399c64405e8f8a52491e70">assemble_before_solve</a></td></tr>
<tr class="memdesc:a6b24ccb769399c64405e8f8a52491e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag which tells the system to whether or not to call the user assembly function during each call to <a class="el" href="classlibMesh_1_1System.html#aacf68435a0f50e1c434ff38ba0a54ff1" title="Solves the system. ">solve()</a>.  <a href="#a6b24ccb769399c64405e8f8a52491e70">更多...</a><br/></td></tr>
<tr class="separator:a6b24ccb769399c64405e8f8a52491e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd435eb5b5e949702d92f28df85ea6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a1fd435eb5b5e949702d92f28df85ea6b">use_fixed_solution</a></td></tr>
<tr class="memdesc:a1fd435eb5b5e949702d92f28df85ea6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A boolean to be set to true by systems using elem_fixed_solution, for optional use by e.g.  <a href="#a1fd435eb5b5e949702d92f28df85ea6b">更多...</a><br/></td></tr>
<tr class="separator:a1fd435eb5b5e949702d92f28df85ea6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078ffa703ae75f9e2505b4177af2e530"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a078ffa703ae75f9e2505b4177af2e530">extra_quadrature_order</a></td></tr>
<tr class="memdesc:a078ffa703ae75f9e2505b4177af2e530"><td class="mdescLeft">&#160;</td><td class="mdescRight">A member int that can be employed to indicate increased or reduced quadrature order.  <a href="#a078ffa703ae75f9e2505b4177af2e530">更多...</a><br/></td></tr>
<tr class="separator:a078ffa703ae75f9e2505b4177af2e530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07e1093c49fa5f0877488d3351f4c86"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a></td></tr>
<tr class="memdesc:aa07e1093c49fa5f0877488d3351f4c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to hold solution values.  <a href="#aa07e1093c49fa5f0877488d3351f4c86">更多...</a><br/></td></tr>
<tr class="separator:aa07e1093c49fa5f0877488d3351f4c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2554af18e189214007827b04f17ba017"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a><br class="typebreak"/>
&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a></td></tr>
<tr class="memdesc:a2554af18e189214007827b04f17ba017"><td class="mdescLeft">&#160;</td><td class="mdescRight">All the values I need to compute my contribution to the simulation at hand.  <a href="#a2554af18e189214007827b04f17ba017">更多...</a><br/></td></tr>
<tr class="separator:a2554af18e189214007827b04f17ba017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b0537fa503134bfa91865a6995742e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a90b0537fa503134bfa91865a6995742e">time</a></td></tr>
<tr class="memdesc:a90b0537fa503134bfa91865a6995742e"><td class="mdescLeft">&#160;</td><td class="mdescRight">For time-dependent problems, this is the time t at the beginning of the current timestep.  <a href="#a90b0537fa503134bfa91865a6995742e">更多...</a><br/></td></tr>
<tr class="separator:a90b0537fa503134bfa91865a6995742e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e217fd5c9b6dff26ef83742a7e7dea9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a4e217fd5c9b6dff26ef83742a7e7dea9">compute_internal_sides</a></td></tr>
<tr class="memdesc:a4e217fd5c9b6dff26ef83742a7e7dea9"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>compute_internal_sides</code> is false by default, indicating that side_* computations will only be done on boundary sides.  <a href="#a4e217fd5c9b6dff26ef83742a7e7dea9">更多...</a><br/></td></tr>
<tr class="separator:a4e217fd5c9b6dff26ef83742a7e7dea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0491aeab55b398a282d76c9fc94de1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a7e0491aeab55b398a282d76c9fc94de1">assemble_qoi_sides</a></td></tr>
<tr class="memdesc:a7e0491aeab55b398a282d76c9fc94de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>assemble_qoi_sides</code> is true (it is false by default), the assembly loop for a quantity of interest or its derivatives will loop over domain boundary sides.  <a href="#a7e0491aeab55b398a282d76c9fc94de1">更多...</a><br/></td></tr>
<tr class="separator:a7e0491aeab55b398a282d76c9fc94de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c239e62c1703fa2b8c9a3bfe8d1753"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#ac6c239e62c1703fa2b8c9a3bfe8d1753">assemble_qoi_internal_sides</a></td></tr>
<tr class="memdesc:ac6c239e62c1703fa2b8c9a3bfe8d1753"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>assemble_qoi_internal_sides</code> is true (it is false by default), the assembly loop for a quantity of interest or its derivatives will loop over element sides which do not fall on domain boundaries.  <a href="#ac6c239e62c1703fa2b8c9a3bfe8d1753">更多...</a><br/></td></tr>
<tr class="separator:ac6c239e62c1703fa2b8c9a3bfe8d1753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6183cb4c8ec75878a6927f40595b32a3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a6183cb4c8ec75878a6927f40595b32a3">assemble_qoi_elements</a></td></tr>
<tr class="memdesc:a6183cb4c8ec75878a6927f40595b32a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>assemble_qoi_elements</code> is false (it is true by default), the assembly loop for a quantity of interest or its derivatives will skip computing on mesh elements, and will only compute on mesh sides.  <a href="#a6183cb4c8ec75878a6927f40595b32a3">更多...</a><br/></td></tr>
<tr class="separator:a6183cb4c8ec75878a6927f40595b32a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected 类型</h2></td></tr>
<tr class="memitem:a7aa2e6f267de7c463bb3e1e706c5006e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006e">RHS_Mode</a> { <a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>, 
<a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">G_Lambda</a>
 }</td></tr>
<tr class="memdesc:a7aa2e6f267de7c463bb3e1e706c5006e"><td class="mdescLeft">&#160;</td><td class="mdescRight">由装配例程使用的两个不同的向量： 1.) 残差 = 正常的PDE加权残差 2.) G_Lambda = PDE加权残差相对于参数lambda的导数  <a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006e">更多...</a><br/></td></tr>
<tr class="separator:a7aa2e6f267de7c463bb3e1e706c5006e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5daadc989c1fe71ec8d173adf0ed1e"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
std::pair&lt; unsigned int, <br class="typebreak"/>
unsigned int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#adb5daadc989c1fe71ec8d173adf0ed1e">Counts</a></td></tr>
<tr class="memdesc:adb5daadc989c1fe71ec8d173adf0ed1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to log the information.  <a href="#adb5daadc989c1fe71ec8d173adf0ed1e">更多...</a><br/></td></tr>
<tr class="separator:adb5daadc989c1fe71ec8d173adf0ed1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:abc9711ff6ea71a2a01fc61189f2c773a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#abc9711ff6ea71a2a01fc61189f2c773a">init_data</a> () override</td></tr>
<tr class="memdesc:abc9711ff6ea71a2a01fc61189f2c773a"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化与系统关联的成员数据字段，以便例如<code><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec" title="准备matrix和rhs进行矩阵装配。用户不应重新实现此功能。 注意，在某些情况下，仅在装配期间使用  current_local_solution ， 因此，如果solution在没有调用update...">assemble()</a>可以使用。</code>  <a href="#abc9711ff6ea71a2a01fc61189f2c773a">更多...</a><br/></td></tr>
<tr class="separator:abc9711ff6ea71a2a01fc61189f2c773a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f94cc653d68bd327e546f74d0ad9696"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a6f94cc653d68bd327e546f74d0ad9696">add_second_order_dot_vars</a> ()</td></tr>
<tr class="memdesc:a6f94cc653d68bd327e546f74d0ad9696"><td class="mdescLeft">&#160;</td><td class="mdescRight">添加与DifferentiableSystem中的二阶时间变量的“cousins”变量相关的“速度”变量的辅助函数。 只有当TimeSolver是FirstOrderUnsteadySolver时才调用此函数。  <a href="#a6f94cc653d68bd327e546f74d0ad9696">更多...</a><br/></td></tr>
<tr class="separator:a6f94cc653d68bd327e546f74d0ad9696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad572ac3f77c7bd8a72bbf14ead0324b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ad572ac3f77c7bd8a72bbf14ead0324b6">add_dot_var_dirichlet_bcs</a> (unsigned int var_idx, unsigned int dot_var_idx)</td></tr>
<tr class="memdesc:ad572ac3f77c7bd8a72bbf14ead0324b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">向系统中二阶变量的“dot”变量的“cousins”添加Dirichlet边界条件的辅助函数。 该函数接受二阶变量索引、其对应的“dot”变量索引， 然后搜索var_idx的DirichletBoundary对象，并使用相同的边界ID和functors 为var_idx的DirichletBoundary添加一个dot_var_idx的DirichletBoundary对象。  <a href="#ad572ac3f77c7bd8a72bbf14ead0324b6">更多...</a><br/></td></tr>
<tr class="separator:ad572ac3f77c7bd8a72bbf14ead0324b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae11ca9d9db661ee90faa57dd37b2528b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ImplicitSystem.html#ae11ca9d9db661ee90faa57dd37b2528b">add_matrices</a> () override</td></tr>
<tr class="memdesc:ae11ca9d9db661ee90faa57dd37b2528b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the system matrix.  <a href="#ae11ca9d9db661ee90faa57dd37b2528b">更多...</a><br/></td></tr>
<tr class="separator:ae11ca9d9db661ee90faa57dd37b2528b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada599d8cfdcd469200bb7171ec0a6b40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#ada599d8cfdcd469200bb7171ec0a6b40">project_vector</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:ada599d8cfdcd469200bb7171ec0a6b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects the vector defined on the old mesh onto the new mesh.  <a href="#ada599d8cfdcd469200bb7171ec0a6b40">更多...</a><br/></td></tr>
<tr class="separator:ada599d8cfdcd469200bb7171ec0a6b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78dacd4d53717cf92a7d592fe9588250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a78dacd4d53717cf92a7d592fe9588250">project_vector</a> (const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;, <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;, int is_adjoint=-1) const </td></tr>
<tr class="memdesc:a78dacd4d53717cf92a7d592fe9588250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects the vector defined on the old mesh onto the new mesh.  <a href="#a78dacd4d53717cf92a7d592fe9588250">更多...</a><br/></td></tr>
<tr class="separator:a78dacd4d53717cf92a7d592fe9588250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa233bc3546b1197838355908534e46b7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#aa233bc3546b1197838355908534e46b7">init_matrices</a> ()</td></tr>
<tr class="memdesc:aa233bc3546b1197838355908534e46b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the matrices associated with this system.  <a href="#aa233bc3546b1197838355908534e46b7">更多...</a><br/></td></tr>
<tr class="separator:aa233bc3546b1197838355908534e46b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232eb947329200f6e7e9fc93fdee8323"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a232eb947329200f6e7e9fc93fdee8323">can_add_matrices</a> () const </td></tr>
<tr class="separator:a232eb947329200f6e7e9fc93fdee8323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee8088ef0e46ed7ca407c9a1054a405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1System.html#a9ee8088ef0e46ed7ca407c9a1054a405">solve_for_unconstrained_dofs</a> (<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;, int is_adjoint=-1) const </td></tr>
<tr class="separator:a9ee8088ef0e46ed7ca407c9a1054a405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cd2f1fbd46c66dade1e750436ee7ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#af0cd2f1fbd46c66dade1e750436ee7ab">increment_constructor_count</a> (const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>) noexcept</td></tr>
<tr class="memdesc:af0cd2f1fbd46c66dade1e750436ee7ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the construction counter.  <a href="#af0cd2f1fbd46c66dade1e750436ee7ab">更多...</a><br/></td></tr>
<tr class="separator:af0cd2f1fbd46c66dade1e750436ee7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769ddb2e2299db1aafcdfb33dfb830d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a769ddb2e2299db1aafcdfb33dfb830d8">increment_destructor_count</a> (const std::string &amp;<a class="el" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>) noexcept</td></tr>
<tr class="memdesc:a769ddb2e2299db1aafcdfb33dfb830d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the destruction counter.  <a href="#a769ddb2e2299db1aafcdfb33dfb830d8">更多...</a><br/></td></tr>
<tr class="separator:a769ddb2e2299db1aafcdfb33dfb830d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:a34d429e11a79273738c658c10bfa07c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006e">RHS_Mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a></td></tr>
<tr class="memdesc:a34d429e11a79273738c658c10bfa07c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">RHS_Mode类型。  <a href="#a34d429e11a79273738c658c10bfa07c5">更多...</a><br/></td></tr>
<tr class="separator:a34d429e11a79273738c658c10bfa07c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe2be97680d4d4540604db91d048e45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a7fe2be97680d4d4540604db91d048e45">_constrain_in_solver</a></td></tr>
<tr class="memdesc:a7fe2be97680d4d4540604db91d048e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">_constrain_in_solver默认为true；如果为false，则仅通过要解决的系统中的残差项应用约束。  <a href="#a7fe2be97680d4d4540604db91d048e45">更多...</a><br/></td></tr>
<tr class="separator:a7fe2be97680d4d4540604db91d048e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffb5b08919ab435109a302f94a7b3eb"><td class="memItemLeft" align="right" valign="top">const Parallel::Communicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">_communicator</a></td></tr>
<tr class="separator:a1ffb5b08919ab435109a302f94a7b3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae762bdeb8c1e819ebf8b09d6a867fff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1System.html">System</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a></td></tr>
<tr class="memdesc:ae762bdeb8c1e819ebf8b09d6a867fff3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> from which to acquire moving mesh information.  <a href="#ae762bdeb8c1e819ebf8b09d6a867fff3">更多...</a><br/></td></tr>
<tr class="separator:ae762bdeb8c1e819ebf8b09d6a867fff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4125b3fcf1dd38b4f1a70e56bac0e2fc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a></td></tr>
<tr class="memdesc:a4125b3fcf1dd38b4f1a70e56bac0e2fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variables from which to acquire moving mesh information.  <a href="#a4125b3fcf1dd38b4f1a70e56bac0e2fc">更多...</a><br/></td></tr>
<tr class="separator:a4125b3fcf1dd38b4f1a70e56bac0e2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3102589faec7aa5752b4f605d5e2283e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a></td></tr>
<tr class="separator:a3102589faec7aa5752b4f605d5e2283e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081fe25766a214bc0d22f86d114258c4"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a></td></tr>
<tr class="separator:a081fe25766a214bc0d22f86d114258c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab885946dc9eac4b63d57921f991bea33"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a></td></tr>
<tr class="memdesc:ab885946dc9eac4b63d57921f991bea33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores unsigned int to tell us which variables are evolving as first order in time (1), second order in time (2), or are not time evolving (0).  <a href="#ab885946dc9eac4b63d57921f991bea33">更多...</a><br/></td></tr>
<tr class="separator:ab885946dc9eac4b63d57921f991bea33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bc59adf0ae024a9216bdc0db2d5b2a"><td class="memItemLeft" align="right" valign="top">std::set&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">_first_order_vars</a></td></tr>
<tr class="memdesc:a73bc59adf0ae024a9216bdc0db2d5b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a> indices for those variables that are first order in time.  <a href="#a73bc59adf0ae024a9216bdc0db2d5b2a">更多...</a><br/></td></tr>
<tr class="separator:a73bc59adf0ae024a9216bdc0db2d5b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3139300c2d5ae16077aa17ff4079384"><td class="memItemLeft" align="right" valign="top">std::set&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">_second_order_vars</a></td></tr>
<tr class="memdesc:ab3139300c2d5ae16077aa17ff4079384"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a> indices for those variables that are second order in time.  <a href="#ab3139300c2d5ae16077aa17ff4079384">更多...</a><br/></td></tr>
<tr class="separator:ab3139300c2d5ae16077aa17ff4079384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceea2499be3300c82d5d2d371a0b5b47"><td class="memItemLeft" align="right" valign="top">std::map&lt; unsigned int, <br class="typebreak"/>
unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#aceea2499be3300c82d5d2d371a0b5b47">_second_order_dot_vars</a></td></tr>
<tr class="memdesc:aceea2499be3300c82d5d2d371a0b5b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the user adds any second order variables, then we need to also cache the map to their corresponding dot variable that will be added by this <a class="el" href="classlibMesh_1_1TimeSolver.html" title="This is a generic class that defines a solver to handle time integration of DifferentiableSystems. ">TimeSolver</a> class.  <a href="#aceea2499be3300c82d5d2d371a0b5b47">更多...</a><br/></td></tr>
<tr class="separator:aceea2499be3300c82d5d2d371a0b5b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
静态 Protected 属性</h2></td></tr>
<tr class="memitem:a7c913252d05560f8bc7c75a63547c4c3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classlibMesh_1_1ReferenceCounter.html#adb5daadc989c1fe71ec8d173adf0ed1e">Counts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">_counts</a></td></tr>
<tr class="memdesc:a7c913252d05560f8bc7c75a63547c4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actually holds the data.  <a href="#a7c913252d05560f8bc7c75a63547c4c3">更多...</a><br/></td></tr>
<tr class="separator:a7c913252d05560f8bc7c75a63547c4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c30f0f71dcd00f00faa8e46aa3e043"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classlibMesh_1_1Threads_1_1atomic.html">Threads::atomic</a><br class="typebreak"/>
&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#ad2c30f0f71dcd00f00faa8e46aa3e043">_n_objects</a></td></tr>
<tr class="memdesc:ad2c30f0f71dcd00f00faa8e46aa3e043"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of objects.  <a href="#ad2c30f0f71dcd00f00faa8e46aa3e043">更多...</a><br/></td></tr>
<tr class="separator:ad2c30f0f71dcd00f00faa8e46aa3e043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abedbd3a4ce19686187449a8a0557b74b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classlibMesh_1_1Threads_1_1spin__mutex.html">Threads::spin_mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#abedbd3a4ce19686187449a8a0557b74b">_mutex</a></td></tr>
<tr class="memdesc:abedbd3a4ce19686187449a8a0557b74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutual exclusion object to enable thread-safe reference counting.  <a href="#abedbd3a4ce19686187449a8a0557b74b">更多...</a><br/></td></tr>
<tr class="separator:abedbd3a4ce19686187449a8a0557b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f75e8a4a280f2c41636f2ae1307a311"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">_enable_print_counter</a> = true</td></tr>
<tr class="memdesc:a8f75e8a4a280f2c41636f2ae1307a311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to control whether reference count information is printed when print_info is called.  <a href="#a8f75e8a4a280f2c41636f2ae1307a311">更多...</a><br/></td></tr>
<tr class="separator:a8f75e8a4a280f2c41636f2ae1307a311"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:ac5130a85829d1f6e7bb63373a3efe0a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac5130a85829d1f6e7bb63373a3efe0a7">initialize_tangent</a> ()</td></tr>
<tr class="memdesc:ac5130a85829d1f6e7bb63373a3efe0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">在开始弧长延拓之前，需要至少2个先前的解决方案（solution和u_previous都应填充有有意义的值）。 需要初始化切线向量。这只需要调用一次。  <a href="#ac5130a85829d1f6e7bb63373a3efe0a7">更多...</a><br/></td></tr>
<tr class="separator:ac5130a85829d1f6e7bb63373a3efe0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686615e1d0b0559da3c1f0b620211bec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a686615e1d0b0559da3c1f0b620211bec">solve_tangent</a> ()</td></tr>
<tr class="memdesc:a686615e1d0b0559da3c1f0b620211bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">专用解算算法，用于解算切线系统。  <a href="#a686615e1d0b0559da3c1f0b620211bec">更多...</a><br/></td></tr>
<tr class="separator:a686615e1d0b0559da3c1f0b620211bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6869735ca949bbd219ffdac8c2f08296"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a6869735ca949bbd219ffdac8c2f08296">update_solution</a> ()</td></tr>
<tr class="memdesc:a6869735ca949bbd219ffdac8c2f08296"><td class="mdescLeft">&#160;</td><td class="mdescRight">此函数（假设最近的切线向量已被计算）更新解和控制参数，使用下一个弧长路径上的初始猜测。  <a href="#a6869735ca949bbd219ffdac8c2f08296">更多...</a><br/></td></tr>
<tr class="separator:a6869735ca949bbd219ffdac8c2f08296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7faf1468f632e64415540f6c9897a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#aec7faf1468f632e64415540f6c9897a2">set_Theta</a> ()</td></tr>
<tr class="memdesc:aec7faf1468f632e64415540f6c9897a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">集中设置归一化参数theta的函数。  <a href="#aec7faf1468f632e64415540f6c9897a2">更多...</a><br/></td></tr>
<tr class="separator:aec7faf1468f632e64415540f6c9897a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff4d70ffecd54e4c2f35a341cddf3bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1ff4d70ffecd54e4c2f35a341cddf3bd">set_Theta_LOCA</a> ()</td></tr>
<tr class="memdesc:a1ff4d70ffecd54e4c2f35a341cddf3bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">集中设置另一个归一化参数，即LOCA开发人员建议的参数。  <a href="#a1ff4d70ffecd54e4c2f35a341cddf3bd">更多...</a><br/></td></tr>
<tr class="separator:a1ff4d70ffecd54e4c2f35a341cddf3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619cd33885c0d1568fa26970fea8f5cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a619cd33885c0d1568fa26970fea8f5cd">apply_predictor</a> ()</td></tr>
<tr class="memdesc:a619cd33885c0d1568fa26970fea8f5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">应用预测器获取下一个解的初始猜测。  <a href="#a619cd33885c0d1568fa26970fea8f5cd">更多...</a><br/></td></tr>
<tr class="separator:a619cd33885c0d1568fa26970fea8f5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:a542ed3d4e4dbd55f3d4c840c625f9307"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a></td></tr>
<tr class="memdesc:a542ed3d4e4dbd55f3d4c840c625f9307"><td class="mdescLeft">&#160;</td><td class="mdescRight">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。  <a href="#a542ed3d4e4dbd55f3d4c840c625f9307">更多...</a><br/></td></tr>
<tr class="separator:a542ed3d4e4dbd55f3d4c840c625f9307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f4570622a491f4879271fb6fb6ad08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">previous_du_ds</a></td></tr>
<tr class="memdesc:ae0f4570622a491f4879271fb6fb6ad08"><td class="mdescLeft">&#160;</td><td class="mdescRight">从上一个解中得到的du_ds的值。  <a href="#ae0f4570622a491f4879271fb6fb6ad08">更多...</a><br/></td></tr>
<tr class="separator:ae0f4570622a491f4879271fb6fb6ad08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90a5b948d2eb5a79853e6644a0b8b00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a></td></tr>
<tr class="memdesc:ad90a5b948d2eb5a79853e6644a0b8b00"><td class="mdescLeft">&#160;</td><td class="mdescRight">在先前值的延拓参数的解。  <a href="#ad90a5b948d2eb5a79853e6644a0b8b00">更多...</a><br/></td></tr>
<tr class="separator:ad90a5b948d2eb5a79853e6644a0b8b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af820547d41ab966362c384649416490b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a></td></tr>
<tr class="memdesc:af820547d41ab966362c384649416490b"><td class="mdescLeft">&#160;</td><td class="mdescRight">临时向量"y" ...  <a href="#af820547d41ab966362c384649416490b">更多...</a><br/></td></tr>
<tr class="separator:af820547d41ab966362c384649416490b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde572b48fb8abf26c11e45df3de13c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a></td></tr>
<tr class="memdesc:afde572b48fb8abf26c11e45df3de13c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">临时向量"y_old" ...  <a href="#afde572b48fb8abf26c11e45df3de13c8">更多...</a><br/></td></tr>
<tr class="separator:afde572b48fb8abf26c11e45df3de13c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>该类继承自FEMSystem。它可以用于弧长延拓。这里的大多数思想和符号都来自HB Keller的1977年论文： </p>
<pre class="fragment">* @InProceedings{Kell-1977,
*   author    = {H.~B.~Keller},
*   title     = {{Numerical solution of bifurcation and nonlinear eigenvalue problems}},
*   booktitle = {Applications of Bifurcation Theory, P.~H.~Rabinowitz (ed.)},
*   year      = 1977,
*   publisher = {Academic Press},
*   pages     = {359--389},
*   notes     = {QA 3 U45 No.\ 38 (PMA)}
* }
* </pre><dl class="section author"><dt>作者</dt><dd>John W. Peterson </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2007 </dd></dl>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00051">51</a> 行定义.</p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a class="anchor" id="a2f3f228f78dfcd6e22eef514743b7c2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt;, std::less&lt;&gt; &gt;::const_iterator <a class="el" href="classlibMesh_1_1System.html#a2f3f228f78dfcd6e22eef514743b7c2c">libMesh::System::const_matrices_iterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01810">1810</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ae301ec73eb4f0efe04e619edc17c0edb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt;, std::less&lt;&gt; &gt;::const_iterator <a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">libMesh::System::const_vectors_iterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00767">767</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="adb5daadc989c1fe71ec8d173adf0ed1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::pair&lt;unsigned int, unsigned int&gt; &gt; <a class="el" href="classlibMesh_1_1ReferenceCounter.html#adb5daadc989c1fe71ec8d173adf0ed1e">libMesh::ReferenceCounter::Counts</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data structure to log the information. </p>
<p>The log is identified by the class name. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00119">119</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a2c79ca1fa9506883de9be0d335b8674f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>(* libMesh::System::GradientFunctionPointer)(const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;parameters, const std::string &amp;sys_name, const std::string &amp;unknown_name)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00542">542</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="af597ed806384b5271ef8aa9fb675eaf8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt;, std::less&lt;&gt; &gt;::iterator <a class="el" href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">libMesh::System::matrices_iterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Matrix iterator typedefs. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01809">1809</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="aa590e2a8c5a75d6b3d1a1c5cfc8f08e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classlibMesh_1_1FEMSystem.html">FEMSystem</a> <a class="el" href="classlibMesh_1_1ContinuationSystem.html#aa590e2a8c5a75d6b3d1a1c5cfc8f08e6">libMesh::ContinuationSystem::Parent</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>父类的类型。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00084">84</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a1e16e54312b5099b71e42f6593926536"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> <a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1e16e54312b5099b71e42f6593926536">libMesh::ContinuationSystem::sys_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>系统的类型。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00079">79</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a1b0309d81e51a657209482a80e4a9047"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(TimeSolver::* libMesh::FEMSystem::TimeSolverResPtr)(bool, <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Syntax sugar to make <a class="el" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6" title="Uses the results of multiple res calls to numerically differentiate the corresponding jacobian...">numerical_jacobian()</a> declaration easier. </p>

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00220">220</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ae762e359a9b2b6256dfcd38c77eb85c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>(* libMesh::System::ValueFunctionPointer)(const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;p, const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;<a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a>, const std::string &amp;sys_name, const std::string &amp;unknown_name)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto the current solution. </p>
<p>The function value <code>fptr</code> and its gradient <code>gptr</code> are represented by function pointers. A gradient <code>gptr</code> is only required/used for projecting onto finite element spaces with continuous derivatives. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00538">538</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ab61da28617688ed39b3a960f7da33c97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt;, std::less&lt;&gt; &gt;::iterator <a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">libMesh::System::vectors_iterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector iterator typedefs. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00766">766</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员枚举类型说明</h2>
<a class="anchor" id="ac6985654cb1d70608920d8c77409c600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600">libMesh::ContinuationSystem::Predictor</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>预测器方案的选择，用于获取下一个解的初始猜测。 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76"></a>Euler</em>&nbsp;</td><td class="fielddoc">
<p>一阶Euler预测器。 </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549"></a>AB2</em>&nbsp;</td><td class="fielddoc">
<p>二阶显式Adams-Bashforth预测器。 </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ac6985654cb1d70608920d8c77409c600a5d9fffba94c555b0116ce03320b86b70"></a>Invalid_Predictor</em>&nbsp;</td><td class="fielddoc">
<p>无效的预测器。 </p>
</td></tr>
</table>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00190">190</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                 {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">Euler</a>,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549">AB2</a>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a5d9fffba94c555b0116ce03320b86b70">Invalid_Predictor</a></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  };</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a5d9fffba94c555b0116ce03320b86b70"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a5d9fffba94c555b0116ce03320b86b70">libMesh::ContinuationSystem::Invalid_Predictor</a></div><div class="ttdoc">无效的预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00204">continuation_system.h:204</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549">libMesh::ContinuationSystem::AB2</a></div><div class="ttdoc">二阶显式Adams-Bashforth预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00199">continuation_system.h:199</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">libMesh::ContinuationSystem::Euler</a></div><div class="ttdoc">一阶Euler预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00194">continuation_system.h:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7aa2e6f267de7c463bb3e1e706c5006e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006e">libMesh::ContinuationSystem::RHS_Mode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>由装配例程使用的两个不同的向量： 1.) 残差 = 正常的PDE加权残差 2.) G_Lambda = PDE加权残差相对于参数lambda的导数 </p>
<p>由派生类负责编写不同情况的单独装配代码。 通常是这样的： switch (rhs_mode) { case Residual: { Fu(i) += ... // 正常的PDE残差 break; }</p>
<p>case G_Lambda: { Fu(i) += ... // 相对于控制参数的导数 break; } </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81"></a>Residual</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1"></a>G_Lambda</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00261">261</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                {<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                 <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">G_Lambda</a>};</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">libMesh::ContinuationSystem::Residual</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00261">continuation_system.h:261</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">libMesh::ContinuationSystem::G_Lambda</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00262">continuation_system.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a class="anchor" id="a6ec7c334543edd9117ce97e3eb491292"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libMesh::ContinuationSystem::ContinuationSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a> &amp;&#160;</td>
          <td class="paramname"><em>es</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>构造函数。可选择初始化所需的数据结构。 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">es</td><td>EquationSystems的引用。 </td></tr>
    <tr><td class="paramname">name</td><td>该系统的名称。 </td></tr>
    <tr><td class="paramname">number</td><td>该系统的编号。 </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00030">30</a> 行定义.</p>

<p>参考 <a class="el" href="linear__solver_8C_source.html#l00059">libMesh::LinearSolver&lt; T &gt;::build()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="implicit__system_8h_source.html#l00336">libMesh::ImplicitSystem::linear_solver</a> , 以及 <a class="el" href="libmesh_8C_source.html#l00872">libMesh::on_command_line()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                                                      :</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aa590e2a8c5a75d6b3d1a1c5cfc8f08e6">Parent</a>(es, name_in, number_in),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>(<span class="keyword">nullptr</span>),</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac2b62535acc9fb37c6f699a8a649fd6e">continuation_parameter_tolerance</a>(1.e-6),</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">solution_tolerance</a>(1.e-6),</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">initial_newton_tolerance</a>(0.01),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>(0.),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a3c926e951ebf781dd05157295532a833">min_continuation_parameter</a>(0.),</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">max_continuation_parameter</a>(0.),</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>(1.),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>(1.),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">n_backtrack_steps</a>(5),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a460a40fa157a8a02291bf801855da11a">n_arclength_reductions</a>(5),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">ds_min</a>(1.e-8),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">predictor</a>(<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">Euler</a>),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">newton_stepgrowth_aggressiveness</a>(1.),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a8723254d749f107d589deffb4eae4f5f">newton_progress_check</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a>(<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  tangent_initialized(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  newton_solver(<span class="keyword">nullptr</span>),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  dlambda_ds(0.707),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  ds(0.1),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  ds_current(0.1),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  previous_dlambda_ds(0.),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  previous_ds(0.),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>(0)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// Warn about using untested code</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  libmesh_experimental();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">// linear_solver is now in the ImplicitSystem base class, but we are</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// going to keep using it basically the way we did before it was</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">// moved.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a> = <a class="code" href="classlibMesh_1_1LinearSolver.html#a2ab7a2134664fa22a1d4d944d48a2ae3">LinearSolver&lt;Number&gt;::build</a>(es.comm());</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacelibMesh.html#adc9fb0dafe70b50cd0848a8142cf57c0">libMesh::on_command_line</a>(<span class="stringliteral">&quot;--solver-system-names&quot;</span>))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;init((this-&gt;name()+<span class="stringliteral">&quot;_&quot;</span>).c_str());</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;init();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;init_names(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a91eea11b31b452f37de66e006b8e4abd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">libMesh::ContinuationSystem::initial_newton_tolerance</a></div><div class="ttdeci">double initial_newton_tolerance</div><div class="ttdoc">在第一（不精确）牛顿步中尝试减少残差的程度。这通常是在不精确的牛顿方法中的一个较大的值，比如1/2，以防止过度求解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00139">continuation_system.h:139</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">libMesh::ContinuationSystem::Residual</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00261">continuation_system.h:261</a></div></div>
<div class="ttc" id="classlibMesh_1_1LinearSolver_html_a2ab7a2134664fa22a1d4d944d48a2ae3"><div class="ttname"><a href="classlibMesh_1_1LinearSolver.html#a2ab7a2134664fa22a1d4d944d48a2ae3">libMesh::LinearSolver::build</a></div><div class="ttdeci">static std::unique_ptr&lt; LinearSolver&lt; T &gt; &gt; build(const libMesh::Parallel::Communicator &amp;comm_in, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">Builds a LinearSolver using the linear solver package specified by solver_package. </div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00059">linear_solver.C:59</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac2b62535acc9fb37c6f699a8a649fd6e"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac2b62535acc9fb37c6f699a8a649fd6e">libMesh::ContinuationSystem::continuation_parameter_tolerance</a></div><div class="ttdeci">double continuation_parameter_tolerance</div><div class="ttdoc">牛顿迭代尝试收敛delta_lambda的程度。默认为1.e-6。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00129">continuation_system.h:129</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7cc77804ea5ef5dde638fe522aeed6a3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">libMesh::ContinuationSystem::ds_min</a></div><div class="ttdeci">Real ds_min</div><div class="ttdoc">允许的最小步长，默认为1.e-8。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00232">continuation_system.h:232</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a460a40fa157a8a02291bf801855da11a"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a460a40fa157a8a02291bf801855da11a">libMesh::ContinuationSystem::n_arclength_reductions</a></div><div class="ttdeci">unsigned int n_arclength_reductions</div><div class="ttdoc">当牛顿无法减少残差时尝试的弧长缩减次数。对于每个弧长缩减，弧步大小减半。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00227">continuation_system.h:227</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a69d569bd9b652d24df1fbc9bd2c9c54a"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">libMesh::ContinuationSystem::max_continuation_parameter</a></div><div class="ttdeci">Real max_continuation_parameter</div><div class="ttdoc">延拓参数的最大允许值。如果延拓参数超过此值，牛顿迭代将停止。如果此值为零，则延拓参数没有最大值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00159">continuation_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad18b9bf0a892d99962bfab8b83e5e981"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">libMesh::ContinuationSystem::solution_tolerance</a></div><div class="ttdeci">double solution_tolerance</div><div class="ttdoc">牛顿迭代尝试收敛||delta_u||的程度。默认为1.e-6。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00134">continuation_system.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad499324a7a490ad9a4777fd48bfca048"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">libMesh::ContinuationSystem::newton_stepgrowth_aggressiveness</a></div><div class="ttdeci">Real newton_stepgrowth_aggressiveness</div><div class="ttdoc">基于所需的牛顿迭代次数尝试增长弧长步长的程度的度量。 默认值为1.0，如果设置为零，则不尝试基于所需的牛顿迭代次数增加或减小弧长步长。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00216">continuation_system.h:216</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a3c926e951ebf781dd05157295532a833"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a3c926e951ebf781dd05157295532a833">libMesh::ContinuationSystem::min_continuation_parameter</a></div><div class="ttdeci">Real min_continuation_parameter</div><div class="ttdoc">延拓参数的最小允许值。如果延拓参数低于此值，牛顿迭代将停止。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00154">continuation_system.h:154</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a172cfb334a843f73419f20ab5cde57a5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">libMesh::ContinuationSystem::predictor</a></div><div class="ttdeci">Predictor predictor</div><div class="ttdoc">预测器类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00210">continuation_system.h:210</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a34d429e11a79273738c658c10bfa07c5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">libMesh::ContinuationSystem::rhs_mode</a></div><div class="ttdeci">RHS_Mode rhs_mode</div><div class="ttdoc">RHS_Mode类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00267">continuation_system.h:267</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a8723254d749f107d589deffb4eae4f5f"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a8723254d749f107d589deffb4eae4f5f">libMesh::ContinuationSystem::newton_progress_check</a></div><div class="ttdeci">bool newton_progress_check</div><div class="ttdoc">另一个由LOCA人员建议的缩放参数。这个参数试图在前两个切线向量之间的角度变大时缩小步长ds。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00180">continuation_system.h:180</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecb2c9bf8e35299c02a1fb768082f8cb"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">libMesh::ContinuationSystem::n_backtrack_steps</a></div><div class="ttdeci">unsigned int n_backtrack_steps</div><div class="ttdoc">牛顿迭代内尝试的后退步数，如果牛顿步没有减小残差。 这是在*单个*牛顿步内后退，如果要尝试较小的弧步，请设置n_arclength_reductions &amp;gt; 0。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00222">continuation_system.h:222</a></div></div>
<div class="ttc" id="namespacelibMesh_html_adc9fb0dafe70b50cd0848a8142cf57c0"><div class="ttname"><a href="namespacelibMesh.html#adc9fb0dafe70b50cd0848a8142cf57c0">libMesh::on_command_line</a></div><div class="ttdeci">bool on_command_line(std::string arg)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8C_source.html#l00872">libmesh.C:872</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aa590e2a8c5a75d6b3d1a1c5cfc8f08e6"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aa590e2a8c5a75d6b3d1a1c5cfc8f08e6">libMesh::ContinuationSystem::Parent</a></div><div class="ttdeci">FEMSystem Parent</div><div class="ttdoc">父类的类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00084">continuation_system.h:84</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_add942ac69c43a1c5e578620a003a75fe"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">libMesh::ImplicitSystem::linear_solver</a></div><div class="ttdeci">std::unique_ptr&lt; LinearSolver&lt; Number &gt; &gt; linear_solver</div><div class="ttdoc">This class handles all the details of interfacing with various linear algebra packages like PETSc or ...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00336">implicit_system.h:336</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">libMesh::ContinuationSystem::Euler</a></div><div class="ttdoc">一阶Euler预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00194">continuation_system.h:194</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_abb52b3e342e9ce329a7e4bfeab1487bf"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">libMesh::ContinuationSystem::newton_step</a></div><div class="ttdeci">unsigned int newton_step</div><div class="ttdoc">非线性（牛顿）迭代循环的循环计数器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00185">continuation_system.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a6391a08c6ab6f7824b288e6e468fbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libMesh::ContinuationSystem::ContinuationSystem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>特殊函数。 </p>
<ul>
<li>该类具有与其基类相同的限制。</li>
<li>析构函数在行外默认。 </li>
</ul>

</div>
</div>
<a class="anchor" id="a94036b9126a09405e8734e14d9a44a3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libMesh::ContinuationSystem::ContinuationSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a438c87dd95393e480a98d239146450"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libMesh::ContinuationSystem::~ContinuationSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a class="anchor" id="ada28f60bb629cdd5421916287a404404"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::_eulerian_time_deriv </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method simply combines <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1c80f2e313fbb8b6ff7d088ff4169be2" title="Adds the time derivative contribution on elem to elem_residual. ">element_time_derivative()</a> and <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a63c47f742ea50b5aa65cbf415384de5e" title="Adds a pseudo-convection contribution on elem to elem_residual, if the nodes of elem are being transl...">eulerian_residual()</a>, which makes its address useful as a pointer-to-member-function when refactoring. </p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00161">libMesh::NewmarkSolver::element_residual()</a>.</p>

</div>
</div>
<a class="anchor" id="a2caec05f9f5fbdeee0ed4a1245f5e150"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activates the system. </p>
<p>Only active systems are solved. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02317">2317</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02156">libMesh::System::_active</a>.</p>
<div class="fragment"><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;{</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">_active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aee881365cfab1a56929cf344a34e9585"><div class="ttname"><a href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">libMesh::System::_active</a></div><div class="ttdeci">bool _active</div><div class="ttdoc">Flag stating if the system is active or not. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02156">system.h:2156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0abd752d5ad75ea99581c65e0d5c2fb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> if the system is active, <code>false</code> otherwise. An active system will be solved. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02309">2309</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02156">libMesh::System::_active</a>.</p>
<div class="fragment"><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;{</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">_active</a>;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aee881365cfab1a56929cf344a34e9585"><div class="ttname"><a href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">libMesh::System::_active</a></div><div class="ttdeci">bool _active</div><div class="ttdoc">Flag stating if the system is active or not. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02156">system.h:2156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab21c031f38c12ff111865623561b6687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_adjoint_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint rhs vectors, by default the one corresponding to the first qoi. Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01244">1244</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>.</p>

<p>参考自 <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>.</p>
<div class="fragment"><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  std::ostringstream adjoint_rhs_name;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  adjoint_rhs_name &lt;&lt; <span class="stringliteral">&quot;adjoint_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(adjoint_rhs_name.str(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5777831398d0a7a0d8ef2a231824989"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint solution vectors, by default the one corresponding to the first qoi. Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01180">1180</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a> , 以及 <a class="el" href="system_8C_source.html#l01106">libMesh::System::set_vector_as_adjoint()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;{</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; returnval = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6beb9627c21ea35b0a3fd070faaa855e">set_vector_as_adjoint</a>(adjoint_name.str(), i);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">return</span> returnval;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6beb9627c21ea35b0a3fd070faaa855e"><div class="ttname"><a href="classlibMesh_1_1System.html#a6beb9627c21ea35b0a3fd070faaa855e">libMesh::System::set_vector_as_adjoint</a></div><div class="ttdeci">void set_vector_as_adjoint(const std::string &amp;vec_name, int qoi_num)</div><div class="ttdoc">Allows one to set the QoI index controlling whether the vector identified by vec_name represents a so...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01106">system.C:1106</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad572ac3f77c7bd8a72bbf14ead0324b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::add_dot_var_dirichlet_bcs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dot_var_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>向系统中二阶变量的“dot”变量的“cousins”添加Dirichlet边界条件的辅助函数。 该函数接受二阶变量索引、其对应的“dot”变量索引， 然后搜索var_idx的DirichletBoundary对象，并使用相同的边界ID和functors 为var_idx的DirichletBoundary添加一个dot_var_idx的DirichletBoundary对象。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00214">214</a> 行定义.</p>

<p>参考 <a class="el" href="dof__map__constraints_8C_source.html#l05450">libMesh::DofMap::add_dirichlet_boundary()</a>, <a class="el" href="dof__map_8h_source.html#l01482">libMesh::DofMap::get_dirichlet_boundaries()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// We&#39;re assuming that there could be a lot more variables than</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// boundary conditions, so we search each of the boundary conditions</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// for this variable rather than looping over boundary conditions</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// in a separate loop and searching through all the variables.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keyword">const</span> DirichletBoundaries * all_dbcs =</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#aa80551b7b77842fbbdba05173010e57e">get_dirichlet_boundaries</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (all_dbcs)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="comment">// We need to cache the DBCs to be added so that we add them</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="comment">// after looping over the existing DBCs. Otherwise, we&#39;re polluting</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="comment">// the thing we&#39;re looping over.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      std::vector&lt;DirichletBoundary&gt; new_dbcs;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dbc : *all_dbcs)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(dbc);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;          <span class="comment">// Look for second order variable in the current</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          <span class="comment">// DirichletBoundary object</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          std::vector&lt;unsigned int&gt;::const_iterator dbc_var_it =</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            std::find( dbc-&gt;variables.begin(), dbc-&gt;variables.end(), var_idx );</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          <span class="comment">// If we found it, then we also need to add it&#39;s corresponding</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          <span class="comment">// &quot;dot&quot; variable to a DirichletBoundary</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          std::vector&lt;unsigned int&gt; vars_to_add;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          <span class="keywordflow">if</span> (dbc_var_it != dbc-&gt;variables.end())</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            vars_to_add.push_back(dot_var_idx);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          <span class="keywordflow">if</span> (!vars_to_add.empty())</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              <span class="comment">// We need to check if the boundary condition is time-dependent.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;              <span class="comment">// Currently, we cannot automatically differentiate w.r.t. time</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;              <span class="comment">// so if the user supplies a time-dependent Dirichlet BC, then</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;              <span class="comment">// we can&#39;t automatically support the Dirichlet BC for the</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;              <span class="comment">// &quot;velocity&quot; boundary condition, so we error. Otherwise,</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;              <span class="comment">// the &quot;velocity boundary condition will just be zero.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;              <span class="keywordtype">bool</span> is_time_evolving_bc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;              <span class="keywordflow">if</span> (dbc-&gt;f)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                is_time_evolving_bc = dbc-&gt;f-&gt;is_time_dependent();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dbc-&gt;f_fem)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="comment">// We it&#39;s a FEMFunctionBase object, it will be implicitly</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="comment">// time-dependent since it is assumed to depend on the solution.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                is_time_evolving_bc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                libmesh_error_msg(<span class="stringliteral">&quot;Could not find valid boundary function!&quot;</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;              libmesh_error_msg_if(is_time_evolving_bc, <span class="stringliteral">&quot;Cannot currently support time-dependent Dirichlet BC for dot variables!&quot;</span>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              libmesh_error_msg_if(!dbc-&gt;f, <span class="stringliteral">&quot;Expected valid DirichletBoundary function&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;              new_dbcs.emplace_back(dbc-&gt;b, vars_to_add, ZeroFunction&lt;Number&gt;());</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="comment">// Let the DofMap make its own deep copy of the DirichletBC objects</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dbc : new_dbcs)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a47b7566f3cf2608d913792fd3e963b5d">add_dirichlet_boundary</a>(dbc);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    } <span class="comment">// if (all_dbcs)</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_aa80551b7b77842fbbdba05173010e57e"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#aa80551b7b77842fbbdba05173010e57e">libMesh::DofMap::get_dirichlet_boundaries</a></div><div class="ttdeci">const DirichletBoundaries * get_dirichlet_boundaries() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l01482">dof_map.h:1482</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a47b7566f3cf2608d913792fd3e963b5d"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a47b7566f3cf2608d913792fd3e963b5d">libMesh::DofMap::add_dirichlet_boundary</a></div><div class="ttdeci">void add_dirichlet_boundary(const DirichletBoundary &amp;dirichlet_boundary)</div><div class="ttdoc">Adds a copy of the specified Dirichlet boundary to the system. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l05450">dof_map_constraints.C:5450</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae11ca9d9db661ee90faa57dd37b2528b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::add_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the system matrix. </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a93461666e099ca27a2914e85de57dbef">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00086">86</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01903">libMesh::System::add_matrices()</a>, <a class="el" href="system_8C_source.html#l00984">libMesh::System::add_matrix()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a> , 以及 <a class="el" href="system_8h_source.html#l02594">libMesh::System::n_matrices()</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a93461666e099ca27a2914e85de57dbef">Parent::add_matrices</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Possible that we cleared the _matrices but</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// forgot to update the matrix pointer?</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a17680e6b4bf7abfb50c8d36e0c8bb59d">n_matrices</a>() == 0)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// Only need to add the matrix if it isn&#39;t there</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// already!</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a> = &amp;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a093662b71afff79539246455941fc342">add_matrix</a> (<span class="stringliteral">&quot;System Matrix&quot;</span>));</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a93461666e099ca27a2914e85de57dbef"><div class="ttname"><a href="classlibMesh_1_1System.html#a93461666e099ca27a2914e85de57dbef">libMesh::System::add_matrices</a></div><div class="ttdeci">virtual void add_matrices()</div><div class="ttdoc">Insertion point for adding matrices in derived classes before init_matrices() is called. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01903">system.h:1903</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a17680e6b4bf7abfb50c8d36e0c8bb59d"><div class="ttname"><a href="classlibMesh_1_1System.html#a17680e6b4bf7abfb50c8d36e0c8bb59d">libMesh::System::n_matrices</a></div><div class="ttdeci">unsigned int n_matrices() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02594">system.h:2594</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a093662b71afff79539246455941fc342"><div class="ttname"><a href="classlibMesh_1_1System.html#a093662b71afff79539246455941fc342">libMesh::System::add_matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; &amp; add_matrix(std::string_view mat_name, ParallelType type=PARALLEL, MatrixBuildType mat_build_type=MatrixBuildType::AUTOMATIC)</div><div class="ttdoc">Adds the additional matrix mat_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00984">system.C:984</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a093662b71afff79539246455941fc342"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a4eace1aabc535e887730e3657345bbb2">MatrixBuildType</a>&#160;</td>
          <td class="paramname"><em>mat_build_type</em> = <code>MatrixBuildType::AUTOMATIC</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the additional matrix <code>mat_name</code> to this system. </p>
<p>Only allowed prior to <code><a class="el" href="classlibMesh_1_1System.html#a79e4227a9e627031fac487cbd7c17250" title="Prepares matrix and _dof_map for matrix assembly. ">assemble()</a></code>. All additional matrices have the same sparsity pattern as the matrix used during solution. When not <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> but the user wants to initialize the mayor matrix, then all the additional matrices, if existent, have to be initialized by the user, too.</p>
<p>This non-template method will add a derived matrix type corresponding to the solver package. If the user wishes to specify the matrix type to add, use the templated <code>add_matrix</code> method instead</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat_name</td><td>A name for the matrix </td></tr>
    <tr><td class="paramname">type</td><td>The serial/parallel/ghosted type of the matrix </td></tr>
    <tr><td class="paramname">mat_build_type</td><td>The matrix type to build </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00984">984</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>, <a class="el" href="system_8h_source.html#l02186">libMesh::System::_matrix_types</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="libmesh_8C_source.html#l00967">libMesh::default_solver_package()</a>, <a class="el" href="system_8C_source.html#l01018">libMesh::System::late_matrix_init()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="eigen__system_8C_source.html#l00126">libMesh::EigenSystem::add_matrices()</a>, <a class="el" href="implicit__system_8C_source.html#l00086">libMesh::ImplicitSystem::add_matrices()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00055">libMesh::EigenTimeSolver::init()</a> , 以及 <a class="el" href="newmark__system_8C_source.html#l00038">libMesh::NewmarkSystem::NewmarkSystem()</a>.</p>
<div class="fragment"><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(std::string(mat_name)));</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(<span class="keywordtype">int</span>(type)));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(<span class="keywordtype">int</span>(mat_build_type)));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="comment">// Return the matrix if it is already there.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keyword">auto</span> it = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.find(mat_name);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">if</span> (it != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.end())</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> *it-&gt;second;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// Otherwise build the matrix to return.</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keyword">auto</span> pr = <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.emplace</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    (mat_name,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;     <a class="code" href="classlibMesh_1_1SparseMatrix.html#a24060040686ce1e3bf9dd07e47e473da">SparseMatrix&lt;Number&gt;::build</a>(this-&gt;comm(),</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                 <a class="code" href="namespacelibMesh.html#a496c62248223cd940c7715932dd0dc2d">libMesh::default_solver_package</a>(),</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                 mat_build_type));</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">_matrix_types</a>.emplace(mat_name, type);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">SparseMatrix&lt;Number&gt;</a> &amp; mat = *(pr.first-&gt;second);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// Initialize it first if we&#39;ve already initialized the others.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#af37dcc00aabce4c92e72d84b2eeb8646">late_matrix_init</a>(mat, type);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">return</span> mat;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a24060040686ce1e3bf9dd07e47e473da"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a24060040686ce1e3bf9dd07e47e473da">libMesh::SparseMatrix&lt; Number &gt;::build</a></div><div class="ttdeci">static std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package(), const MatrixBuildType matrix_build_type=MatrixBuildType::AUTOMATIC)</div><div class="ttdoc">使用由 solver_package 指定的线性求解器包构建一个 SparseMatrix&amp;lt;T&amp;gt;。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a496c62248223cd940c7715932dd0dc2d"><div class="ttname"><a href="namespacelibMesh.html#a496c62248223cd940c7715932dd0dc2d">libMesh::default_solver_package</a></div><div class="ttdeci">SolverPackage default_solver_package()</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8C_source.html#l00967">libmesh.C:967</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae4c22aa846ed3f7ca568fe594837f306"><div class="ttname"><a href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">libMesh::System::_matrix_types</a></div><div class="ttdeci">std::map&lt; std::string, ParallelType, std::less&lt;&gt; &gt; _matrix_types</div><div class="ttdoc">Holds the types of the matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02186">system.h:2186</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a73bffc27dc8a3544d50d34b763ca198b"><div class="ttname"><a href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">libMesh::SparseMatrix&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT SparseMatrix&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00351">sparse_matrix.C:351</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af37dcc00aabce4c92e72d84b2eeb8646"><div class="ttname"><a href="classlibMesh_1_1System.html#af37dcc00aabce4c92e72d84b2eeb8646">libMesh::System::late_matrix_init</a></div><div class="ttdeci">void late_matrix_init(SparseMatrix&lt; Number &gt; &amp;mat, ParallelType type)</div><div class="ttdoc">Helper function to keep DofMap forward declarable in system.h. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01018">system.C:1018</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f3141abd9409c7e7f0f7609a81b3c8d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;template&lt; typename &gt; class MatrixType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the additional matrix <code>mat_name</code> to this system. </p>
<p>Only allowed prior to <code><a class="el" href="classlibMesh_1_1System.html#a79e4227a9e627031fac487cbd7c17250" title="Prepares matrix and _dof_map for matrix assembly. ">assemble()</a></code>. All additional matrices have the same sparsity pattern as the matrix used during solution. When not <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> but the user wants to initialize the mayor matrix, then all the additional matrices, if existent, have to be initialized by the user, too.</p>
<p>This method will create add a derived matrix of type <code>MatrixType&lt;Number&gt;</code>. One can use the non-templated <code>add_matrix</code> method to add a matrix corresponding to the default solver package</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat_name</td><td>A name for the matrix </td></tr>
    <tr><td class="paramname">type</td><td>The serial/parallel/ghosted type of the matrix </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02602">2602</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>, <a class="el" href="system_8h_source.html#l02186">libMesh::System::_matrix_types</a> , 以及 <a class="el" href="system_8C_source.html#l01018">libMesh::System::late_matrix_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;{</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  <span class="comment">// Return the matrix if it is already there.</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <span class="keyword">auto</span> it = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.find(mat_name);</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="keywordflow">if</span> (it != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.end())</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keywordflow">return</span> *it-&gt;second;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;  <span class="comment">// Otherwise build the matrix to return.</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  <span class="keyword">auto</span> pr = <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.emplace(mat_name, std::make_unique&lt;MatrixType&lt;Number&gt;&gt;(this-&gt;comm()));</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">_matrix_types</a>.emplace(mat_name, type);</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  <a class="code" href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">SparseMatrix&lt;Number&gt;</a> &amp; mat = *(pr.first-&gt;second);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;  <span class="comment">// Initialize it first if we&#39;ve already initialized the others.</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#af37dcc00aabce4c92e72d84b2eeb8646">late_matrix_init</a>(mat, type);</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;  <span class="keywordflow">return</span> mat;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae4c22aa846ed3f7ca568fe594837f306"><div class="ttname"><a href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">libMesh::System::_matrix_types</a></div><div class="ttdeci">std::map&lt; std::string, ParallelType, std::less&lt;&gt; &gt; _matrix_types</div><div class="ttdoc">Holds the types of the matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02186">system.h:2186</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a73bffc27dc8a3544d50d34b763ca198b"><div class="ttname"><a href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">libMesh::SparseMatrix&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT SparseMatrix&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00351">sparse_matrix.C:351</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af37dcc00aabce4c92e72d84b2eeb8646"><div class="ttname"><a href="classlibMesh_1_1System.html#af37dcc00aabce4c92e72d84b2eeb8646">libMesh::System::late_matrix_init</a></div><div class="ttdeci">void late_matrix_init(SparseMatrix&lt; Number &gt; &amp;mat, ParallelType type)</div><div class="ttdoc">Helper function to keep DofMap forward declarable in system.h. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01018">system.C:1018</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f94cc653d68bd327e546f74d0ad9696"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::add_second_order_dot_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>添加与DifferentiableSystem中的二阶时间变量的“cousins”变量相关的“速度”变量的辅助函数。 只有当TimeSolver是FirstOrderUnsteadySolver时才调用此函数。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00182">182</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00560">libMesh::DifferentiablePhysics::_second_order_dot_vars</a>, <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="diff__system_8C_source.html#l00214">libMesh::DifferentiableSystem::add_dot_var_dirichlet_bcs()</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="diff__physics_8h_source.html#l00519">libMesh::DifferentiablePhysics::get_second_order_vars()</a>, <a class="el" href="variable_8h_source.html#l00121">libMesh::Variable::name()</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e">libMesh::DifferentiablePhysics::time_evolving()</a>, <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00094">libMesh::DifferentiableSystem::init_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keyword">const</span> std::set&lt;unsigned int&gt; &amp; second_order_vars = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a814c1bfb614273e3c449daa52c4892c0">get_second_order_vars</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (!second_order_vars.empty())</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; var_id : second_order_vars)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <span class="keyword">const</span> Variable &amp; var = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var_id);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          std::string new_var_name = std::string(<span class="stringliteral">&quot;dot_&quot;</span>)+var.name();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v_var_idx;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          <span class="keywordflow">if</span> (var.active_subdomains().empty())</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            v_var_idx = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a>( new_var_name, var.type() );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            v_var_idx = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a>( new_var_name, var.type(), &amp;var.active_subdomains() );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;          <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#aceea2499be3300c82d5d2d371a0b5b47">_second_order_dot_vars</a>.insert(std::pair&lt;unsigned int, unsigned int&gt;(var_id, v_var_idx));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <span class="comment">// The new velocities are time evolving variables of first order</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e">time_evolving</a>( v_var_idx, 1 );</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_DIRICHLET</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor"></span>          <span class="comment">// And if there are any boundary conditions set on the second order</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          <span class="comment">// variable, we also need to set it on its velocity variable.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad572ac3f77c7bd8a72bbf14ead0324b6">add_dot_var_dirichlet_bcs</a>(var_id, v_var_idx);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a814c1bfb614273e3c449daa52c4892c0"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a814c1bfb614273e3c449daa52c4892c0">libMesh::DifferentiablePhysics::get_second_order_vars</a></div><div class="ttdeci">const std::set&lt; unsigned int &gt; &amp; get_second_order_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00519">diff_physics.h:519</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ad572ac3f77c7bd8a72bbf14ead0324b6"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ad572ac3f77c7bd8a72bbf14ead0324b6">libMesh::DifferentiableSystem::add_dot_var_dirichlet_bcs</a></div><div class="ttdeci">void add_dot_var_dirichlet_bcs(unsigned int var_idx, unsigned int dot_var_idx)</div><div class="ttdoc">向系统中二阶变量的“dot”变量的“cousins”添加Dirichlet边界条件的辅助函数。 该函数接受二阶变量索引、其对应的“dot”变量索引， 然后搜索var_idx的DirichletBound...</div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00214">diff_system.C:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_aceea2499be3300c82d5d2d371a0b5b47"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#aceea2499be3300c82d5d2d371a0b5b47">libMesh::DifferentiablePhysics::_second_order_dot_vars</a></div><div class="ttdeci">std::map&lt; unsigned int, unsigned int &gt; _second_order_dot_vars</div><div class="ttdoc">If the user adds any second order variables, then we need to also cache the map to their correspondin...</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00560">diff_physics.h:560</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6e969faaf69643992543173498cf6b25"><div class="ttname"><a href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">libMesh::System::add_variable</a></div><div class="ttdeci">unsigned int add_variable(std::string_view var, const FEType &amp;type, const std::set&lt; subdomain_id_type &gt; *const active_subdomains=nullptr)</div><div class="ttdoc">Adds the variable var to the list of variables for this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01304">system.C:1304</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a5744b5cf72344e4c5eb426b3f50f1d7e"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e">libMesh::DifferentiablePhysics::time_evolving</a></div><div class="ttdeci">virtual void time_evolving(unsigned int var, unsigned int order)</div><div class="ttdoc">Tells the DiffSystem that variable var is evolving with respect to time. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65312b9004fc31ba812b7ec32515a2fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_sensitivity_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's sensitivity rhs vectors, by default the one corresponding to the first parameter. Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01274">1274</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00447">libMesh::ImplicitSystem::assemble_residual_derivatives()</a>.</p>
<div class="fragment"><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;{</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  std::ostringstream sensitivity_rhs_name;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  sensitivity_rhs_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(sensitivity_rhs_name.str(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8af728122cdd5677dc5a78e698bd1b35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_sensitivity_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's solution sensitivity vectors, by default the one corresponding to the first parameter. Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01129">1129</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;{</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  std::ostringstream sensitivity_name;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  sensitivity_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(sensitivity_name.str());</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e969faaf69643992543173498cf6b25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::add_variable </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const&#160;</td>
          <td class="paramname"><em>active_subdomains</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the variable <code>var</code> to the list of variables for this system. </p>
<p>If <code>active_subdomains</code> is either <code>nullptr</code> (the default) or points to an empty set, then it will be assumed that <code>var</code> has no subdomain restrictions</p>
<dl class="section return"><dt>返回</dt><dd>The index number for the new variable. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01304">1304</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02145">libMesh::System::_variable_groups</a>, <a class="el" href="system_8h_source.html#l02151">libMesh::System::_variable_numbers</a>, <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>, <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="system_8h_source.html#l02445">libMesh::System::identify_variable_groups()</a>, <a class="el" href="variable_8h_source.html#l00165">libMesh::Variable::implicitly_active()</a>, <a class="el" href="system_8h_source.html#l02333">libMesh::System::is_initialized()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8h_source.html#l02357">libMesh::System::n_variable_groups()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>, <a class="el" href="system_8h_source.html#l02397">libMesh::System::variable_name()</a> , 以及 <a class="el" href="system_8h_source.html#l02427">libMesh::System::variable_type()</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a>, <a class="el" href="system_8C_source.html#l01406">libMesh::System::add_variable()</a>, <a class="el" href="error__vector_8C_source.html#l00210">libMesh::ErrorVector::plot_error()</a> , 以及 <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;{</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(std::string(var)));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(type));</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify((active_subdomains == <span class="keyword">nullptr</span>)));</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">if</span> (active_subdomains)</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(active_subdomains-&gt;size()));</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="comment">// Make sure the variable isn&#39;t there already</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// or if it is, that it&#39;s the type we want</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(v) == var)</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(v) == type)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;          {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            <span class="comment">// Check whether the existing variable&#39;s active subdomains also matches</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="comment">// the incoming variable&#39;s active subdomains. If they don&#39;t match, then</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            <span class="comment">// either it is an error by the user or the user is trying to change the</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            <span class="comment">// subdomain restriction after the variable has already been added, which</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="comment">// is not supported.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keyword">const</span> Variable &amp; existing_var = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(v);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            <span class="comment">// Check whether active_subdomains is not provided/empty and the existing_var is implicitly_active()</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            <span class="keywordtype">bool</span> check1 = (!active_subdomains || active_subdomains-&gt;empty()) &amp;&amp; existing_var.implicitly_active();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <span class="comment">// Check if the provided active_subdomains is equal to the existing_var&#39;s active_subdomains</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordtype">bool</span> check2 = (active_subdomains &amp;&amp; (*active_subdomains == existing_var.active_subdomains()));</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="comment">// If either of these checks passed, then we already have this variable</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <span class="keywordflow">if</span> (check1 || check2)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[v].number();</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;          }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        libmesh_error_msg(<span class="stringliteral">&quot;ERROR: incompatible variable &quot;</span> &lt;&lt; var &lt;&lt; <span class="stringliteral">&quot; has already been added for this system!&quot;</span>);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">is_initialized</a>());</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>())</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="comment">// Optimize for VariableGroups here - if the user is adding multiple</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="comment">// variables of the same FEType and subdomain restriction, catch</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="comment">// that here and add them as members of the same VariableGroup.</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="comment">// start by setting this flag to whatever the user has requested</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <span class="comment">// and then consider the conditions which should negate it.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordtype">bool</span> should_be_in_vg = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a51038079e055d9b42f0a591bb59c3679">identify_variable_groups</a>();</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      VariableGroup &amp; vg(<a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.back());</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="comment">// get a pointer to their subdomain restriction, if any.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; * <span class="keyword">const</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        their_active_subdomains (vg.implicitly_active() ?</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                                 <span class="keyword">nullptr</span> : &amp;vg.active_subdomains());</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="comment">// Different types?</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <span class="keywordflow">if</span> (vg.type() != type)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="comment">// they are restricted, we aren&#39;t?</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">if</span> (their_active_subdomains &amp;&amp;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;          (!active_subdomains || (active_subdomains &amp;&amp; active_subdomains-&gt;empty())))</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="comment">// they aren&#39;t restricted, we are?</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="keywordflow">if</span> (!their_active_subdomains &amp;&amp; (active_subdomains &amp;&amp; !active_subdomains-&gt;empty()))</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">if</span> (their_active_subdomains &amp;&amp; active_subdomains)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <span class="comment">// restricted to different sets?</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordflow">if</span> (*their_active_subdomains != *active_subdomains)</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="comment">// OK, after all that, append the variable to the vg if none of the conditions</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="comment">// were violated</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="keywordflow">if</span> (should_be_in_vg)</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_n_vars = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;          std::string varstr(var);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;          <a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>[varstr] = curr_n_vars;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;          vg.append (std::move(varstr));</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;          <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.push_back(vg(vg.n_variables()-1));</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;          <span class="keywordflow">return</span> curr_n_vars;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="comment">// otherwise, fall back to adding a single variable group</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac0a7397242d9df810aa21db837526474">add_variables</a> (std::vector&lt;std::string&gt;(1, std::string(var)),</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                              type,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                              active_subdomains);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ac0a7397242d9df810aa21db837526474"><div class="ttname"><a href="classlibMesh_1_1System.html#ac0a7397242d9df810aa21db837526474">libMesh::System::add_variables</a></div><div class="ttdeci">unsigned int add_variables(const std::vector&lt; std::string &gt; &amp;vars, const FEType &amp;type, const std::set&lt; subdomain_id_type &gt; *const active_subdomains=nullptr)</div><div class="ttdoc">Adds the variable var to the list of variables for this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01418">system.C:1418</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9cddad5dd8b68389373567fddfbdb257"><div class="ttname"><a href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">libMesh::System::variable_name</a></div><div class="ttdeci">const std::string &amp; variable_name(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02397">system.h:2397</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab321ab954fa1284069a647b311ff6d17"><div class="ttname"><a href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">libMesh::System::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02427">system.h:2427</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a45f610871e1ffd907872018e6e1164f4"><div class="ttname"><a href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">libMesh::System::n_variable_groups</a></div><div class="ttdeci">unsigned int n_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02357">system.h:2357</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a97be87516ee1398a45ee99d0320e1fd7"><div class="ttname"><a href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">libMesh::System::_variable_groups</a></div><div class="ttdeci">std::vector&lt; VariableGroup &gt; _variable_groups</div><div class="ttdoc">The VariableGroup in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02145">system.h:2145</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a87af74bbfb7181bbab50f3b95b1f1f31"><div class="ttname"><a href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">libMesh::System::is_initialized</a></div><div class="ttdeci">bool is_initialized()</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02333">system.h:2333</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a51038079e055d9b42f0a591bb59c3679"><div class="ttname"><a href="classlibMesh_1_1System.html#a51038079e055d9b42f0a591bb59c3679">libMesh::System::identify_variable_groups</a></div><div class="ttdeci">bool identify_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02445">system.h:2445</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a1a6d4e0b74a98701716eddec66bd7fa7"><div class="ttname"><a href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">libMesh::System::_variable_numbers</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int, std::less&lt;&gt; &gt; _variable_numbers</div><div class="ttdoc">The variable numbers corresponding to user-specified names, useful for name-based lookups...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02151">system.h:2151</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac18d4e41db087ea87b9601c1cf781217"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::add_variable </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2a693d1c909a51afe7292cb273c313d4c3">FIRST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a>&#160;</td>
          <td class="paramname"><em>family</em> = <code><a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2da0b0bdaef8cef619acc3e552276abfe8f">LAGRANGE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const&#160;</td>
          <td class="paramname"><em>active_subdomains</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the variable <code>var</code> to the list of variables for this system. </p>
<p>Same as before, but assumes <code>LAGRANGE</code> as default value for <code><a class="el" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978" title="The type of finite element. ">FEType.family</a></code>. If <code>active_subdomains</code> is either <code>nullptr</code> (the default) or points to an empty set, then it will be assumed that <code>var</code> has no subdomain restrictions </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01406">1406</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;{</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a>(var,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                            FEType(order, family),</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                            active_subdomains);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6e969faaf69643992543173498cf6b25"><div class="ttname"><a href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">libMesh::System::add_variable</a></div><div class="ttdeci">unsigned int add_variable(std::string_view var, const FEType &amp;type, const std::set&lt; subdomain_id_type &gt; *const active_subdomains=nullptr)</div><div class="ttdoc">Adds the variable var to the list of variables for this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01304">system.C:1304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0a7397242d9df810aa21db837526474"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::add_variables </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const&#160;</td>
          <td class="paramname"><em>active_subdomains</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the variable <code>var</code> to the list of variables for this system. </p>
<p>If <code>active_subdomains</code> is either <code>nullptr</code> (the default) or points to an empty set, then it will be assumed that <code>var</code> has no subdomain restrictions</p>
<dl class="section return"><dt>返回</dt><dd>The index number for the new variable. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01418">1418</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02145">libMesh::System::_variable_groups</a>, <a class="el" href="system_8h_source.html#l02151">libMesh::System::_variable_numbers</a>, <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="system_8h_source.html#l02445">libMesh::System::identify_variable_groups()</a>, <a class="el" href="system_8h_source.html#l02333">libMesh::System::is_initialized()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8h_source.html#l02365">libMesh::System::n_components()</a>, <a class="el" href="system_8h_source.html#l02357">libMesh::System::n_variable_groups()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02397">libMesh::System::variable_name()</a> , 以及 <a class="el" href="system_8h_source.html#l02427">libMesh::System::variable_type()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a> , 以及 <a class="el" href="system_8C_source.html#l01537">libMesh::System::add_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;{</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">is_initialized</a>());</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(vars.size()));</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(type));</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify((active_subdomains == <span class="keyword">nullptr</span>)));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (active_subdomains)</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(active_subdomains-&gt;size()));</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">// Make sure the variable isn&#39;t there already</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// or if it is, that it&#39;s the type we want</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> ovar : vars)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(ovar));</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(v) == ovar)</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;          {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(v) == type)</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[v].number();</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            libmesh_error_msg(<span class="stringliteral">&quot;ERROR: incompatible variable &quot;</span> &lt;&lt; ovar &lt;&lt; <span class="stringliteral">&quot; has already been added for this system!&quot;</span>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;          }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>())</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="comment">// Optimize for VariableGroups here - if the user is adding multiple</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="comment">// variables of the same FEType and subdomain restriction, catch</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="comment">// that here and add them as members of the same VariableGroup.</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="comment">// start by setting this flag to whatever the user has requested</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <span class="comment">// and then consider the conditions which should negate it.</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="keywordtype">bool</span> should_be_in_vg = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a51038079e055d9b42f0a591bb59c3679">identify_variable_groups</a>();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      VariableGroup &amp; vg(<a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.back());</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="comment">// get a pointer to their subdomain restriction, if any.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; * <span class="keyword">const</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        their_active_subdomains (vg.implicitly_active() ?</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                 <span class="keyword">nullptr</span> : &amp;vg.active_subdomains());</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="comment">// Different types?</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">if</span> (vg.type() != type)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="comment">// they are restricted, we aren&#39;t?</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <span class="keywordflow">if</span> (their_active_subdomains &amp;&amp;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;          (!active_subdomains || (active_subdomains &amp;&amp; active_subdomains-&gt;empty())))</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="comment">// they aren&#39;t restricted, we are?</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">if</span> (!their_active_subdomains &amp;&amp; (active_subdomains &amp;&amp; !active_subdomains-&gt;empty()))</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <span class="keywordflow">if</span> (their_active_subdomains &amp;&amp; active_subdomains)</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="comment">// restricted to different sets?</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">if</span> (*their_active_subdomains != *active_subdomains)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;          should_be_in_vg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <span class="comment">// If after all that none of the conditions were violated,</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="comment">// append the variables to the vg and we&#39;re done</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="keywordflow">if</span> (should_be_in_vg)</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_n_vars = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> ovar : vars)</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;              curr_n_vars = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;              vg.append (ovar);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.push_back(vg(vg.n_variables()-1));</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>[ovar] = curr_n_vars;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          <span class="keywordflow">return</span> curr_n_vars;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        }</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> curr_n_vars = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> next_first_component = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6f572f472e767adada89af6b82547ddd">n_components</a>();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// We weren&#39;t able to add to an existing variable group, so</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="comment">// add a new variable group to the list</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.push_back((active_subdomains == <span class="keyword">nullptr</span>) ?</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                             VariableGroup(<span class="keyword">this</span>, vars, curr_n_vars,</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                           next_first_component, type) :</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                             VariableGroup(<span class="keyword">this</span>, vars, curr_n_vars,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                           next_first_component, type, *active_subdomains));</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keyword">const</span> VariableGroup &amp; vg (<a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.back());</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">// Add each component of the group individually</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(vars.size()))</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.push_back (vg(v));</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>[vars[v]] = curr_n_vars+v;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  libmesh_assert_equal_to ((curr_n_vars+vars.size()), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>());</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">// BSK - Defer this now to System::init_data() so we can detect</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// VariableGroups 12/28/2012</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="comment">// // Add the variable group to the _dof_map</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// _dof_map-&gt;add_variable_group (vg);</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Return the number of the new variable</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(curr_n_vars+vars.size()-1);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a9cddad5dd8b68389373567fddfbdb257"><div class="ttname"><a href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">libMesh::System::variable_name</a></div><div class="ttdeci">const std::string &amp; variable_name(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02397">system.h:2397</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab321ab954fa1284069a647b311ff6d17"><div class="ttname"><a href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">libMesh::System::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02427">system.h:2427</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a45f610871e1ffd907872018e6e1164f4"><div class="ttname"><a href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">libMesh::System::n_variable_groups</a></div><div class="ttdeci">unsigned int n_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02357">system.h:2357</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6f572f472e767adada89af6b82547ddd"><div class="ttname"><a href="classlibMesh_1_1System.html#a6f572f472e767adada89af6b82547ddd">libMesh::System::n_components</a></div><div class="ttdeci">unsigned int n_components() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02365">system.h:2365</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a97be87516ee1398a45ee99d0320e1fd7"><div class="ttname"><a href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">libMesh::System::_variable_groups</a></div><div class="ttdeci">std::vector&lt; VariableGroup &gt; _variable_groups</div><div class="ttdoc">The VariableGroup in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02145">system.h:2145</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a87af74bbfb7181bbab50f3b95b1f1f31"><div class="ttname"><a href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">libMesh::System::is_initialized</a></div><div class="ttdeci">bool is_initialized()</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02333">system.h:2333</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a51038079e055d9b42f0a591bb59c3679"><div class="ttname"><a href="classlibMesh_1_1System.html#a51038079e055d9b42f0a591bb59c3679">libMesh::System::identify_variable_groups</a></div><div class="ttdeci">bool identify_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02445">system.h:2445</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a1a6d4e0b74a98701716eddec66bd7fa7"><div class="ttname"><a href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">libMesh::System::_variable_numbers</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int, std::less&lt;&gt; &gt; _variable_numbers</div><div class="ttdoc">The variable numbers corresponding to user-specified names, useful for name-based lookups...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02151">system.h:2151</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a44558855a02c01a5bacb52709b3f4a58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::add_variables </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a>&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2a693d1c909a51afe7292cb273c313d4c3">FIRST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a>&#160;</td>
          <td class="paramname"><em>family</em> = <code><a class="el" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2da0b0bdaef8cef619acc3e552276abfe8f">LAGRANGE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a634d676f703fd1cf217d85d6794abcb3">subdomain_id_type</a> &gt; *const&#160;</td>
          <td class="paramname"><em>active_subdomains</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the variable <code>var</code> to the list of variables for this system. </p>
<p>Same as before, but assumes <code>LAGRANGE</code> as default value for <code><a class="el" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978" title="The type of finite element. ">FEType.family</a></code>. If <code>active_subdomains</code> is either <code>nullptr</code> (the default) or points to an empty set, then it will be assumed that <code>var</code> has no subdomain restrictions </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01537">1537</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;{</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac0a7397242d9df810aa21db837526474">add_variables</a>(vars,</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                             FEType(order, family),</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                             active_subdomains);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ac0a7397242d9df810aa21db837526474"><div class="ttname"><a href="classlibMesh_1_1System.html#ac0a7397242d9df810aa21db837526474">libMesh::System::add_variables</a></div><div class="ttdeci">unsigned int add_variables(const std::vector&lt; std::string &gt; &amp;vars, const FEType &amp;type, const std::set&lt; subdomain_id_type &gt; *const active_subdomains=nullptr)</div><div class="ttdoc">Adds the variable var to the list of variables for this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01418">system.C:1418</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73b89c8295f639035ee70666476a1606"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>projections</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the additional vector <code>vec_name</code> to this system. </p>
<p>All the additional vectors are similarly distributed, like the <code>solution</code>, and initialized to zero.</p>
<p>By default vectors added by add_vector are projected to changed grids by <a class="el" href="classlibMesh_1_1System.html#a1cb3b5ae4fdd2f72d8fbddcadf3d3256" title="Reinitializes degrees of freedom and other required data on the current mesh. ">reinit()</a>. To zero them instead (more efficient), pass "false" as the second argument</p>
<p>If the vector already exists, the existing vector is returned. after any upgrade to the <code>projections</code> or <code>type</code> has been made. We <em>only</em> handle upgrades (projections false-&gt;true, or type PARALLEL-&gt;GHOSTED) in this fashion, not downgrades, on the theory that if two codes have differing needs we want to support the union of those needs, not the intersection. Downgrades can only be accomplished manually, via <code><a class="el" href="classlibMesh_1_1System.html#a751b43d5879b101026eb7664c7a45443" title="Allows one to set the boolean controlling whether the vector identified by vec_name should be &quot;preser...">set_vector_preservation()</a></code> or by setting a vector <code>type()</code> and re-initializing. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00750">750</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>, <a class="el" href="system_8h_source.html#l02210">libMesh::System::_is_initialized</a>, <a class="el" href="system_8h_source.html#l02176">libMesh::System::_vector_is_adjoint</a>, <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="numeric__vector_8C_source.html#l00050">libMesh::NumericVector&lt; T &gt;::build()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="numeric__vector_8h_source.html#l00180">libMesh::NumericVector&lt; T &gt;::closed()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00037">libMesh::GHOSTED</a>, <a class="el" href="numeric__vector_8h_source.html#l00159">libMesh::NumericVector&lt; T &gt;::initialized()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="system_8C_source.html#l00112">libMesh::System::n_dofs()</a>, <a class="el" href="system_8C_source.html#l00149">libMesh::System::n_local_dofs()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00036">libMesh::PARALLEL</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00035">libMesh::SERIAL</a>, <a class="el" href="numeric__vector_8h_source.html#l01179">libMesh::NumericVector&lt; T &gt;::swap()</a> , 以及 <a class="el" href="numeric__vector_8h_source.html#l00166">libMesh::NumericVector&lt; T &gt;::type()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01244">libMesh::System::add_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l01180">libMesh::System::add_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l01274">libMesh::System::add_sensitivity_rhs()</a>, <a class="el" href="system_8C_source.html#l01129">libMesh::System::add_sensitivity_solution()</a>, <a class="el" href="explicit__system_8C_source.html#l00094">libMesh::ExplicitSystem::add_system_rhs()</a>, <a class="el" href="system_8C_source.html#l01212">libMesh::System::add_weighted_sensitivity_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l01159">libMesh::System::add_weighted_sensitivity_solution()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00034">libMesh::SecondOrderUnsteadySolver::init()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00060">libMesh::UnsteadySolver::init()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00068">libMesh::UnsteadySolver::init_adjoints()</a>, <a class="el" href="time__solver_8C_source.html#l00083">libMesh::TimeSolver::init_adjoints()</a>, <a class="el" href="optimization__system_8C_source.html#l00063">libMesh::OptimizationSystem::init_data()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a>, <a class="el" href="newmark__system_8C_source.html#l00038">libMesh::NewmarkSystem::NewmarkSystem()</a>, <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>, <a class="el" href="frequency__system_8C_source.html#l00234">libMesh::FrequencySystem::set_frequencies()</a>, <a class="el" href="frequency__system_8C_source.html#l00196">libMesh::FrequencySystem::set_frequencies_by_range()</a> , 以及 <a class="el" href="frequency__system_8C_source.html#l00161">libMesh::FrequencySystem::set_frequencies_by_steps()</a>.</p>
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(std::string(vec_name)));</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(<span class="keywordtype">int</span>(type)));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(projections));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// Return the vector if it is already there.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keyword">auto</span> it = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.find(vec_name);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">if</span> (it != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="comment">// If the projection setting has *upgraded*, change it.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">if</span> (projections) <span class="comment">// only do expensive lookup if needed</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>, vec_name) = projections;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; vec = *it-&gt;second;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="comment">// If we&#39;re in serial, our vectors are effectively SERIAL, so</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="comment">// we&#39;ll ignore any type setting.  If we&#39;re in parallel, we</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="comment">// might have a type change to deal with.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>() &gt; 1)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;          <span class="comment">// If the type setting has changed in a way we can&#39;t</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          <span class="comment">// perceive as an upgrade or a downgrade, scream.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          libmesh_assert_equal_to(type == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">SERIAL</a>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                  vec.type() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">SERIAL</a>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          <span class="comment">// If the type setting has *upgraded*, change it.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;          <span class="keywordflow">if</span> (type == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a> &amp;&amp; vec.type() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;              <span class="comment">// A *really* late upgrade is expensive, but better not</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;              <span class="comment">// to risk zeroing data.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;              <span class="keywordflow">if</span> (vec.initialized())</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                  <span class="keywordflow">if</span> (!vec.closed())</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                    vec.close();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                  <span class="comment">// Ideally we&#39;d move parallel coefficients and then</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                  <span class="comment">// add ghosted coefficients, but copy and swap is</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                  <span class="comment">// simpler.  If anyone actually ever uses this case</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                  <span class="comment">// for real we can look into optimizing it.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                  <span class="keyword">auto</span> new_vec = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_GHOSTED</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor"></span>                  new_vec-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(),</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                 <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list(), <span class="comment">/*fast=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                 <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor"></span>                  libmesh_error_msg(<span class="stringliteral">&quot;Cannot initialize ghosted vectors when they are not enabled.&quot;</span>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                  *new_vec = vec;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                  vec.swap(*new_vec);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                vec.type() = type;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="comment">// Any upgrades are done; we&#39;re happy here.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">return</span> vec;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Otherwise build the vector</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keyword">auto</span> pr = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.emplace(vec_name, <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>()));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keyword">auto</span> buf = pr.first-&gt;second.get();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.emplace(vec_name, projections);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  buf-&gt;type() = type;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">// Vectors are primal by default</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.emplace(vec_name, -1);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// Initialize it if necessary</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">_is_initialized</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">if</span> (type == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_GHOSTED</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="preprocessor"></span>          buf-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(),</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                     <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list(), <span class="comment">/*fast=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                     <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="preprocessor"></span>          libmesh_error_msg(<span class="stringliteral">&quot;Cannot initialize ghosted vectors when they are not enabled.&quot;</span>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        buf-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), <span class="keyword">false</span>, type);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">return</span> *buf;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a08f955f8b6c14ce57b16dcc998cd1fe1"><div class="ttname"><a href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">libMesh::System::_is_initialized</a></div><div class="ttdeci">bool _is_initialized</div><div class="ttdoc">true when additional vectors and variables do not require immediate initialization, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02210">system.h:2210</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">libMesh::PARALLEL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00036">enum_parallel_type.h:36</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">libMesh::SERIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00035">enum_parallel_type.h:35</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a07fd92e0eaa9423360b5a723383c0329"><div class="ttname"><a href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">libMesh::System::_vector_is_adjoint</a></div><div class="ttdeci">std::map&lt; std::string, int, std::less&lt;&gt; &gt; _vector_is_adjoint</div><div class="ttdoc">Holds non-negative if a vector by that name should be projected using adjoint constraints/BCs, -1 if primal. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02176">system.h:2176</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">libMesh::GHOSTED</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00037">enum_parallel_type.h:37</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_adba4a30965537656bb3b0c6f924ff040"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">libMesh::NumericVector::build</a></div><div class="ttdeci">static std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">构建一个 NumericVector 对象。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00050">numeric_vector.C:50</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a069a96e414fd05d292e3bb3a1a475602"><div class="ttname"><a href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">libMesh::System::n_local_dofs</a></div><div class="ttdeci">dof_id_type n_local_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00149">system.C:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16e412144b3c5c1cc59cbb9e52b9ab05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_weighted_sensitivity_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's weighted sensitivity adjoint solution vectors, by default the one corresponding to the first qoi. Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01212">1212</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a> , 以及 <a class="el" href="system_8C_source.html#l01106">libMesh::System::set_vector_as_adjoint()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;{</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;weighted_sensitivity_adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; returnval = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6beb9627c21ea35b0a3fd070faaa855e">set_vector_as_adjoint</a>(adjoint_name.str(), i);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="keywordflow">return</span> returnval;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6beb9627c21ea35b0a3fd070faaa855e"><div class="ttname"><a href="classlibMesh_1_1System.html#a6beb9627c21ea35b0a3fd070faaa855e">libMesh::System::set_vector_as_adjoint</a></div><div class="ttdeci">void set_vector_as_adjoint(const std::string &amp;vec_name, int qoi_num)</div><div class="ttdoc">Allows one to set the QoI index controlling whether the vector identified by vec_name represents a so...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01106">system.C:1106</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1922f73d344e6e1bea9100fec966e54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::add_weighted_sensitivity_solution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the solution of the last weighted sensitivity solve Creates the vector if it doesn't already exist. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01159">1159</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;{</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;weighted_sensitivity_solution&quot;</span>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a722c2196740110650459649fdff530d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;&#160;</td>
          <td class="paramname"><em>sensitivities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j]. </p>
<p>Uses <a class="el" href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab" title="Assembles &amp; solves the linear system (dR/du)^T*z = dq/du, for those quantities of interest q specifie...">adjoint_solve()</a> and the adjoint sensitivity method.</p>
<p>Currently uses finite differenced derivatives (partial q / partial p) and (partial R / partial p). </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a16e47d56606c347fbc996072f666c1b2">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00490">490</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00170">libMesh::SensitivityData::allocate_data()</a>, <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="implicit__system_8C_source.html#l00447">libMesh::ImplicitSystem::assemble_residual_derivatives()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="system_8C_source.html#l02301">libMesh::System::get_qoi_values()</a>, <a class="el" href="system_8C_source.html#l01284">libMesh::System::get_sensitivity_rhs()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="system_8h_source.html#l00406">libMesh::System::is_adjoint_already_solved()</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>.</p>

<p>参考自 <a class="el" href="unsteady__solver_8C_source.html#l00280">libMesh::UnsteadySolver::integrate_adjoint_sensitivity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Np = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    (parameters.size());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nq = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// An introduction to the problem:</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// Residual R(u(p),p) = 0</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// partial R / partial u = J = system matrix</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// This implies that:</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// d/dp(R) = 0</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// (partial R / partial p) +</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// (partial R / partial u) * (partial u / partial p) = 0</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// We first do an adjoint solve:</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// J^T * z = (partial q / partial u)</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// if we haven&#39;t already or dont have an initial condition for the adjoint</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">is_adjoint_already_solved</a>())</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">adjoint_solve</a>(qoi_indices);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a4d503bf57aab66f8becfcff4dec5030d">assemble_residual_derivatives</a>(parameters_in);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// Get ready to fill in sensitivities:</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  sensitivities.allocate_data(qoi_indices, *<span class="keyword">this</span>, parameters);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// We use the identities:</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) + (partial q / partial u) *</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">//         (partial u / partial p)</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) + (J^T * z) *</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">//         (partial u / partial p)</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) + z * J *</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">//         (partial u / partial p)</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// Leading to our final formula:</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) - z * (partial R / partial p)</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// In the case of adjoints with heterogenous Dirichlet boundary</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// function phi, where</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="comment">// q :=  S(u) - R(u,phi)</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// the final formula works out to:</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// dq/dp = (partial S / partial p) - z * (partial R / partial p)</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Because we currently have no direct access to</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// (partial S / partial p), we use the identity</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// (partial S / partial p) = (partial q / partial p) +</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">//                           phi * (partial R / partial p)</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// to derive an equivalent equation:</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) - (z-phi) * (partial R / partial p)</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// Since z-phi degrees of freedom are zero for constrained indices,</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// we can use the same constrained -(partial R / partial p) that we</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// use for forward sensitivity solves, taking into account the</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// differing sign convention.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Since that vector is constrained, its constrained indices are</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// zero, so its product with phi is zero, so we can neglect the</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// evaluation of phi terms.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j != Np; ++j)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="comment">// We currently get partial derivatives via central differencing</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="comment">// (partial q / partial p) ~= (q(p+dp)-q(p-dp))/(2*dp)</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="comment">// (partial R / partial p) ~= (rhs(p+dp) - rhs(p-dp))/(2*dp)</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameter = *parameters[j];</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p =</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a> * std::max(<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(old_parameter), 1e-3);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      *parameters[j] = old_parameter - delta_p;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keyword">const</span> std::vector&lt;Number&gt; qoi_minus = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; neg_partialR_partialp = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aad3023ee4c1d7ff532fab06136eed63c">get_sensitivity_rhs</a>(j);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      *parameters[j] = old_parameter + delta_p;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keyword">const</span> std::vector&lt;Number&gt; qoi_plus = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      std::vector&lt;Number&gt; partialq_partialp(Nq, 0);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          partialq_partialp[i] = (qoi_plus[i] - qoi_minus[i]) / (2.*delta_p);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// Don&#39;t leave the parameter changed</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      *parameters[j] = old_parameter;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          sensitivities[i][j] = partialq_partialp[i] +</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            neg_partialR_partialp.dot(this-&gt;get_adjoint_solution(i));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// All parameters have been reset.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// Reset the original qoi.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aad3023ee4c1d7ff532fab06136eed63c"><div class="ttname"><a href="classlibMesh_1_1System.html#aad3023ee4c1d7ff532fab06136eed63c">libMesh::System::get_sensitivity_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_sensitivity_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01284">system.C:1284</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a88c5418c5d5d97916264d40dd425a9ab"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">libMesh::ImplicitSystem::adjoint_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; adjoint_solve(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system (dR/du)^T*z = dq/du, for those quantities of interest q specifie...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00169">implicit_system.C:169</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5cd5ab35b28e4e0f56fc164d6898fe4"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">libMesh::System::is_adjoint_already_solved</a></div><div class="ttdeci">bool is_adjoint_already_solved() const </div><div class="ttdoc">Accessor for the adjoint_already_solved boolean. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00406">system.h:406</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a8b151463899cb0fbf0938e039491ffad"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">libMesh::ExplicitSystem::assemble_qoi</a></div><div class="ttdeci">virtual void assemble_qoi(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Prepares qoi for quantity of interest assembly, then calls user qoi function. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00054">explicit_system.C:54</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a4d503bf57aab66f8becfcff4dec5030d"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a4d503bf57aab66f8becfcff4dec5030d">libMesh::ImplicitSystem::assemble_residual_derivatives</a></div><div class="ttdeci">virtual void assemble_residual_derivatives(const ParameterVector &amp;parameters) override</div><div class="ttdoc">Residual parameter derivative function. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00447">implicit_system.C:447</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9b23ab84ecbb678fe65e76fc29567c8b"><div class="ttname"><a href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">libMesh::System::get_qoi_values</a></div><div class="ttdeci">std::vector&lt; Number &gt; get_qoi_values() const </div><div class="ttdoc">Returns a copy of qoi, not a reference. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02301">system.C:2301</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf16a7623398990e1e8327fd132b9dfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; unsigned int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; libMesh::DifferentiableSystem::adjoint_solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em> = <code><a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>此函数将_is_adjoint布尔成员设置为TimeSolver的true，然后调用隐式系统中的adjoint_solve。 </p>

<p>重载 <a class="el" href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">libMesh::ImplicitSystem</a> .</p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00150">150</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00409">libMesh::DifferentiableSystem::get_time_solver()</a>, <a class="el" href="time__solver_8h_source.html#l00284">libMesh::TimeSolver::set_is_adjoint()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// Get the time solver object associated with the system, and tell it that</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// we are solving the adjoint problem</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">get_time_solver</a>().<a class="code" href="classlibMesh_1_1TimeSolver.html#a0c67591fc3ee089d9a673c11d5fe7c30">set_is_adjoint</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;adjoint_solve(qoi_indices);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//return this-&gt;ImplicitSystem::adjoint_solve(qoi_indices);</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_a0c67591fc3ee089d9a673c11d5fe7c30"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#a0c67591fc3ee089d9a673c11d5fe7c30">libMesh::TimeSolver::set_is_adjoint</a></div><div class="ttdeci">void set_is_adjoint(bool _is_adjoint_value)</div><div class="ttdoc">Accessor for setting whether we need to do a primal or adjoint solve. </div><div class="ttdef"><b>Definition:</b> <a href="time__solver_8h_source.html#l00284">time_solver.h:284</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ab483909038f728046821a7974b686742"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">libMesh::DifferentiableSystem::get_time_solver</a></div><div class="ttdeci">TimeSolver &amp; get_time_solver()</div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00409">diff_system.h:409</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a652388ee34fa6ffefe9d67e8655e5d1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::advance_arcstep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在延拓求解后调用此函数以计算切线并获取下一个初始猜测。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00936">936</a> 行定义.</p>

<p>参考 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// Solve for the updated tangent du1/ds, d(lambda1)/ds</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a686615e1d0b0559da3c1f0b620211bec">solve_tangent</a>();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// Advance the solution and the parameter to the next value.</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a6869735ca949bbd219ffdac8c2f08296">update_solution</a>();</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a686615e1d0b0559da3c1f0b620211bec"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a686615e1d0b0559da3c1f0b620211bec">libMesh::ContinuationSystem::solve_tangent</a></div><div class="ttdeci">void solve_tangent()</div><div class="ttdoc">专用解算算法，用于解算切线系统。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l00956">continuation_system.C:956</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a6869735ca949bbd219ffdac8c2f08296"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a6869735ca949bbd219ffdac8c2f08296">libMesh::ContinuationSystem::update_solution</a></div><div class="ttdeci">void update_solution()</div><div class="ttdoc">此函数（假设最近的切线向量已被计算）更新解和控制参数，使用下一个弧长路径上的初始猜测。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01192">continuation_system.C:1192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a619cd33885c0d1568fa26970fea8f5cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::apply_predictor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>应用预测器获取下一个解的初始猜测。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l01375">1375</a> 行定义.</p>

<p>参考 <a class="el" href="continuation__system_8h_source.html#l00199">AB2</a>, <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00307">du_ds</a>, <a class="el" href="continuation__system_8h_source.html#l00194">Euler</a>, <a class="el" href="continuation__system_8h_source.html#l00210">predictor</a>, <a class="el" href="continuation__system_8h_source.html#l00312">previous_du_ds</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;{</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">predictor</a> == <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">Euler</a>)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="comment">// 1.) Euler Predictor</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">// Predict next the solution</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(ds_current, *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;      <span class="comment">// Predict next parameter value</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> += ds_current*dlambda_ds;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">predictor</a> == <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549">AB2</a>)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="comment">// 2.) 2nd-order explicit AB predictor</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      libmesh_assert_not_equal_to (previous_ds, 0.0);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> stepratio = ds_current/previous_ds;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="comment">// Build up next solution value.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add( 0.5*ds_current*(2.+stepratio), *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(-0.5*ds_current*stepratio     , *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">previous_du_ds</a>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="comment">// Next parameter value</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> +=</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        0.5*ds_current*((2.+stepratio)*dlambda_ds -</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                        stepratio*previous_dlambda_ds);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    libmesh_error_msg(<span class="stringliteral">&quot;Unknown predictor!&quot;</span>);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ae0f4570622a491f4879271fb6fb6ad08"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">libMesh::ContinuationSystem::previous_du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_du_ds</div><div class="ttdoc">从上一个解中得到的du_ds的值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00312">continuation_system.h:312</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a542ed3d4e4dbd55f3d4c840c625f9307"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">libMesh::ContinuationSystem::du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * du_ds</div><div class="ttdoc">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00307">continuation_system.h:307</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a172cfb334a843f73419f20ab5cde57a5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a172cfb334a843f73419f20ab5cde57a5">libMesh::ContinuationSystem::predictor</a></div><div class="ttdeci">Predictor predictor</div><div class="ttdoc">预测器类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00210">continuation_system.h:210</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a64dba0386d970145477a4d001db5e549">libMesh::ContinuationSystem::AB2</a></div><div class="ttdoc">二阶显式Adams-Bashforth预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00199">continuation_system.h:199</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600a9c5dbe46dad699af1f4278be53012c76">libMesh::ContinuationSystem::Euler</a></div><div class="ttdoc">一阶Euler预测器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00194">continuation_system.h:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd79e823b9cf2fcdc47ffa8b3e6c0cec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::assemble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>准备<code>matrix和<code>rhs进行矩阵装配。用户不应重新实现此功能。</code> 注意，在某些情况下，仅在装配期间使用</code>  current_local_solution ， 因此，如果<a class="el" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>在没有调用<a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a>的情况下发生更改， 那么用户必须在调用此函数之前调用<a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a>。 </p>

<p>重载 <a class="el" href="classlibMesh_1_1ImplicitSystem.html#a124f8d782079024d03a131092c9aa9dc">libMesh::ImplicitSystem</a> .</p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00131">131</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a3fa9e7df259b03e081afc9f42ccf059e">libMesh::DifferentiableSystem::assembly()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3fa9e7df259b03e081afc9f42ccf059e">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a3fa9e7df259b03e081afc9f42ccf059e"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a3fa9e7df259b03e081afc9f42ccf059e">libMesh::DifferentiableSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool get_residual, bool get_jacobian, bool apply_heterogeneous_constraints=false, bool apply_no_constraints=false) override=0</div><div class="ttdoc">根据请求装配rhs和/或matrix中的残差和/或雅可比矩阵。 注意，在某些情况下，仅在装配期间使用  current_local_solution ， 因此，如果solution在没有调用update...</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4d2b1cfa745c2be73c734c1892036b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::assemble_qoi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>indices</em> = <code><a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs a qoi assembly loop over all elements, and if <code>assemble_qoi_sides</code> is true over all sides. </p>
<p>Users may have to override this function if they have any quantities of interest that are not expressible as a sum of element qois. </p>

<p>重载 <a class="el" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">libMesh::ExplicitSystem</a> .</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01147">1147</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="diff__system_8h_source.html#l00205">libMesh::DifferentiableSystem::get_qoi()</a>, <a class="el" href="system_8C_source.html#l02301">libMesh::System::get_qoi_values()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a7d75169be800a31d3ab9443d1b46e66c">libMesh::DifferentiableQoI::parallel_op()</a>, <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>, <a class="el" href="system_8C_source.html#l02286">libMesh::System::set_qoi()</a> , 以及 <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a>.</p>
<div class="fragment"><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;{</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;assemble_qoi()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nq = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>();</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">// the quantity of interest is assumed to be a sum of element and</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// side terms</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2b4e8f8e0fe305b5828354b7bf28540e">set_qoi</a>(i, 0);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// Create a non-temporary qoi_contributions object, so we can query</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">// its results after the reduction</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  QoIContributions qoi_contributions(*<span class="keyword">this</span>, *(this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">get_qoi</a>()), qoi_indices);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// Loop over every active mesh element on this processor</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a>(elem_range.reset(mesh.active_local_elements_begin(),</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                            mesh.active_local_elements_end()),</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                           qoi_contributions);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  std::vector&lt;Number&gt; global_qoi = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">get_qoi</a>()-&gt;<a class="code" href="classlibMesh_1_1DifferentiableQoI.html#a7d75169be800a31d3ab9443d1b46e66c">parallel_op</a>( this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), global_qoi, qoi_contributions.qoi, qoi_indices );</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2b4e8f8e0fe305b5828354b7bf28540e">set_qoi</a>(std::move(global_qoi));</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ab8bef312234b712c642470daf77350eb"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">libMesh::DifferentiableSystem::get_qoi</a></div><div class="ttdeci">const DifferentiableQoI * get_qoi() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00205">diff_system.h:205</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableQoI_html_a7d75169be800a31d3ab9443d1b46e66c"><div class="ttname"><a href="classlibMesh_1_1DifferentiableQoI.html#a7d75169be800a31d3ab9443d1b46e66c">libMesh::DifferentiableQoI::parallel_op</a></div><div class="ttdeci">virtual void parallel_op(const Parallel::Communicator &amp;communicator, std::vector&lt; Number &gt; &amp;sys_qoi, std::vector&lt; Number &gt; &amp;local_qoi, const QoISet &amp;qoi_indices)</div><div class="ttdoc">Method to populate system qoi data structure with process-local qoi. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab9d81ac9c1787c43fb87cf13d37741ee"><div class="ttname"><a href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">libMesh::System::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Update the local values to reflect the solution on neighboring processors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00492">system.C:492</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2b4e8f8e0fe305b5828354b7bf28540e"><div class="ttname"><a href="classlibMesh_1_1System.html#a2b4e8f8e0fe305b5828354b7bf28540e">libMesh::System::set_qoi</a></div><div class="ttdeci">void set_qoi(unsigned int qoi_index, Number qoi_value)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02286">system.C:2286</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9b23ab84ecbb678fe65e76fc29567c8b"><div class="ttname"><a href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">libMesh::System::get_qoi_values</a></div><div class="ttdeci">std::vector&lt; Number &gt; get_qoi_values() const </div><div class="ttdoc">Returns a copy of qoi, not a reference. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02301">system.C:2301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5e8bde1f58b115a38c4e2450eef6ba82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::assemble_qoi_derivative </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em> = <code><a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_liftfunc</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>apply_constraints</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs a qoi derivative assembly loop over all elements, and if <code>assemble_qoi_sides</code> is true over all sides. </p>
<p>Users may have to override this function for quantities of interest that are not expressible as a sum of element qois. </p>

<p>重载 <a class="el" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">libMesh::ExplicitSystem</a> .</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01179">1179</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01244">libMesh::System::add_adjoint_rhs()</a>, <a class="el" href="classlibMesh_1_1DifferentiableQoI.html#a3918a7493ac40b1a00ab4cb24ca234af">libMesh::DifferentiableQoI::finalize_derivative()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="diff__system_8h_source.html#l00205">libMesh::DifferentiableSystem::get_qoi()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="threads__none_8h_source.html#l00073">libMesh::Threads::parallel_for()</a>, <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a> , 以及 <a class="el" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector&lt; T &gt;::zero()</a>.</p>
<div class="fragment"><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;{</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;assemble_qoi_derivative()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// The quantity of interest derivative assembly accumulates on</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// initially zero vectors</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.<a class="code" href="classlibMesh_1_1QoISet.html#a46749d10659b735c902b306fb5262818">has_index</a>(i))</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab21c031f38c12ff111865623561b6687">add_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">zero</a>();</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="comment">// Loop over every active mesh element on this processor</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">Threads::parallel_for</a> (elem_range.reset(mesh.active_local_elements_begin(),</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                          mesh.active_local_elements_end()),</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                         QoIDerivativeContributions(*<span class="keyword">this</span>, qoi_indices,</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                                    *(this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">get_qoi</a>()),</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                                    include_liftfunc,</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                                    apply_constraints));</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.<a class="code" href="classlibMesh_1_1QoISet.html#a46749d10659b735c902b306fb5262818">has_index</a>(i))</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">get_qoi</a>()-&gt;<a class="code" href="classlibMesh_1_1DifferentiableQoI.html#a3918a7493ac40b1a00ab4cb24ca234af">finalize_derivative</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i),i);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ab8bef312234b712c642470daf77350eb"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ab8bef312234b712c642470daf77350eb">libMesh::DifferentiableSystem::get_qoi</a></div><div class="ttdeci">const DifferentiableQoI * get_qoi() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00205">diff_system.h:205</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableQoI_html_a3918a7493ac40b1a00ab4cb24ca234af"><div class="ttname"><a href="classlibMesh_1_1DifferentiableQoI.html#a3918a7493ac40b1a00ab4cb24ca234af">libMesh::DifferentiableQoI::finalize_derivative</a></div><div class="ttdeci">virtual void finalize_derivative(NumericVector&lt; Number &gt; &amp;derivatives, std::size_t qoi_index)</div><div class="ttdoc">Method to finalize qoi derivatives which require more than just a simple sum of element contributions...</div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a97dcd01ff677ad850c3c9f6d8380dba2"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">libMesh::Threads::parallel_for</a></div><div class="ttdeci">void parallel_for(const Range &amp;range, const Body &amp;body)</div><div class="ttdoc">Execute the provided function object in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00073">threads_none.h:73</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1QoISet_html_a46749d10659b735c902b306fb5262818"><div class="ttname"><a href="classlibMesh_1_1QoISet.html#a46749d10659b735c902b306fb5262818">libMesh::QoISet::has_index</a></div><div class="ttdeci">bool has_index(std::size_t) const </div><div class="ttdoc">Return whether or not this index is in the set to be calculated. </div><div class="ttdef"><b>Definition:</b> <a href="qoi__set_8h_source.html#l00224">qoi_set.h:224</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a85b3d4a53413e3745e6ecf1c8b96ca65"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector::zero</a></div><div class="ttdeci">virtual void zero()=0</div><div class="ttdoc">将所有条目设置为零。等同于 v = 0，但更明显且更快。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab21c031f38c12ff111865623561b6687"><div class="ttname"><a href="classlibMesh_1_1System.html#ab21c031f38c12ff111865623561b6687">libMesh::System::add_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01244">system.C:1244</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab9d81ac9c1787c43fb87cf13d37741ee"><div class="ttname"><a href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">libMesh::System::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Update the local values to reflect the solution on neighboring processors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00492">system.C:492</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe988921e219358881c49d1fa7303507"><div class="ttname"><a href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">libMesh::System::get_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01254">system.C:1254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d503bf57aab66f8becfcff4dec5030d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::assemble_residual_derivatives </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Residual parameter derivative function. </p>
<p>Uses finite differences by default.</p>
<p>This will assemble the sensitivity rhs vectors to hold -(partial R / partial p_i), making them ready to solve the forward sensitivity equation.</p>
<p>Can be overridden in derived classes. </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a1cc007b379ff2997715998c01106d790">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00447">447</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="system_8C_source.html#l01274">libMesh::System::add_sensitivity_rhs()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00490">libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Np = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    (parameters.size());</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p=0; p != Np; ++p)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; sensitivity_rhs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a65312b9004fc31ba812b7ec32515a2fa">add_sensitivity_rhs</a>(p);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="comment">// Approximate -(partial R / partial p) by</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="comment">// (R(p-dp) - R(p+dp)) / (2*dp)</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameter = *parameters[p];</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p =</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a> * std::max(<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(old_parameter), 1e-3);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      *parameters[p] -= delta_p;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="comment">//      this-&gt;assembly(true, false, true);</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      sensitivity_rhs = *this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      *parameters[p] = old_parameter + delta_p;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">//      this-&gt;assembly(true, false, true);</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      sensitivity_rhs -= *this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      sensitivity_rhs /= (2*delta_p);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      sensitivity_rhs.<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      *parameters[p] = old_parameter;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a65312b9004fc31ba812b7ec32515a2fa"><div class="ttname"><a href="classlibMesh_1_1System.html#a65312b9004fc31ba812b7ec32515a2fa">libMesh::System::add_sensitivity_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_sensitivity_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01274">system.C:1274</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adc864618acb256ac21e788c571649eaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::assembly </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>get_residual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>get_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>apply_heterogeneous_constraints</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>apply_no_constraints</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares <code>matrix</code> or <code>rhs</code> for matrix assembly. </p>
<p>Users may reimplement this to add pre- or post-assembly code before or after calling <a class="el" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf" title="Prepares matrix or rhs for matrix assembly. ">FEMSystem::assembly()</a>. Note that in some cases only <a class="el" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a> is used during assembly, and, therefore, if <a class="el" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> has been altered without <a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a> being called, then the user must call <a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a> before calling this function. </p>

<p>实现了 <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a3fa9e7df259b03e081afc9f42ccf059e">libMesh::DifferentiableSystem</a>.</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l00880">880</a> 行定义.</p>

<p>参考 <a class="el" href="dense__matrix_8h_source.html#l01135">libMesh::DenseMatrix&lt; T &gt;::add()</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="libmesh__common_8h_source.html#l00101">libMesh::err</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="diff__context_8h_source.html#l00252">libMesh::DiffContext::get_elem_jacobian()</a>, <a class="el" href="diff__context_8h_source.html#l00222">libMesh::DiffContext::get_elem_residual()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">libMesh::NumericVector&lt; T &gt;::l1_norm()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a02cd39b31c06bd3d344ac68d282f21cb">libMesh::SparseMatrix&lt; T &gt;::l1_norm()</a>, <a class="el" href="dense__matrix_8h_source.html#l01242">libMesh::DenseMatrix&lt; T &gt;::l1_norm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="system_8h_source.html#l02357">libMesh::System::n_variable_groups()</a>, <a class="el" href="fem__system_8C_source.html#l01338">libMesh::FEMSystem::numerical_nonlocal_jacobian()</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="threads__none_8h_source.html#l00073">libMesh::Threads::parallel_for()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="ostream__proxy_8h_source.html#l00193">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::precision()</a>, <a class="el" href="diff__system_8h_source.html#l00325">libMesh::DifferentiableSystem::print_jacobian_norms</a>, <a class="el" href="diff__system_8h_source.html#l00330">libMesh::DifferentiableSystem::print_jacobians</a>, <a class="el" href="diff__system_8h_source.html#l00315">libMesh::DifferentiableSystem::print_residual_norms</a>, <a class="el" href="diff__system_8h_source.html#l00320">libMesh::DifferentiableSystem::print_residuals</a>, <a class="el" href="diff__system_8h_source.html#l00305">libMesh::DifferentiableSystem::print_solution_norms</a>, <a class="el" href="diff__system_8h_source.html#l00310">libMesh::DifferentiableSystem::print_solutions</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dense__vector_8h_source.html#l00111">libMesh::DenseVector&lt; T &gt;::size()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>, <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a>, <a class="el" href="system_8h_source.html#l02387">libMesh::System::variable_group()</a>, <a class="el" href="fem__system_8h_source.html#l00215">libMesh::FEMSystem::verify_analytic_jacobians</a>, <a class="el" href="dense__matrix_8h_source.html#l01028">libMesh::DenseMatrix&lt; T &gt;::zero()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a966e0a6479f33c2518937e7d0f54602f">libMesh::SparseMatrix&lt; T &gt;::zero()</a> , 以及 <a class="el" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector&lt; T &gt;::zero()</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;{</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(get_residual || get_jacobian);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// Log residual and jacobian and combined performance separately</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_PERFORMANCE_LOGGING</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">char</span> * log_name;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">if</span> (get_residual &amp;&amp; get_jacobian)</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    log_name = <span class="stringliteral">&quot;assembly()&quot;</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (get_residual)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    log_name = <span class="stringliteral">&quot;assembly(get_residual)&quot;</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    log_name = <span class="stringliteral">&quot;assembly(get_jacobian)&quot;</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  LOG_SCOPE(log_name, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a724e8442b2bc0b3a07e5e82051ce7f9e">print_solution_norms</a>)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;|U| = &quot;</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                   &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;l1_norm()</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                   &lt;&lt; std::endl;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a94c17d5708132f067a3224019af8ce58">print_solutions</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;U = [&quot;</span> &lt;&lt; *(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Is this definitely necessary? [RHS]</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">// Yes. [RHS 2012]</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">if</span> (get_jacobian)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a966e0a6479f33c2518937e7d0f54602f">zero</a>();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">if</span> (get_residual)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">zero</a>();</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// Stupid C++ lets you set *Real* verify_analytic_jacobians = true!</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a> &gt; 0.5)</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a> &lt;&lt; <span class="stringliteral">&quot;WARNING!  verify_analytic_jacobians was set &quot;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;to absurdly large value of &quot;</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                   &lt;&lt; <a class="code" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a> &lt;&lt; <span class="stringliteral">&quot;Resetting to 1e-6!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a> = 1e-6;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// In time-dependent problems, the nonlinear function we&#39;re trying</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="comment">// to solve at each timestep may depend on the particular solver</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// we&#39;re using</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// Build the residual and jacobian contributions on every active</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// mesh element on this processor</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">Threads::parallel_for</a></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    (elem_range.reset(mesh.active_local_elements_begin(),</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                      mesh.active_local_elements_end()),</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;     AssemblyContributions(*<span class="keyword">this</span>, get_residual, get_jacobian,</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                           apply_heterogeneous_constraints,</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                           apply_no_constraints));</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">// Check and see if we have SCALAR variables</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keywordtype">bool</span> have_scalar = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac9737135afee0afcde47e30a411001a9">variable_group</a>(i).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;          have_scalar = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// SCALAR dofs are stored on the last processor, so we&#39;ll evaluate</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// their equation terms there and only if we have a SCALAR variable</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1) &amp;&amp; have_scalar)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      std::unique_ptr&lt;DiffContext&gt; con = this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">build_context</a>();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp; _femcontext = cast_ref&lt;FEMContext &amp;&gt;(*con);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">init_context</a>(_femcontext);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">pre_fe_reinit</a>(*<span class="keyword">this</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordtype">bool</span> jacobian_computed =</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;nonlocal_residual(get_jacobian, _femcontext);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="comment">// Nonlocal residuals are likely to be length 0, in which case we</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="comment">// don&#39;t need to do any more.  And we shouldn&#39;t try to do any</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="comment">// more; lots of DenseVector/DenseMatrix code assumes rank&gt;0.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <span class="keywordflow">if</span> (_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>().<a class="code" href="classlibMesh_1_1DenseVector.html#a06832d76a4df1deb9e45afb9555521d0">size</a>())</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="comment">// Compute a numeric jacobian if we have to</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          <span class="keywordflow">if</span> (get_jacobian &amp;&amp; !jacobian_computed)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;              <span class="comment">// Make sure we didn&#39;t compute a jacobian and lie about it</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;              libmesh_assert_equal_to (_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>().<a class="code" href="classlibMesh_1_1DenseMatrix.html#a049ace2603cb15da5495dfd5ecf4fc77">l1_norm</a>(), 0.0);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;              <span class="comment">// Logging of numerical jacobians is done separately</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;              this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#aa70d5f5a0428b9b563106bab8fa888cf">numerical_nonlocal_jacobian</a>(_femcontext);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <span class="comment">// Compute a numeric jacobian if we&#39;re asked to verify the</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          <span class="comment">// analytic jacobian we got</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          <span class="keywordflow">if</span> (get_jacobian &amp;&amp; jacobian_computed &amp;&amp;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;              this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a> != 0.0)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;              <a class="code" href="classlibMesh_1_1DenseMatrix.html">DenseMatrix&lt;Number&gt;</a> analytic_jacobian(_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;              _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>().<a class="code" href="classlibMesh_1_1DenseMatrix.html#a91216948c639c8836bc88e16622c7ff9">zero</a>();</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;              <span class="comment">// Logging of numerical jacobians is done separately</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;              this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#aa70d5f5a0428b9b563106bab8fa888cf">numerical_nonlocal_jacobian</a>(_femcontext);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;              <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> analytic_norm = analytic_jacobian.l1_norm();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;              <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> numerical_norm = _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>().<a class="code" href="classlibMesh_1_1DenseMatrix.html#a049ace2603cb15da5495dfd5ecf4fc77">l1_norm</a>();</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;              <span class="comment">// If we can continue, we&#39;ll probably prefer the analytic jacobian</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;              analytic_jacobian.swap(_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;              <span class="comment">// The matrix &quot;analytic_jacobian&quot; will now hold the error matrix</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;              analytic_jacobian.add(-1.0, _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;              <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> error_norm = analytic_jacobian.l1_norm();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;              <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> relative_error = error_norm /</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                std::max(analytic_norm, numerical_norm);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;              <span class="keywordflow">if</span> (relative_error &gt; this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">verify_analytic_jacobians</a>)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                  <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a> &lt;&lt; <span class="stringliteral">&quot;Relative error &quot;</span> &lt;&lt; relative_error</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot; detected in analytic jacobian on nonlocal dofs!&quot;</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                               &lt;&lt; std::endl;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                  std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;J_analytic nonlocal = &quot;</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                               &lt;&lt; _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                  analytic_jacobian.<a class="code" href="classlibMesh_1_1DenseMatrix.html#a36472b125f2a9b9a66839a866f94c721">add</a>(1.0, _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;J_numeric nonlocal = &quot;</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                               &lt;&lt; analytic_jacobian &lt;&lt; std::endl;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                  libmesh_error_msg(<span class="stringliteral">&quot;Relative error too large, exiting!&quot;</span>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;          add_element_system</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            (*<span class="keyword">this</span>, get_residual, get_jacobian,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;             apply_heterogeneous_constraints, apply_no_constraints, _femcontext);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (get_residual &amp;&amp; (<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aa4fc23a36102eb56598d5bb528cacf0b">print_residual_norms</a> || <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a1be85415f6f38f15a4e36a201abbfe1c">print_residuals</a>))</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> (get_residual &amp;&amp; <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aa4fc23a36102eb56598d5bb528cacf0b">print_residual_norms</a>)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;|F| = &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">l1_norm</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> (get_residual &amp;&amp; <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a1be85415f6f38f15a4e36a201abbfe1c">print_residuals</a>)</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;F = [&quot;</span> &lt;&lt; *(this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>) &lt;&lt; <span class="stringliteral">&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (get_jacobian &amp;&amp; (<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aeaa7d80ca74e2494265f70a618989b6a">print_jacobian_norms</a> || <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a0b0878d8d6d40ef8cb6daad9e9915daf">print_jacobians</a>))</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">if</span> (get_jacobian &amp;&amp; <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aeaa7d80ca74e2494265f70a618989b6a">print_jacobian_norms</a>)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;|J| = &quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a02cd39b31c06bd3d344ac68d282f21cb">l1_norm</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="keywordflow">if</span> (get_jacobian &amp;&amp; <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a0b0878d8d6d40ef8cb6daad9e9915daf">print_jacobians</a>)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;J = [&quot;</span> &lt;&lt; *(this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>) &lt;&lt; <span class="stringliteral">&quot;];&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEType_html_ac437ba9b0a5253d6bf6f07ad277b9978"><div class="ttname"><a href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">libMesh::FEType::family</a></div><div class="ttdeci">FEFamily family</div><div class="ttdoc">The type of finite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00207">fe_type.h:207</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a8dcb07137d70a83fcf5b412e08e2783e"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">libMesh::Variable::type</a></div><div class="ttdeci">const FEType &amp; type() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00140">variable.h:140</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_aa70d5f5a0428b9b563106bab8fa888cf"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#aa70d5f5a0428b9b563106bab8fa888cf">libMesh::FEMSystem::numerical_nonlocal_jacobian</a></div><div class="ttdeci">void numerical_nonlocal_jacobian(FEMContext &amp;context) const </div><div class="ttdoc">Uses the results of multiple side_residual() calls to numerically differentiate the corresponding jac...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01338">fem_system.C:1338</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_af3b49eeb3527a6aab2cf647fdb71d3e4"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#af3b49eeb3527a6aab2cf647fdb71d3e4">libMesh::FEMSystem::verify_analytic_jacobians</a></div><div class="ttdeci">Real verify_analytic_jacobians</div><div class="ttdoc">If verify_analytic_jacobian is equal to zero (as it is by default), no numeric jacobians will be calc...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00215">fem_system.h:215</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a4bc0ad51d8939df5b9ac3caa84136408"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">libMesh::FEMContext::pre_fe_reinit</a></div><div class="ttdeci">virtual void pre_fe_reinit(const System &amp;, const Elem *e)</div><div class="ttdoc">Reinitializes local data vectors/matrices on the current geometric element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8C_source.html#l01675">fem_context.C:1675</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseMatrix_html_a91216948c639c8836bc88e16622c7ff9"><div class="ttname"><a href="classlibMesh_1_1DenseMatrix.html#a91216948c639c8836bc88e16622c7ff9">libMesh::DenseMatrix::zero</a></div><div class="ttdeci">virtual void zero() overridefinal</div><div class="ttdoc">将矩阵的所有元素设置为0，并重置任何可能先前设置的分解标志。 这允许例如计算新的LU分解，同时重用相同的存储空间。 </div><div class="ttdef"><b>Definition:</b> <a href="dense__matrix_8h_source.html#l01028">dense_matrix.h:1028</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a97dcd01ff677ad850c3c9f6d8380dba2"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">libMesh::Threads::parallel_for</a></div><div class="ttdeci">void parallel_for(const Range &amp;range, const Body &amp;body)</div><div class="ttdoc">Execute the provided function object in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00073">threads_none.h:73</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aeaa7d80ca74e2494265f70a618989b6a"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aeaa7d80ca74e2494265f70a618989b6a">libMesh::DifferentiableSystem::print_jacobian_norms</a></div><div class="ttdeci">bool print_jacobian_norms</div><div class="ttdoc">设置print_jacobian_norms为true，以在组装时打印|J|。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00325">diff_system.h:325</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseMatrix_html_a049ace2603cb15da5495dfd5ecf4fc77"><div class="ttname"><a href="classlibMesh_1_1DenseMatrix.html#a049ace2603cb15da5495dfd5ecf4fc77">libMesh::DenseMatrix::l1_norm</a></div><div class="ttdeci">auto l1_norm() const -&gt; decltype(std::abs(T(0)))</div><div class="ttdoc">返回矩阵的 l1-范数，即最大列和 </div><div class="ttdef"><b>Definition:</b> <a href="dense__matrix_8h_source.html#l01242">dense_matrix.h:1242</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac9737135afee0afcde47e30a411001a9"><div class="ttname"><a href="classlibMesh_1_1System.html#ac9737135afee0afcde47e30a411001a9">libMesh::System::variable_group</a></div><div class="ttdeci">const VariableGroup &amp; variable_group(unsigned int vg) const </div><div class="ttdoc">Return a constant reference to VariableGroup vg. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02387">system.h:2387</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a02979c5b814868a6657b5b146bcc1763"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">libMesh::DiffContext::get_elem_residual</a></div><div class="ttdeci">const DenseVector&lt; Number &gt; &amp; get_elem_residual() const </div><div class="ttdoc">元素残差的常量访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00222">diff_context.h:222</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a0b0878d8d6d40ef8cb6daad9e9915daf"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a0b0878d8d6d40ef8cb6daad9e9915daf">libMesh::DifferentiableSystem::print_jacobians</a></div><div class="ttdeci">bool print_jacobians</div><div class="ttdoc">设置print_jacobians为true，以在组装时打印J。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00330">diff_system.h:330</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a85b3d4a53413e3745e6ecf1c8b96ca65"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector::zero</a></div><div class="ttdeci">virtual void zero()=0</div><div class="ttdoc">将所有条目设置为零。等同于 v = 0，但更明显且更快。 </div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a07d41dee2024383b2fa1b449d167936a"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">libMesh::DiffContext::get_elem_jacobian</a></div><div class="ttdeci">const DenseMatrix&lt; Number &gt; &amp; get_elem_jacobian() const </div><div class="ttdoc">元素雅可比矩阵的常量访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00252">diff_context.h:252</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a724e8442b2bc0b3a07e5e82051ce7f9e"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a724e8442b2bc0b3a07e5e82051ce7f9e">libMesh::DifferentiableSystem::print_solution_norms</a></div><div class="ttdeci">bool print_solution_norms</div><div class="ttdoc">设置print_residual_norms为true，以在组装()调用中使用时打印|U|。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00305">diff_system.h:305</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a45f610871e1ffd907872018e6e1164f4"><div class="ttname"><a href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">libMesh::System::n_variable_groups</a></div><div class="ttdeci">unsigned int n_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02357">system.h:2357</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a966e0a6479f33c2518937e7d0f54602f"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a966e0a6479f33c2518937e7d0f54602f">libMesh::SparseMatrix::zero</a></div><div class="ttdeci">virtual void zero()=0</div><div class="ttdoc">将所有条目设置为 0。 </div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aa4fc23a36102eb56598d5bb528cacf0b"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aa4fc23a36102eb56598d5bb528cacf0b">libMesh::DifferentiableSystem::print_residual_norms</a></div><div class="ttdeci">bool print_residual_norms</div><div class="ttdoc">设置print_residual_norms为true，以在组装时打印|F|。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00315">diff_system.h:315</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseMatrix_html_a36472b125f2a9b9a66839a866f94c721"><div class="ttname"><a href="classlibMesh_1_1DenseMatrix.html#a36472b125f2a9b9a66839a866f94c721">libMesh::DenseMatrix::add</a></div><div class="ttdeci">boostcopy::enable_if_c&lt; ScalarTraits&lt; T2 &gt;::value, void &gt;::type add(const T2 factor, const DenseMatrix&lt; T3 &gt; &amp;mat)</div><div class="ttdoc">将 factor 倍的矩阵 mat 添加到此矩阵。 </div><div class="ttdef"><b>Definition:</b> <a href="dense__matrix_8h_source.html#l01135">dense_matrix.h:1135</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a1be85415f6f38f15a4e36a201abbfe1c"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a1be85415f6f38f15a4e36a201abbfe1c">libMesh::DifferentiableSystem::print_residuals</a></div><div class="ttdeci">bool print_residuals</div><div class="ttdoc">设置print_residuals为true，以在组装时打印F。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00320">diff_system.h:320</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html">libMesh::FEMContext</a></div><div class="ttdoc">This class provides all data required for a physics package (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00062">fem_context.h:62</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a74e5bc8a72d210b3d87b0221b1f69db1"><div class="ttname"><a href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a></div><div class="ttdeci">OStreamProxy err(std::cerr)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00101">libmesh_common.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a110a36d7800daa4bb8b91e35419d335d"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">libMesh::NumericVector::l1_norm</a></div><div class="ttdeci">virtual Real l1_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目的绝对值之和。 </div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a94c17d5708132f067a3224019af8ce58"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a94c17d5708132f067a3224019af8ce58">libMesh::DifferentiableSystem::print_solutions</a></div><div class="ttdeci">bool print_solutions</div><div class="ttdoc">设置print_solutions为true，以在组装()调用中使用时打印U。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00310">diff_system.h:310</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a30e9242b511c664a3c93afb61d927d7e"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">libMesh::FEMSystem::init_context</a></div><div class="ttdeci">virtual void init_context(DiffContext &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01370">fem_system.C:1370</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4a97785fa8239fc92e6577e62599a82d"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">libMesh::FEMSystem::build_context</a></div><div class="ttdeci">virtual std::unique_ptr&lt; DiffContext &gt; build_context() override</div><div class="ttdoc">Builds a FEMContext object with enough information to do evaluations on each element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01346">fem_system.C:1346</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a02cd39b31c06bd3d344ac68d282f21cb"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a02cd39b31c06bd3d344ac68d282f21cb">libMesh::SparseMatrix::l1_norm</a></div><div class="ttdeci">virtual Real l1_norm() const =0</div><div class="ttdoc">获取矩阵的 -范数，即最大列和：  </div></div>
<div class="ttc" id="classlibMesh_1_1DenseMatrix_html"><div class="ttname"><a href="classlibMesh_1_1DenseMatrix.html">libMesh::DenseMatrix&lt; Number &gt;</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseVector_html_a06832d76a4df1deb9e45afb9555521d0"><div class="ttname"><a href="classlibMesh_1_1DenseVector.html#a06832d76a4df1deb9e45afb9555521d0">libMesh::DenseVector::size</a></div><div class="ttdeci">virtual unsigned int size() const overridefinal</div><div class="ttdef"><b>Definition:</b> <a href="dense__vector_8h_source.html#l00111">dense_vector.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a1903b4c5f9397c90e2da3fba62e22516"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">libMesh::BasicOStreamProxy::precision</a></div><div class="ttdeci">std::streamsize precision() const </div><div class="ttdoc">Get the associated write precision. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00193">ostream_proxy.h:193</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a611b54551324acd1f072a1f809f5843a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_assemble_function </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>fptr</em>EquationSystems &amp;es,const std::string &amp;name</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user function to use in assembling the system matrix and RHS. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02069">2069</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02064">libMesh::System::_assemble_system_function</a>, <a class="el" href="system_8h_source.html#l02070">libMesh::System::_assemble_system_object</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;{</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fptr);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">_assemble_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both assembly function and object!&quot;</span>);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">_assemble_system_object</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">_assemble_system_function</a> = fptr;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a259e042a0e9930ae697fac2be3479932"><div class="ttname"><a href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">libMesh::System::_assemble_system_object</a></div><div class="ttdeci">Assembly * _assemble_system_object</div><div class="ttdoc">Object that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02070">system.h:2070</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81c1888970a6f1b1582dbd7b23ea076a"><div class="ttname"><a href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">libMesh::System::_assemble_system_function</a></div><div class="ttdeci">void(* _assemble_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02064">system.h:2064</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0fc7da4a4654dea097846bb441fe16d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_assemble_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System_1_1Assembly.html">System::Assembly</a> &amp;&#160;</td>
          <td class="paramname"><em>assemble_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user object to use in assembling the system matrix and RHS. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02086">2086</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02064">libMesh::System::_assemble_system_function</a> , 以及 <a class="el" href="system_8h_source.html#l02070">libMesh::System::_assemble_system_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;{</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">_assemble_system_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    {</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both assembly object and function!&quot;</span>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">_assemble_system_function</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">_assemble_system_object</a> = &amp;assemble_in;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a259e042a0e9930ae697fac2be3479932"><div class="ttname"><a href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">libMesh::System::_assemble_system_object</a></div><div class="ttdeci">Assembly * _assemble_system_object</div><div class="ttdoc">Object that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02070">system.h:2070</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81c1888970a6f1b1582dbd7b23ea076a"><div class="ttname"><a href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">libMesh::System::_assemble_system_function</a></div><div class="ttdeci">void(* _assemble_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02064">system.h:2064</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10381e68b0376de0772a5ba07982beba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_constraint_function </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>fptr</em>EquationSystems &amp;es,const std::string &amp;name</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user function for imposing constraints. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02100">2100</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02075">libMesh::System::_constrain_system_function</a>, <a class="el" href="system_8h_source.html#l02081">libMesh::System::_constrain_system_object</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;{</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fptr);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both constraint function and object!&quot;</span>);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">_constrain_system_function</a> = fptr;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a34a3dce9f1e27210362fd6299a321205"><div class="ttname"><a href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">libMesh::System::_constrain_system_object</a></div><div class="ttdeci">Constraint * _constrain_system_object</div><div class="ttdoc">Object that constrains the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02081">system.h:2081</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a153c867170e5e962def23d9df5dc1c1f"><div class="ttname"><a href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">libMesh::System::_constrain_system_function</a></div><div class="ttdeci">void(* _constrain_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function to impose constraints. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02075">system.h:2075</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad341754f0468b7a1878a26d50c8726ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_constraint_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System_1_1Constraint.html">System::Constraint</a> &amp;&#160;</td>
          <td class="paramname"><em>constrain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user object for imposing constraints. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02117">2117</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02075">libMesh::System::_constrain_system_function</a> , 以及 <a class="el" href="system_8h_source.html#l02081">libMesh::System::_constrain_system_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">_constrain_system_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both constraint object and function!&quot;</span>);</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">_constrain_system_function</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a> = &amp;constrain;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a34a3dce9f1e27210362fd6299a321205"><div class="ttname"><a href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">libMesh::System::_constrain_system_object</a></div><div class="ttdeci">Constraint * _constrain_system_object</div><div class="ttdoc">Object that constrains the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02081">system.h:2081</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a153c867170e5e962def23d9df5dc1c1f"><div class="ttname"><a href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">libMesh::System::_constrain_system_function</a></div><div class="ttdeci">void(* _constrain_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function to impose constraints. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02075">system.h:2075</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69c99bee95fdfc5b9a38cac034861496"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_init_function </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>fptr</em>EquationSystems &amp;es,const std::string &amp;name</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user function to use in initializing the system. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02038">2038</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02053">libMesh::System::_init_system_function</a>, <a class="el" href="system_8h_source.html#l02059">libMesh::System::_init_system_object</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;{</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fptr);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">_init_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both initialization function and object!&quot;</span>);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">_init_system_object</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">_init_system_function</a> = fptr;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_afe15bce2e6df79b84fba25a827c42c85"><div class="ttname"><a href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">libMesh::System::_init_system_function</a></div><div class="ttdeci">void(* _init_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02053">system.h:2053</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81cfbe1a4f87d9e7e6e784944279b38d"><div class="ttname"><a href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">libMesh::System::_init_system_object</a></div><div class="ttdeci">Initialization * _init_system_object</div><div class="ttdoc">Object that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02059">system.h:2059</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac3c54815715309e41ba939db46dfff5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_init_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System_1_1Initialization.html">System::Initialization</a> &amp;&#160;</td>
          <td class="paramname"><em>init_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user class to use to initialize the system. </p>
<dl class="section note"><dt>注解</dt><dd>This is exclusive with the <code>attach_init_function</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02055">2055</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02053">libMesh::System::_init_system_function</a> , 以及 <a class="el" href="system_8h_source.html#l02059">libMesh::System::_init_system_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;{</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">_init_system_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both initialization object and function!&quot;</span>);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">_init_system_function</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">_init_system_object</a> = &amp;init_in;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_afe15bce2e6df79b84fba25a827c42c85"><div class="ttname"><a href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">libMesh::System::_init_system_function</a></div><div class="ttdeci">void(* _init_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02053">system.h:2053</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81cfbe1a4f87d9e7e6e784944279b38d"><div class="ttname"><a href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">libMesh::System::_init_system_object</a></div><div class="ttdeci">Initialization * _init_system_object</div><div class="ttdoc">Object that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02059">system.h:2059</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad894454a827ac22b94d509df2dbcea8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::attach_physics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *&#160;</td>
          <td class="paramname"><em>physics_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>附加外部Physics对象。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00180">180</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a> , 以及 <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab1cbb37f319b3bb0be9d87fb50bac970">libMesh::DifferentiablePhysics::clone_physics()</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  { this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.push(physics_in-&gt;clone_physics());</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top()-&gt;init_physics(*<span class="keyword">this</span>);}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63efd46cc0d4788510db3496c3ca8ec9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::attach_qoi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a> *&#160;</td>
          <td class="paramname"><em>qoi_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>附加外部QoI对象。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00279">279</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00403">libMesh::DifferentiableSystem::_diff_qoi</a>, <a class="el" href="classlibMesh_1_1DifferentiableQoI.html#abf39242025a15c14dd71a7a9b8b3f656">libMesh::DifferentiableQoI::clone()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a> = {};</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.push(qoi_in-&gt;clone());</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keyword">auto</span> &amp; dq = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.top();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// User needs to resize qoi system qoi accordingly</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_DEPRECATED</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Call the old API for backwards compatibility</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  dq-&gt;init_qoi( this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a> );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Then the new API for forwards compatibility</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  dq-&gt;init_qoi_count( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Make sure the user has updated their QoI subclass - call the old</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// API and make sure it does nothing</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  std::vector&lt;Number&gt; deprecated_vector;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  dq-&gt;init_qoi( deprecated_vector );</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(deprecated_vector.empty());</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// Then the new API</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  dq-&gt;init_qoi_count( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a3c167bfb4a6091df208a1af0057bd980"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">libMesh::DifferentiableSystem::_diff_qoi</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiableQoI &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiableQoI &gt; &gt; &gt; _diff_qoi</div><div class="ttdoc">用于进行感兴趣数量装配评估的对象指针。默认为this，以保持向后兼容性； 在未来，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00403">diff_system.h:403</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8269159bb8129781aca9b3787d0fd2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_QOI_derivative </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>fptr</em>EquationSystems &amp;es,const std::string &amp;name,const QoISet &amp;qoi_indices,bool include_liftfunc,bool apply_constraints</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user function for evaluating derivatives of a quantity of interest with respect to test functions, whose values should be placed in <code>System::rhs</code>. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02174">2174</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02098">libMesh::System::_qoi_evaluate_derivative_function</a>, <a class="el" href="system_8h_source.html#l02107">libMesh::System::_qoi_evaluate_derivative_object</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;{</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fptr);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">_qoi_evaluate_derivative_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    {</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both QOI derivative function and object!&quot;</span>);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">_qoi_evaluate_derivative_object</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">_qoi_evaluate_derivative_function</a> = fptr;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8157382573a7458d5852e0547eef55e6"><div class="ttname"><a href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">libMesh::System::_qoi_evaluate_derivative_object</a></div><div class="ttdeci">QOIDerivative * _qoi_evaluate_derivative_object</div><div class="ttdoc">Object to compute derivatives of quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02107">system.h:2107</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a839bf2fe581f71fe9d70654d798e79f8"><div class="ttname"><a href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">libMesh::System::_qoi_evaluate_derivative_function</a></div><div class="ttdeci">void(* _qoi_evaluate_derivative_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices, bool include_liftfunc, bool apply_constraints)</div><div class="ttdoc">Function to evaluate quantity of interest derivative. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02098">system.h:2098</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed3ee567661a12b5282580e0a9cb8988"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_QOI_derivative_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System_1_1QOIDerivative.html">QOIDerivative</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_derivative</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user object for evaluating derivatives of a quantity of interest with respect to test functions, whose values should be placed in <code>System::rhs</code>. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02191">2191</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02098">libMesh::System::_qoi_evaluate_derivative_function</a> , 以及 <a class="el" href="system_8h_source.html#l02107">libMesh::System::_qoi_evaluate_derivative_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;{</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">_qoi_evaluate_derivative_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both QOI derivative object and function!&quot;</span>);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">_qoi_evaluate_derivative_function</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    }</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">_qoi_evaluate_derivative_object</a> = &amp;qoi_derivative;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8157382573a7458d5852e0547eef55e6"><div class="ttname"><a href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">libMesh::System::_qoi_evaluate_derivative_object</a></div><div class="ttdeci">QOIDerivative * _qoi_evaluate_derivative_object</div><div class="ttdoc">Object to compute derivatives of quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02107">system.h:2107</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a839bf2fe581f71fe9d70654d798e79f8"><div class="ttname"><a href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">libMesh::System::_qoi_evaluate_derivative_function</a></div><div class="ttdeci">void(* _qoi_evaluate_derivative_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices, bool include_liftfunc, bool apply_constraints)</div><div class="ttdoc">Function to evaluate quantity of interest derivative. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02098">system.h:2098</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6471fddc304ce4a3de018b4fbf821135"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_QOI_function </td>
          <td>(</td>
          <td class="paramtype">void &#160;</td>
          <td class="paramname"><em>fptr</em>EquationSystems &amp;es,const std::string &amp;name,const QoISet &amp;qoi_indices</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user function for evaluating the quantities of interest, whose values should be placed in <code><a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6" title="Values of the quantities of interest. ">System::qoi</a></code>. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02142">2142</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02086">libMesh::System::_qoi_evaluate_function</a>, <a class="el" href="system_8h_source.html#l02093">libMesh::System::_qoi_evaluate_object</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;{</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fptr);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">_qoi_evaluate_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both QOI function and object!&quot;</span>);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">_qoi_evaluate_object</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">_qoi_evaluate_function</a> = fptr;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3c4ae20c873d77b245714f37f049d0cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">libMesh::System::_qoi_evaluate_function</a></div><div class="ttdeci">void(* _qoi_evaluate_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices)</div><div class="ttdoc">Function to evaluate quantity of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02086">system.h:2086</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a681b7f4f93772852656e22913bd4da6c"><div class="ttname"><a href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">libMesh::System::_qoi_evaluate_object</a></div><div class="ttdeci">QOI * _qoi_evaluate_object</div><div class="ttdoc">Object to compute quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02093">system.h:2093</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7b1c3e4b9aa3ef3a95c0939c3e1183b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::attach_QOI_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System_1_1QOI.html">QOI</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a user object for evaluating the quantities of interest, whose values should be placed in <code><a class="el" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6" title="Values of the quantities of interest. ">System::qoi</a></code>. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02160">2160</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02086">libMesh::System::_qoi_evaluate_function</a> , 以及 <a class="el" href="system_8h_source.html#l02093">libMesh::System::_qoi_evaluate_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;{</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">_qoi_evaluate_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      libmesh_warning(<span class="stringliteral">&quot;WARNING:  Cannot specify both QOI object and function!&quot;</span>);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">_qoi_evaluate_function</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">_qoi_evaluate_object</a> = &amp;qoi_in;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3c4ae20c873d77b245714f37f049d0cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">libMesh::System::_qoi_evaluate_function</a></div><div class="ttdeci">void(* _qoi_evaluate_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices)</div><div class="ttdoc">Function to evaluate quantity of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02086">system.h:2086</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a681b7f4f93772852656e22913bd4da6c"><div class="ttname"><a href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">libMesh::System::_qoi_evaluate_object</a></div><div class="ttdeci">QOI * _qoi_evaluate_object</div><div class="ttdoc">Object to compute quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02093">system.h:2093</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96afadf8b4e2967988fa423070c97866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::boundary_project_solution </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary boundary function onto the solution via L2 projections and nodal interpolations on each element.</p>
<p>Only degrees of freedom which affect the function's trace on a boundary in the set <code>b</code> are affected. Only degrees of freedom associated with the variables listed in the vector <code>variables</code> are projected. The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01244">1244</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;{</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab24af24b7af53cb6bab7f5a046ba2e45">boundary_project_vector</a>(b, variables, *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>, f, g);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize(*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ab24af24b7af53cb6bab7f5a046ba2e45"><div class="ttname"><a href="classlibMesh_1_1System.html#ab24af24b7af53cb6bab7f5a046ba2e45">libMesh::System::boundary_project_vector</a></div><div class="ttdeci">void boundary_project_vector(const std::set&lt; boundary_id_type &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current syste...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01280">system_projection.C:1280</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70a90d5c7c7a97a4383f088f522ca0d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::boundary_project_solution </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>fptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>gptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects components of an arbitrary boundary function onto the solution via L2 projections and nodal interpolations on each element.</p>
<p>Only degrees of freedom which affect the function's trace on a boundary in the set <code>b</code> are affected. Only degrees of freedom associated with the variables listed in the vector <code>variables</code> are projected. The function value <code>fptr</code> and its gradient <code>gptr</code> are represented by function pointers. A gradient <code>gptr</code> is only required/used for projecting onto finite element spaces with continuous derivatives. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01227">1227</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;{</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  WrappedFunction&lt;Number&gt; f(*<span class="keyword">this</span>, fptr, &amp;parameters);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  WrappedFunction&lt;Gradient&gt; g(*<span class="keyword">this</span>, gptr, &amp;parameters);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a96afadf8b4e2967988fa423070c97866">boundary_project_solution</a>(b, variables, &amp;f, &amp;g);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a96afadf8b4e2967988fa423070c97866"><div class="ttname"><a href="classlibMesh_1_1System.html#a96afadf8b4e2967988fa423070c97866">libMesh::System::boundary_project_solution</a></div><div class="ttdeci">void boundary_project_solution(const std::set&lt; boundary_id_type &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr)</div><div class="ttdoc">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current syste...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01244">system_projection.C:1244</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab24af24b7af53cb6bab7f5a046ba2e45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::boundary_project_vector </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary function via L2 projections and nodal interpolations on each element.</p>
<p>Only degrees of freedom which affect the function's trace on a boundary in the set <code>b</code> are affected. Only degrees of freedom associated with the variables listed in the vector <code>variables</code> are projected. The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01280">1280</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="libmesh__common_8h_source.html#l00516">libMesh::libmesh_ignore()</a> , 以及 <a class="el" href="threads__none_8h_source.html#l00073">libMesh::Threads::parallel_for()</a>.</p>
<div class="fragment"><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;{</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;boundary_project_vector()&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">Threads::parallel_for</a></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    (<a class="code" href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">ConstElemRange</a> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_begin(),</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                     this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_end() ),</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;     BoundaryProjectSolution(b, variables, *<span class="keyword">this</span>, f, g,</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                             this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">get_equation_systems</a>().parameters,</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                             new_vector)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;     );</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">// We don&#39;t do SCALAR dofs when just projecting the boundary, so</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// we&#39;re done here.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  new_vector.<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">if</span> (is_adjoint == -1)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a>(*<span class="keyword">this</span>, &amp;new_vector);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_adjoint &gt;= 0)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">enforce_adjoint_constraints_exactly</a>(new_vector,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                                                            is_adjoint);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libmesh_ignore</a>(is_adjoint);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a97dcd01ff677ad850c3c9f6d8380dba2"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">libMesh::Threads::parallel_for</a></div><div class="ttdeci">void parallel_for(const Range &amp;range, const Body &amp;body)</div><div class="ttdoc">Execute the provided function object in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00073">threads_none.h:73</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2c62e678c8ac27e51286fa5c38b0f3c9"><div class="ttname"><a href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">libMesh::ConstElemRange</a></div><div class="ttdeci">StoredRange&lt; MeshBase::const_element_iterator, const Elem * &gt; ConstElemRange</div><div class="ttdef"><b>Definition:</b> <a href="elem__range_8h_source.html#l00034">elem_range.h:34</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a43f45640aab1af26176e69592c666432"><div class="ttname"><a href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libMesh::libmesh_ignore</a></div><div class="ttdeci">void libmesh_ignore(const Args &amp;...)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00516">libmesh_common.h:516</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5ca6b1f3adcfac56982982e90dc905b"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">libMesh::System::get_equation_systems</a></div><div class="ttdeci">const EquationSystems &amp; get_equation_systems() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00730">system.h:730</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_acef530b92074c6876bcb892f5f7fc1a5"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">libMesh::DofMap::enforce_adjoint_constraints_exactly</a></div><div class="ttdeci">void enforce_adjoint_constraints_exactly(NumericVector&lt; Number &gt; &amp;v, unsigned int q) const </div><div class="ttdoc">Heterogeneously constrains the numeric vector v, which represents an adjoint solution defined on the ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03285">dof_map_constraints.C:3285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad16f986edcb3de23b587b3ad020faa90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::boundary_project_vector </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="namespacelibMesh.html#a3f4d8a52b5ef6ff6156ca209e12b5564">boundary_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>fptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>gptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary boundary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary boundary function via L2 projections and nodal interpolations on each element.</p>
<p>Only degrees of freedom which affect the function's trace on a boundary in the set <code>b</code> are affected. Only degrees of freedom associated with the variables listed in the vector <code>variables</code> are projected. The function value <code>fptr</code> and its gradient <code>gptr</code> are represented by function pointers. A gradient <code>gptr</code> is only required/used for projecting onto finite element spaces with continuous derivatives.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01262">1262</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;{</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  WrappedFunction&lt;Number&gt; f(*<span class="keyword">this</span>, fptr, &amp;parameters);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  WrappedFunction&lt;Gradient&gt; g(*<span class="keyword">this</span>, gptr, &amp;parameters);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab24af24b7af53cb6bab7f5a046ba2e45">boundary_project_vector</a>(b, variables, new_vector, &amp;f, &amp;g,</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                                is_adjoint);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ab24af24b7af53cb6bab7f5a046ba2e45"><div class="ttname"><a href="classlibMesh_1_1System.html#ab24af24b7af53cb6bab7f5a046ba2e45">libMesh::System::boundary_project_vector</a></div><div class="ttdeci">void boundary_project_vector(const std::set&lt; boundary_id_type &gt; &amp;b, const std::vector&lt; unsigned int &gt; &amp;variables, NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary boundary functions onto a vector of degree of freedom values for the current syste...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01280">system_projection.C:1280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a97785fa8239fc92e6577e62599a82d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &gt; libMesh::FEMSystem::build_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a <a class="el" href="classlibMesh_1_1FEMContext.html" title="This class provides all data required for a physics package (e.g. ">FEMContext</a> object with enough information to do evaluations on each element. </p>
<p>For most problems, the default <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> implementation is correct; users who subclass <a class="el" href="classlibMesh_1_1FEMContext.html" title="This class provides all data required for a physics package (e.g. ">FEMContext</a> will need to also reimplement this method to build it. </p>

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aea9df38f14ac4182ff0188a67aa4365b">libMesh::DifferentiableSystem</a> .</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01346">1346</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00254">libMesh::DifferentiableSystem::deltat</a>, <a class="el" href="diff__physics_8h_source.html#l00613">libMesh::DifferentiablePhysics::get_mesh_system()</a>, <a class="el" href="diff__physics_8h_source.html#l00625">libMesh::DifferentiablePhysics::get_mesh_x_var()</a>, <a class="el" href="diff__physics_8h_source.html#l00631">libMesh::DifferentiablePhysics::get_mesh_y_var()</a>, <a class="el" href="diff__physics_8h_source.html#l00637">libMesh::DifferentiablePhysics::get_mesh_z_var()</a>, <a class="el" href="diff__system_8h_source.html#l00162">libMesh::DifferentiableSystem::get_physics()</a>, <a class="el" href="diff__system_8h_source.html#l00409">libMesh::DifferentiableSystem::get_time_solver()</a>, <a class="el" href="time__solver_8h_source.html#l00277">libMesh::TimeSolver::is_adjoint()</a>, <a class="el" href="diff__context_8h_source.html#l00427">libMesh::DiffContext::is_adjoint()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="diff__context_8C_source.html#l00109">libMesh::DiffContext::set_deltat_pointer()</a>, <a class="el" href="fem__context_8h_source.html#l00842">libMesh::FEMContext::set_mesh_system()</a>, <a class="el" href="fem__context_8h_source.html#l00868">libMesh::FEMContext::set_mesh_x_var()</a>, <a class="el" href="fem__context_8h_source.html#l00882">libMesh::FEMContext::set_mesh_y_var()</a> , 以及 <a class="el" href="fem__context_8h_source.html#l00896">libMesh::FEMContext::set_mesh_z_var()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01087">libMesh::FEMSystem::mesh_position_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;{</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a> * fc = <span class="keyword">new</span> <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> * phys = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a1de82ee97ddefef223df2ea4a62b8604">get_physics</a>();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (phys);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="comment">// If we are solving a moving mesh problem, tell that to the Context</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1FEMContext.html#a8f143c48d5be75442276008488c4ffa6">set_mesh_system</a>(phys-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#af00730e0acd41b2275fc9dfd984b9b04">get_mesh_system</a>());</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1FEMContext.html#a29abfbc6aee382104bc55f81f642b2e8">set_mesh_x_var</a>(phys-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae9b6da4b35a7ade82f0ad56c8e6ddc40">get_mesh_x_var</a>());</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1FEMContext.html#a02286fc22b1fd7eacf5881ad5c1e593d">set_mesh_y_var</a>(phys-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ad1721154e664e142a440d1259bcf5e47">get_mesh_y_var</a>());</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1FEMContext.html#aa967f220dd926c2db032de26f6575889">set_mesh_z_var</a>(phys-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a6d5e103fdc6ce8ffcc21bcb227ea10eb">get_mesh_z_var</a>());</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1DiffContext.html#aa4ede669bc502925b1022a6d8a106cdc">set_deltat_pointer</a>( &amp;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2b792f8f71393719e56312995d863b04">deltat</a> );</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="comment">// If we are solving the adjoint problem, tell that to the Context</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  fc-&gt;<a class="code" href="classlibMesh_1_1DiffContext.html#a6f0364dd8a6a75bb14c1f469f0b4b5b1">is_adjoint</a>() = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">get_time_solver</a>().<a class="code" href="classlibMesh_1_1TimeSolver.html#abd4fe54b2f4feb0a49829a0f15652211">is_adjoint</a>();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;DiffContext&gt;(fc);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_abd4fe54b2f4feb0a49829a0f15652211"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#abd4fe54b2f4feb0a49829a0f15652211">libMesh::TimeSolver::is_adjoint</a></div><div class="ttdeci">bool is_adjoint() const </div><div class="ttdoc">Accessor for querying whether we need to do a primal or adjoint solve. </div><div class="ttdef"><b>Definition:</b> <a href="time__solver_8h_source.html#l00277">time_solver.h:277</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_aa967f220dd926c2db032de26f6575889"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#aa967f220dd926c2db032de26f6575889">libMesh::FEMContext::set_mesh_z_var</a></div><div class="ttdeci">void set_mesh_z_var(unsigned int z_var)</div><div class="ttdoc">Accessor for z-variable of moving mesh System. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00896">fem_context.h:896</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a29abfbc6aee382104bc55f81f642b2e8"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a29abfbc6aee382104bc55f81f642b2e8">libMesh::FEMContext::set_mesh_x_var</a></div><div class="ttdeci">void set_mesh_x_var(unsigned int x_var)</div><div class="ttdoc">Accessor for x-variable of moving mesh System. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00868">fem_context.h:868</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a6f0364dd8a6a75bb14c1f469f0b4b5b1"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a6f0364dd8a6a75bb14c1f469f0b4b5b1">libMesh::DiffContext::is_adjoint</a></div><div class="ttdeci">bool is_adjoint() const </div><div class="ttdoc">查询是否需要进行原始或伴随求解的访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00427">diff_context.h:427</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_af00730e0acd41b2275fc9dfd984b9b04"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#af00730e0acd41b2275fc9dfd984b9b04">libMesh::DifferentiablePhysics::get_mesh_system</a></div><div class="ttdeci">const System * get_mesh_system() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00613">diff_physics.h:613</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae9b6da4b35a7ade82f0ad56c8e6ddc40"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae9b6da4b35a7ade82f0ad56c8e6ddc40">libMesh::DifferentiablePhysics::get_mesh_x_var</a></div><div class="ttdeci">unsigned int get_mesh_x_var() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00625">diff_physics.h:625</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a8f143c48d5be75442276008488c4ffa6"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a8f143c48d5be75442276008488c4ffa6">libMesh::FEMContext::set_mesh_system</a></div><div class="ttdeci">virtual void set_mesh_system(System *sys)</div><div class="ttdoc">Tells the FEMContext that system sys contains the isoparametric Lagrangian variables which correspond...</div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00842">fem_context.h:842</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2b792f8f71393719e56312995d863b04"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2b792f8f71393719e56312995d863b04">libMesh::DifferentiableSystem::deltat</a></div><div class="ttdeci">Real deltat</div><div class="ttdoc">对于时变问题，这是将解决方案在时间上推进deltat的量。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00254">diff_system.h:254</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html">libMesh::FEMContext</a></div><div class="ttdoc">This class provides all data required for a physics package (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00062">fem_context.h:62</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a1de82ee97ddefef223df2ea4a62b8604"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a1de82ee97ddefef223df2ea4a62b8604">libMesh::DifferentiableSystem::get_physics</a></div><div class="ttdeci">const DifferentiablePhysics * get_physics() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00162">diff_system.h:162</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html">libMesh::DifferentiablePhysics</a></div><div class="ttdoc">This class provides a specific system class. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00076">diff_physics.h:76</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a6d5e103fdc6ce8ffcc21bcb227ea10eb"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a6d5e103fdc6ce8ffcc21bcb227ea10eb">libMesh::DifferentiablePhysics::get_mesh_z_var</a></div><div class="ttdeci">unsigned int get_mesh_z_var() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00637">diff_physics.h:637</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ad1721154e664e142a440d1259bcf5e47"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ad1721154e664e142a440d1259bcf5e47">libMesh::DifferentiablePhysics::get_mesh_y_var</a></div><div class="ttdeci">unsigned int get_mesh_y_var() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00631">diff_physics.h:631</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a02286fc22b1fd7eacf5881ad5c1e593d"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a02286fc22b1fd7eacf5881ad5c1e593d">libMesh::FEMContext::set_mesh_y_var</a></div><div class="ttdeci">void set_mesh_y_var(unsigned int y_var)</div><div class="ttdoc">Accessor for y-variable of moving mesh System. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00882">fem_context.h:882</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_aa4ede669bc502925b1022a6d8a106cdc"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#aa4ede669bc502925b1022a6d8a106cdc">libMesh::DiffContext::set_deltat_pointer</a></div><div class="ttdeci">void set_deltat_pointer(Real *dt)</div><div class="ttdoc">将此类的_deltat成员指向在创建DiffSystem的类中存储的时间步值， 例如DiffSystem::deltat。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8C_source.html#l00109">diff_context.C:109</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ab483909038f728046821a7974b686742"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">libMesh::DifferentiableSystem::get_time_solver</a></div><div class="ttdeci">TimeSolver &amp; get_time_solver()</div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00409">diff_system.h:409</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2058825c4de9fba1da920a4247c60d3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::System::calculate_norm </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346">FEMNormType</a>&#160;</td>
          <td class="paramname"><em>norm_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; unsigned int &gt; *&#160;</td>
          <td class="paramname"><em>skip_dimensions</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A norm of variable <code>var</code> in the vector <code>v</code>, in the specified norm (e.g. L2, L_INF, H1) </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01671">1671</a> 行定义.</p>

<p>参考 <a class="el" href="enum__norm__type_8h_source.html#l00052">libMesh::DISCRETE_L1</a>, <a class="el" href="enum__norm__type_8h_source.html#l00053">libMesh::DISCRETE_L2</a>, <a class="el" href="enum__norm__type_8h_source.html#l00054">libMesh::DISCRETE_L_INF</a>, <a class="el" href="system_8C_source.html#l01652">libMesh::System::discrete_var_norm()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00036">libMesh::L2</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>

<p>参考自 <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00225">libMesh::AdaptiveTimeSolver::calculate_norm()</a> , 以及 <a class="el" href="unsteady__solver_8C_source.html#l00348">libMesh::UnsteadySolver::du()</a>.</p>
<div class="fragment"><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;{</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">//short circuit to save time</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9">DISCRETE_L1</a> ||</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d">DISCRETE_L2</a> ||</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946">DISCRETE_L_INF</a>)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a9118db90385450eddb5738ce2f9ebec0">discrete_var_norm</a>(v,var,norm_type);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="comment">// Not a discrete norm</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  std::vector&lt;FEMNormType&gt; norms(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>(), <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">L2</a>);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  std::vector&lt;Real&gt; weights(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>(), 0.0);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  norms[var] = norm_type;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  weights[var] = 1.0;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> val = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2058825c4de9fba1da920a4247c60d3a">calculate_norm</a>(v, SystemNorm(norms, weights), skip_dimensions);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d">libMesh::DISCRETE_L2</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00053">enum_norm_type.h:53</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">libMesh::L2</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00036">enum_norm_type.h:36</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9">libMesh::DISCRETE_L1</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00052">enum_norm_type.h:52</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2058825c4de9fba1da920a4247c60d3a"><div class="ttname"><a href="classlibMesh_1_1System.html#a2058825c4de9fba1da920a4247c60d3a">libMesh::System::calculate_norm</a></div><div class="ttdeci">Real calculate_norm(const NumericVector&lt; Number &gt; &amp;v, unsigned int var, FEMNormType norm_type, std::set&lt; unsigned int &gt; *skip_dimensions=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01671">system.C:1671</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9118db90385450eddb5738ce2f9ebec0"><div class="ttname"><a href="classlibMesh_1_1System.html#a9118db90385450eddb5738ce2f9ebec0">libMesh::System::discrete_var_norm</a></div><div class="ttdeci">Real discrete_var_norm(const NumericVector&lt; Number &gt; &amp;v, unsigned int var, FEMNormType norm_type) const </div><div class="ttdoc">Finds the discrete norm for the entries in the vector corresponding to Dofs associated with var...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01652">system.C:1652</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946">libMesh::DISCRETE_L_INF</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00054">enum_norm_type.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85a905b83be8d844d7f2b3a9d922b05d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::System::calculate_norm </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1SystemNorm.html">SystemNorm</a> &amp;&#160;</td>
          <td class="paramname"><em>norm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; unsigned int &gt; *&#160;</td>
          <td class="paramname"><em>skip_dimensions</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A norm of the vector <code>v</code>, using <code>component_norm</code> and <code>component_scale</code> to choose and weight the norms of each variable. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01693">1693</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>, <a class="el" href="system_8h_source.html#l02125">libMesh::System::_mesh</a>, <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="type__tensor_8h_source.html#l00941">libMesh::TypeTensor&lt; T &gt;::add_scaled()</a>, <a class="el" href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">libMesh::FEGenericBase&lt; T &gt;::build()</a>, <a class="el" href="numeric__vector_8C_source.html#l00050">libMesh::NumericVector&lt; T &gt;::build()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="fe__type_8C_source.html#l00034">libMesh::FEType::default_quadrature_rule()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00052">libMesh::DISCRETE_L1</a>, <a class="el" href="enum__norm__type_8h_source.html#l00053">libMesh::DISCRETE_L2</a>, <a class="el" href="enum__norm__type_8h_source.html#l00054">libMesh::DISCRETE_L_INF</a>, <a class="el" href="system_8C_source.html#l01652">libMesh::System::discrete_var_norm()</a>, <a class="el" href="dof__map_8C_source.html#l01992">libMesh::DofMap::dof_indices()</a>, <a class="el" href="mesh__base_8h_source.html#l00272">libMesh::MeshBase::elem_dimensions()</a>, <a class="el" href="namespacelibMesh_1_1Utility.html#aa99a42a5efab878469e7f58e5c033335">libMesh::Utility::enum_to_string()</a>, <a class="el" href="fe__base_8h_source.html#l00319">libMesh::FEGenericBase&lt; T &gt;::get_d2phi()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="fe__base_8h_source.html#l00230">libMesh::FEGenericBase&lt; T &gt;::get_dphi()</a>, <a class="el" href="fe__abstract_8h_source.html#l00295">libMesh::FEAbstract::get_JxW()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="fe__base_8h_source.html#l00207">libMesh::FEGenericBase&lt; T &gt;::get_phi()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00037">libMesh::GHOSTED</a>, <a class="el" href="enum__norm__type_8h_source.html#l00037">libMesh::H1</a>, <a class="el" href="enum__norm__type_8h_source.html#l00043">libMesh::H1_SEMINORM</a>, <a class="el" href="enum__norm__type_8h_source.html#l00038">libMesh::H2</a>, <a class="el" href="enum__norm__type_8h_source.html#l00044">libMesh::H2_SEMINORM</a>, <a class="el" href="system__norm_8C_source.html#l00099">libMesh::SystemNorm::is_discrete()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00041">libMesh::L1</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">libMesh::NumericVector&lt; T &gt;::l1_norm()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00036">libMesh::L2</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector&lt; T &gt;::l2_norm()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00042">libMesh::L_INF</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a9dce53bc73ed63fa006bc5083a6922eb">libMesh::NumericVector&lt; T &gt;::linfty_norm()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector&lt; T &gt;::local_size()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">libMesh::NumericVector&lt; T &gt;::localize()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="quadrature_8h_source.html#l00123">libMesh::QBase::n_points()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="type__tensor_8h_source.html#l01370">libMesh::TypeTensor&lt; T &gt;::norm()</a>, <a class="el" href="type__vector_8h_source.html#l01055">libMesh::TypeVector&lt; T &gt;::norm()</a>, <a class="el" href="tensor__tools_8h_source.html#l00074">libMesh::TensorTools::norm_sq()</a>, <a class="el" href="type__tensor_8h_source.html#l01438">libMesh::TypeTensor&lt; T &gt;::norm_sq()</a>, <a class="el" href="type__vector_8h_source.html#l01074">libMesh::TypeVector&lt; T &gt;::norm_sq()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="classlibMesh_1_1FEAbstract.html#ac0d116e8c8be017b411d4544c5fff433">libMesh::FEAbstract::reinit()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector&lt; T &gt;::size()</a>, <a class="el" href="type__vector_8h_source.html#l00088">std::sqrt()</a>, <a class="el" href="system__norm_8C_source.html#l00112">libMesh::SystemNorm::type()</a>, <a class="el" href="dof__map_8h_source.html#l02141">libMesh::DofMap::variable_type()</a>, <a class="el" href="enum__norm__type_8h_source.html#l00049">libMesh::W1_INF_SEMINORM</a>, <a class="el" href="enum__norm__type_8h_source.html#l00050">libMesh::W2_INF_SEMINORM</a>, <a class="el" href="system__norm_8C_source.html#l00134">libMesh::SystemNorm::weight()</a> , 以及 <a class="el" href="system__norm_8C_source.html#l00177">libMesh::SystemNorm::weight_sq()</a>.</p>
<div class="fragment"><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;{</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="comment">// This function must be run on all processors at once</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;calculate_norm()&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="comment">// Zero the norm before summation</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> v_norm = 0.;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.is_discrete())</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="comment">//Check to see if all weights are 1.0 and all types are equal</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346">FEMNormType</a> norm_type0 = <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.type(0);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> check_var = 0, check_end = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      <span class="keywordflow">for</span> (; check_var != check_end; ++check_var)</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.weight(check_var) != 1.0) || (<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.type(check_var) != norm_type0))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="comment">//All weights were 1.0 so just do the full vector discrete norm</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <span class="keywordflow">if</span> (check_var == this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>())</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;          <span class="keywordflow">if</span> (norm_type0 == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9">DISCRETE_L1</a>)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;            <span class="keywordflow">return</span> v.<a class="code" href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">l1_norm</a>();</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;          <span class="keywordflow">if</span> (norm_type0 == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d">DISCRETE_L2</a>)</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <span class="keywordflow">return</span> v.<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;          <span class="keywordflow">if</span> (norm_type0 == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946">DISCRETE_L_INF</a>)</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="keywordflow">return</span> v.<a class="code" href="classlibMesh_1_1NumericVector.html#a9dce53bc73ed63fa006bc5083a6922eb">linfty_norm</a>();</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            libmesh_error_msg(<span class="stringliteral">&quot;Invalid norm_type0 = &quot;</span> &lt;&lt; <a class="code" href="namespacelibMesh_1_1Utility.html#aa99a42a5efab878469e7f58e5c033335">Utility::enum_to_string</a>(norm_type0));</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          <span class="comment">// Skip any variables we don&#39;t need to integrate</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.weight(var) == 0.0)</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;          v_norm += <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.weight(var) * <a class="code" href="classlibMesh_1_1System.html#a9118db90385450eddb5738ce2f9ebec0">discrete_var_norm</a>(v, var, <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.type(var));</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="keywordflow">return</span> v_norm;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    }</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// Localize the potentially parallel vector</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; local_v = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  local_v-&gt;init(v.<a class="code" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">size</a>(), v.<a class="code" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">local_size</a>(), <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list(),</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                <span class="keyword">true</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  v.<a class="code" href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">localize</a> (*local_v, <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list());</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <span class="comment">// I&#39;m not sure how best to mix Hilbert norms on some variables (for</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="comment">// which we&#39;ll want to square then sum then square root) with norms</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="comment">// like L_inf (for which we&#39;ll just want to take an absolute value</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="comment">// and then sum).</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="keywordtype">bool</span> using_hilbert_norm = <span class="keyword">true</span>,</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    using_nonhilbert_norm = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="comment">// Loop over all variables</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="comment">// Skip any variables we don&#39;t need to integrate</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_weight_sq = <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.weight_sq(var);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="keywordflow">if</span> (norm_weight_sq == 0.0)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_weight = <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.weight(var);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="comment">// Check for unimplemented norms (rather than just returning 0).</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346">FEMNormType</a> norm_type = <a class="code" href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">norm</a>.type(var);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">if</span> ((norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">H1</a>) ||</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;          (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a>) ||</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;          (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">L2</a>) ||</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;          (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a33d26daaa44db9f50ec54fd2108f77ce">H1_SEMINORM</a>) ||</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;          (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a98cc51bf727b3607cec0d39d7b3983d5">H2_SEMINORM</a>))</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;          <span class="keywordflow">if</span> (!using_hilbert_norm)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            libmesh_not_implemented();</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;          using_nonhilbert_norm = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab75c80511cd087ac00ae3ed431fe3bec">L1</a>) ||</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;               (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab59a4b554f0d8609d5c9c4dd220fe9d0">L_INF</a>) ||</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;               (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a9e776079c06283c6f0d1679aa8042ec6">W1_INF_SEMINORM</a>) ||</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;               (norm_type==<a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346afae915138f085141df881f7e1d7430dc">W2_INF_SEMINORM</a>))</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;          <span class="keywordflow">if</span> (!using_nonhilbert_norm)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            libmesh_not_implemented();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          using_hilbert_norm = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        libmesh_not_implemented();</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <span class="keyword">const</span> FEType &amp; fe_type = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a0c010bb250d4cd8d65794452f46d141a">variable_type</a>(var);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="comment">// Allow space for dims 0-3, even if we don&#39;t use them all</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      std::vector&lt;std::unique_ptr&lt;FEBase&gt;&gt; fe_ptrs(4);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      std::vector&lt;std::unique_ptr&lt;QBase&gt;&gt; q_rules(4);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <span class="keyword">const</span> std::set&lt;unsigned char&gt; &amp; elem_dims = <a class="code" href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">_mesh</a>.<a class="code" href="classlibMesh_1_1MeshBase.html#a57bb4114389e359e4ef7eee19bb1a370">elem_dimensions</a>();</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="comment">// Prepare finite elements for each dimension present in the mesh</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; dim : elem_dims)</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;          <span class="keywordflow">if</span> (skip_dimensions &amp;&amp; skip_dimensions-&gt;find(dim) != skip_dimensions-&gt;end())</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;          <span class="comment">// Construct quadrature and finite element objects</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;          q_rules[dim] = fe_type.default_quadrature_rule (dim);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          fe_ptrs[dim] = <a class="code" href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">FEBase::build</a>(dim, fe_type);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;          <span class="comment">// Attach quadrature rule to FE object</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;          fe_ptrs[dim]-&gt;attach_quadrature_rule (q_rules[dim].<span class="keyword">get</span>());</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        }</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      std::vector&lt;dof_id_type&gt; dof_indices;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="comment">// Begin the loop over the elements</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_element_ptr_range())</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim = elem-&gt;dim();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;          <span class="comment">// One way for implementing this would be to exchange the fe with the FEInterface- class.</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;          <span class="comment">// However, it needs to be discussed whether integral-norms make sense for infinite elements.</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;          <span class="comment">// or in which sense they could make sense.</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;          <span class="keywordflow">if</span> (elem-&gt;infinite() )</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            libmesh_not_implemented();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          <span class="keywordflow">if</span> (skip_dimensions &amp;&amp; skip_dimensions-&gt;find(dim) != skip_dimensions-&gt;end())</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;          <a class="code" href="namespacelibMesh.html#adf7aee34b8c6fe4be28c90fe132a73a0">FEBase</a> * fe = fe_ptrs[dim].get();</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;          QBase * qrule = q_rules[dim].get();</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(fe);</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(qrule);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;          <span class="keyword">const</span> std::vector&lt;Real&gt; &amp;               JxW = fe-&gt;get_JxW();</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;          <span class="keyword">const</span> std::vector&lt;std::vector&lt;Real&gt;&gt; * phi = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;          <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">H1</a> ||</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">L2</a> ||</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab75c80511cd087ac00ae3ed431fe3bec">L1</a> ||</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab59a4b554f0d8609d5c9c4dd220fe9d0">L_INF</a>)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            phi = &amp;(fe-&gt;get_phi());</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;          <span class="keyword">const</span> std::vector&lt;std::vector&lt;RealGradient&gt;&gt; * dphi = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;          <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">H1</a> ||</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a33d26daaa44db9f50ec54fd2108f77ce">H1_SEMINORM</a> ||</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a9e776079c06283c6f0d1679aa8042ec6">W1_INF_SEMINORM</a>)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            dphi = &amp;(fe-&gt;get_dphi());</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_SECOND_DERIVATIVES</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="preprocessor"></span>          <span class="keyword">const</span> std::vector&lt;std::vector&lt;RealTensor&gt;&gt; *   d2phi = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;          <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a98cc51bf727b3607cec0d39d7b3983d5">H2_SEMINORM</a> ||</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;              norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346afae915138f085141df881f7e1d7430dc">W2_INF_SEMINORM</a>)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            d2phi = &amp;(fe-&gt;get_d2phi());</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;          fe-&gt;reinit (elem);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a0d323b6fcb736454a9f6074ebda9ec28">dof_indices</a> (elem, dof_indices, var);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_qp = qrule-&gt;n_points();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_sf = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            (dof_indices.size());</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;          <span class="comment">// Begin the loop over the Quadrature points.</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> qp=0; qp&lt;n_qp; qp++)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;            {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab75c80511cd087ac00ae3ed431fe3bec">L1</a>)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                  <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> u_h = 0.;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                    u_h += (*phi)[i][qp] * (*local_v)(dof_indices[i]);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                  v_norm += norm_weight *</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                    JxW[qp] * <a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(u_h);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                }</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab59a4b554f0d8609d5c9c4dd220fe9d0">L_INF</a>)</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                  <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> u_h = 0.;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                    u_h += (*phi)[i][qp] * (*local_v)(dof_indices[i]);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                  v_norm = std::max(v_norm, norm_weight * <a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(u_h));</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">H1</a> ||</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                  norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                  norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">L2</a>)</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                  <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> u_h = 0.;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                    u_h += (*phi)[i][qp] * (*local_v)(dof_indices[i]);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                  v_norm += norm_weight_sq *</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                    JxW[qp] * <a class="code" href="namespacelibMesh_1_1TensorTools.html#aece0d041f4f91b393d2564f4a5e4b1ee">TensorTools::norm_sq</a>(u_h);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">H1</a> ||</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                  norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                  norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a33d26daaa44db9f50ec54fd2108f77ce">H1_SEMINORM</a>)</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                  <a class="code" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> grad_u_h;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                    grad_u_h.add_scaled((*dphi)[i][qp], (*local_v)(dof_indices[i]));</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                  v_norm += norm_weight_sq *</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                    JxW[qp] * grad_u_h.<a class="code" href="classlibMesh_1_1TypeVector.html#a3a2312d576bfab58b2e760ad7da3c17b">norm_sq</a>();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                }</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a9e776079c06283c6f0d1679aa8042ec6">W1_INF_SEMINORM</a>)</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                  <a class="code" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> grad_u_h;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                    grad_u_h.add_scaled((*dphi)[i][qp], (*local_v)(dof_indices[i]));</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                  v_norm = std::max(v_norm, norm_weight * grad_u_h.norm());</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                }</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_SECOND_DERIVATIVES</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="preprocessor"></span>              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">H2</a> ||</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                  norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a98cc51bf727b3607cec0d39d7b3983d5">H2_SEMINORM</a>)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                  <a class="code" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> hess_u_h;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                    hess_u_h.<a class="code" href="classlibMesh_1_1TypeTensor.html#abfc7f022dcb7b486270c1ba7d8c05b56">add_scaled</a>((*d2phi)[i][qp], (*local_v)(dof_indices[i]));</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                  v_norm += norm_weight_sq *</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                    JxW[qp] * hess_u_h.norm_sq();</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;              <span class="keywordflow">if</span> (norm_type == <a class="code" href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346afae915138f085141df881f7e1d7430dc">W2_INF_SEMINORM</a>)</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                  <a class="code" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> hess_u_h;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != n_sf; ++i)</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                    hess_u_h.<a class="code" href="classlibMesh_1_1TypeTensor.html#abfc7f022dcb7b486270c1ba7d8c05b56">add_scaled</a>((*d2phi)[i][qp], (*local_v)(dof_indices[i]));</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                  v_norm = std::max(v_norm, norm_weight * hess_u_h.norm());</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="preprocessor"></span>            }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        }</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    }</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="keywordflow">if</span> (using_hilbert_norm)</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().sum(v_norm);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      v_norm = <a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>(v_norm);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    }</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(v_norm);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    }</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="keywordflow">return</span> v_norm;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a88669f32e92aeb476b5b8f94aa1a9938">libMesh::H1</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00037">enum_norm_type.h:37</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a9e776079c06283c6f0d1679aa8042ec6"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a9e776079c06283c6f0d1679aa8042ec6">libMesh::W1_INF_SEMINORM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00049">enum_norm_type.h:49</a></div></div>
<div class="ttc" id="classlibMesh_1_1TypeTensor_html_abfc7f022dcb7b486270c1ba7d8c05b56"><div class="ttname"><a href="classlibMesh_1_1TypeTensor.html#abfc7f022dcb7b486270c1ba7d8c05b56">libMesh::TypeTensor::add_scaled</a></div><div class="ttdeci">void add_scaled(const TypeTensor&lt; T2 &gt; &amp;, const T &amp;scale)</div><div class="ttdoc">在不创建临时 Tensor 的情况下将一个缩放的 Tensor 加到该 Tensor 上。 </div><div class="ttdef"><b>Definition:</b> <a href="type__tensor_8h_source.html#l00941">type_tensor.h:941</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a0c010bb250d4cd8d65794452f46d141a"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a0c010bb250d4cd8d65794452f46d141a">libMesh::DofMap::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int c) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l02141">dof_map.h:2141</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346add48dcbd6dd0d4a180594794d509da9d">libMesh::DISCRETE_L2</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00053">enum_norm_type.h:53</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a90f2918648bb3c65d88978bd5d0a19bf"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector::size</a></div><div class="ttdeci">virtual numeric_index_type size() const =0</div><div class="ttdoc">获取向量的大小。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346">libMesh::FEMNormType</a></div><div class="ttdeci">FEMNormType</div><div class="ttdoc">defines an enum for norms defined on vectors of finite element coefficients </div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00034">enum_norm_type.h:34</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346ab59a4b554f0d8609d5c9c4dd220fe9d0"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab59a4b554f0d8609d5c9c4dd220fe9d0">libMesh::L_INF</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00042">enum_norm_type.h:42</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346afae915138f085141df881f7e1d7430dc"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346afae915138f085141df881f7e1d7430dc">libMesh::W2_INF_SEMINORM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00050">enum_norm_type.h:50</a></div></div>
<div class="ttc" id="namespacestd_html_a5e539986868ffa7c4c08ef163cae5266"><div class="ttname"><a href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; sqrt(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的平方根。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00088">type_vector.h:88</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a98cc51bf727b3607cec0d39d7b3983d5"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a98cc51bf727b3607cec0d39d7b3983d5">libMesh::H2_SEMINORM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00044">enum_norm_type.h:44</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346ab75c80511cd087ac00ae3ed431fe3bec"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ab75c80511cd087ac00ae3ed431fe3bec">libMesh::L1</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00041">enum_norm_type.h:41</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1TensorTools_html_aece0d041f4f91b393d2564f4a5e4b1ee"><div class="ttname"><a href="namespacelibMesh_1_1TensorTools.html#aece0d041f4f91b393d2564f4a5e4b1ee">libMesh::TensorTools::norm_sq</a></div><div class="ttdeci">T norm_sq(std::complex&lt; T &gt; a)</div><div class="ttdef"><b>Definition:</b> <a href="tensor__tools_8h_source.html#l00074">tensor_tools.h:74</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1TypeVector_html_a3a2312d576bfab58b2e760ad7da3c17b"><div class="ttname"><a href="classlibMesh_1_1TypeVector.html#a3a2312d576bfab58b2e760ad7da3c17b">libMesh::TypeVector::norm_sq</a></div><div class="ttdeci">auto norm_sq() const -&gt; decltype(std::norm(T()))</div><div class="ttdoc">返回向量的模的平方，即元素模的平方和。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l01074">type_vector.h:1074</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7bbf5b5a75e7aafcbfc1ea19fbc51d73"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector::l2_norm</a></div><div class="ttdeci">virtual Real l2_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目平方和的平方根。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a33d26daaa44db9f50ec54fd2108f77ce"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a33d26daaa44db9f50ec54fd2108f77ce">libMesh::H1_SEMINORM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00043">enum_norm_type.h:43</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">libMesh::GHOSTED</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00037">enum_parallel_type.h:37</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a4010025278fbf76c31b4fc36e6e8d5da">libMesh::H2</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00038">enum_norm_type.h:38</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4b46bf2d57c1815051b6684921702ef2"><div class="ttname"><a href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">libMesh::Gradient</a></div><div class="ttdeci">NumberVectorValue Gradient</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00050">exact_solution.h:50</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a57bb4114389e359e4ef7eee19bb1a370"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a57bb4114389e359e4ef7eee19bb1a370">libMesh::MeshBase::elem_dimensions</a></div><div class="ttdeci">const std::set&lt; unsigned char &gt; &amp; elem_dimensions() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00272">mesh_base.h:272</a></div></div>
<div class="ttc" id="namespacelibMesh_html_adf7aee34b8c6fe4be28c90fe132a73a0"><div class="ttname"><a href="namespacelibMesh.html#adf7aee34b8c6fe4be28c90fe132a73a0">libMesh::FEBase</a></div><div class="ttdeci">FEGenericBase&lt; Real &gt; FEBase</div><div class="ttdef"><b>Definition:</b> <a href="exact__error__estimator_8h_source.html#l00039">exact_error_estimator.h:39</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a110a36d7800daa4bb8b91e35419d335d"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a110a36d7800daa4bb8b91e35419d335d">libMesh::NumericVector::l1_norm</a></div><div class="ttdeci">virtual Real l1_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目的绝对值之和。 </div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_adba4a30965537656bb3b0c6f924ff040"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">libMesh::NumericVector::build</a></div><div class="ttdeci">static std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">构建一个 NumericVector 对象。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00050">numeric_vector.C:50</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Utility_html_aa99a42a5efab878469e7f58e5c033335"><div class="ttname"><a href="namespacelibMesh_1_1Utility.html#aa99a42a5efab878469e7f58e5c033335">libMesh::Utility::enum_to_string</a></div><div class="ttdeci">std::string enum_to_string(const T e)</div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346a71490c0b88084ba46be0c58b19fbedb7">libMesh::L2</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00036">enum_norm_type.h:36</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346ad12fe5e64b653a34c74fcb67cd3690f9">libMesh::DISCRETE_L1</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00052">enum_norm_type.h:52</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a5f437145a24acdee8c954a449f6389af"><div class="ttname"><a href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">libMesh::Tensor</a></div><div class="ttdeci">NumberTensorValue Tensor</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00048">exact_solution.h:48</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_acf9a23a820fdd20bf1a0213de8166287"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector::local_size</a></div><div class="ttdeci">virtual numeric_index_type local_size() const =0</div><div class="ttdoc">获取向量的本地大小，即 index_stop - index_start。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEGenericBase_html_ac21e9cefbb91aecf68a6a9526a38f5e0"><div class="ttname"><a href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">libMesh::FEGenericBase::build</a></div><div class="ttdeci">static std::unique_ptr&lt; FEGenericBase &gt; build(const unsigned int dim, const FEType &amp;type)</div><div class="ttdoc">Builds a specific finite element type. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="namespacestd_html_a6e740e64c53e9ae1489f7eee3899c10f"><div class="ttname"><a href="namespacestd.html#a6e740e64c53e9ae1489f7eee3899c10f">std::norm</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; norm(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的范数。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00064">type_vector.h:64</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b1d416e0d9270f47499f7cdf3db3525"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">libMesh::System::_mesh</a></div><div class="ttdeci">MeshBase &amp; _mesh</div><div class="ttdoc">Constant reference to the mesh data structure used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02125">system.h:2125</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9118db90385450eddb5738ce2f9ebec0"><div class="ttname"><a href="classlibMesh_1_1System.html#a9118db90385450eddb5738ce2f9ebec0">libMesh::System::discrete_var_norm</a></div><div class="ttdeci">Real discrete_var_norm(const NumericVector&lt; Number &gt; &amp;v, unsigned int var, FEMNormType norm_type) const </div><div class="ttdoc">Finds the discrete norm for the entries in the vector corresponding to Dofs associated with var...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01652">system.C:1652</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a9dce53bc73ed63fa006bc5083a6922eb"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a9dce53bc73ed63fa006bc5083a6922eb">libMesh::NumericVector::linfty_norm</a></div><div class="ttdeci">virtual Real linfty_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即向量的最大绝对值。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946"><div class="ttname"><a href="namespacelibMesh.html#a2fef831ba9c2670aafb97bcb7e597346aada447553cd4848aa61e32484d340946">libMesh::DISCRETE_L_INF</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__norm__type_8h_source.html#l00054">enum_norm_type.h:54</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a0d323b6fcb736454a9f6074ebda9ec28"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a0d323b6fcb736454a9f6074ebda9ec28">libMesh::DofMap::dof_indices</a></div><div class="ttdeci">void dof_indices(const Elem *const elem, std::vector&lt; dof_id_type &gt; &amp;di) const </div><div class="ttdoc">Fills the vector di with the global degree of freedom indices for the element. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l01992">dof_map.C:1992</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7348b5b027adf716016354847e0df0b6"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">libMesh::NumericVector::localize</a></div><div class="ttdeci">virtual void localize(std::vector&lt; T &gt; &amp;v_local) const =0</div><div class="ttdoc">创建全局向量的副本并存储在本地向量 v_local 中。 </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a232eb947329200f6e7e9fc93fdee8323"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::can_add_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>Whether or not matrices can still be added without expensive per-matrix initialization. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01914">1914</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02191">libMesh::System::_matrices_initialized</a>.</p>

<p>参考自 <a class="el" href="eigen__system_8C_source.html#l00085">libMesh::EigenSystem::set_eigenproblem_type()</a>.</p>
<div class="fragment"><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;{ <span class="keywordflow">return</span> !<a class="code" href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">_matrices_initialized</a>; }</div>
<div class="ttc" id="classlibMesh_1_1System_html_aa8d921f604b3968178792c1bf44006ea"><div class="ttname"><a href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">libMesh::System::_matrices_initialized</a></div><div class="ttdeci">bool _matrices_initialized</div><div class="ttdoc">false when additional matrices being added require initialization, true otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02191">system.h:2191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56d518f06522c7396ebb5a85747c9a9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>清除与系统关联的所有数据结构。 </p>

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#ac2bf69c95780e6e97fd1f10e44a1af94">libMesh::DifferentiableSystem</a> .</p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00083">83</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8C_source.html#l00064">libMesh::DifferentiableSystem::clear()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// Call the Parent&#39;s clear function</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ac2bf69c95780e6e97fd1f10e44a1af94">Parent::clear</a>();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ac2bf69c95780e6e97fd1f10e44a1af94"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ac2bf69c95780e6e97fd1f10e44a1af94">libMesh::DifferentiableSystem::clear</a></div><div class="ttdeci">virtual void clear() override</div><div class="ttdoc">清除与系统关联的所有数据结构。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00064">diff_system.C:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81b8b35b7cd10743f61cb911f7e2c60d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiablePhysics::clear_physics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear any data structures associated with the physics. </p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00064">libMesh::DifferentiableSystem::clear()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a31c3823d943df168dff5ac215d5bf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::clear_qoi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear all the data structures associated with the QoI. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00091">91</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00064">libMesh::DifferentiableSystem::clear()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff2ddccdd71320e0e6ad13c1f79357e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a>&gt; libMesh::DifferentiableSystem::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>不允许将系统附加到彼此 </p>

<p>实现了 <a class="el" href="classlibMesh_1_1DifferentiableQoI.html#abf39242025a15c14dd71a7a9b8b3f656">libMesh::DifferentiableQoI</a>.</p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00150">150</a> 行定义.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    libmesh_not_implemented();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// 虚构的避免编译器警告，不是真正的实现</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> std::unique_ptr&lt;DifferentiableQoI&gt;(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaecf357f9c98d27273c7bb69bd2754a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a>&gt; libMesh::DifferentiableSystem::clone_physics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>不允许将系统附加到彼此 </p>

<p>实现了 <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab1cbb37f319b3bb0be9d87fb50bac970">libMesh::DifferentiablePhysics</a>.</p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00140">140</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    libmesh_not_implemented();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// 虚构的避免编译器警告，不是真正的实现</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> std::unique_ptr&lt;DifferentiablePhysics&gt;(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20de1180df21bdc9e6ca6151ed4ffda9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Parallel::Communicator&amp; libMesh::ParallelObject::comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the <code>Parallel::Communicator</code> object used by this mesh. </dd></dl>

<p>在文件 <a class="el" href="parallel__object_8h_source.html">parallel_object.h</a> 第 <a class="el" href="parallel__object_8h_source.html#l00097">97</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00120">libMesh::ParallelObject::_communicator</a>.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00044">libMesh::__libmesh_petsc_diff_solver_monitor()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00206">libMesh::__libmesh_tao_equality_constraints()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00258">libMesh::__libmesh_tao_equality_constraints_jacobian()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00098">libMesh::__libmesh_tao_gradient()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00149">libMesh::__libmesh_tao_hessian()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00307">libMesh::__libmesh_tao_inequality_constraints()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00359">libMesh::__libmesh_tao_inequality_constraints_jacobian()</a>, <a class="el" href="tao__optimization__solver_8C_source.html#l00050">libMesh::__libmesh_tao_objective()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01335">libMesh::MeshRefinement::_coarsen_elements()</a>, <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="parmetis__partitioner_8C_source.html#l00110">libMesh::ParmetisPartitioner::_do_repartition()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="partitioner_8C_source.html#l01067">libMesh::Partitioner::_find_global_index_by_pid_map()</a>, <a class="el" href="boundary__info_8C_source.html#l03032">libMesh::BoundaryInfo::_find_id_maps()</a>, <a class="el" href="slepc__eigen__solver_8C_source.html#l00928">libMesh::SlepcEigenSolver&lt; T &gt;::_petsc_shell_matrix_get_diagonal()</a>, <a class="el" href="petsc__linear__solver_8C_source.html#l01026">libMesh::PetscLinearSolver&lt; T &gt;::_petsc_shell_matrix_get_diagonal()</a>, <a class="el" href="petsc__linear__solver_8C_source.html#l00972">libMesh::PetscLinearSolver&lt; T &gt;::_petsc_shell_matrix_mult()</a>, <a class="el" href="slepc__eigen__solver_8C_source.html#l00903">libMesh::SlepcEigenSolver&lt; T &gt;::_petsc_shell_matrix_mult()</a>, <a class="el" href="petsc__linear__solver_8C_source.html#l00996">libMesh::PetscLinearSolver&lt; T &gt;::_petsc_shell_matrix_mult_add()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01468">libMesh::MeshRefinement::_refine_elements()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01600">libMesh::MeshRefinement::_smooth_flags()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l05349">libMesh::DofMap::add_constraints_to_send_list()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l01019">libMesh::PetscDMWrapper::add_dofs_helper()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00961">libMesh::PetscDMWrapper::add_dofs_to_section()</a>, <a class="el" href="eigen__system_8C_source.html#l00126">libMesh::EigenSystem::add_matrices()</a>, <a class="el" href="system_8C_source.html#l00984">libMesh::System::add_matrix()</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l01518">libMesh::UnstructuredMesh::all_complete_order()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l01277">libMesh::UnstructuredMesh::all_second_order_range()</a>, <a class="el" href="mesh__modification_8C_source.html#l00333">libMesh::MeshTools::Modification::all_tri()</a>, <a class="el" href="mesh__smoother__laplace_8C_source.html#l00289">libMesh::LaplaceMeshSmoother::allgather_graph()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03708">libMesh::DofMap::allgather_recursive_constraints()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="nemesis__io_8C_source.html#l00161">libMesh::Nemesis_IO::assert_symmetric_cmaps()</a>, <a class="el" href="mesh__communication__global__indices_8C_source.html#l00204">libMesh::MeshCommunication::assign_global_indices()</a>, <a class="el" href="partitioner_8C_source.html#l01334">libMesh::Partitioner::assign_partitioning()</a>, <a class="el" href="mesh__generation_8C_source.html#l02238">libMesh::MeshTools::Generation::build_extrusion()</a>, <a class="el" href="boundary__info_8C_source.html#l02309">libMesh::BoundaryInfo::build_node_list_from_side_list()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00713">libMesh::PetscDMWrapper::build_section()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00777">libMesh::PetscDMWrapper::build_sf()</a>, <a class="el" href="mesh__base_8C_source.html#l01655">libMesh::MeshBase::cache_elem_data()</a>, <a class="el" href="system_8C_source.html#l01693">libMesh::System::calculate_norm()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l05532">libMesh::DofMap::check_dirichlet_bcid_consistency()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01530">libMesh::Nemesis_IO_Helper::compute_num_global_elem_blocks()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01419">libMesh::Nemesis_IO_Helper::compute_num_global_nodesets()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01326">libMesh::Nemesis_IO_Helper::compute_num_global_sidesets()</a>, <a class="el" href="dof__map_8C_source.html#l00296">libMesh::DofMap::computed_sparsity_already()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00152">libMesh::Problem_Interface::computeJacobian()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00215">libMesh::Problem_Interface::computePreconditioner()</a>, <a class="el" href="continuation__system_8C_source.html#l00030">ContinuationSystem()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="mesh__tools_8C_source.html#l02222">libMesh::MeshTools::correct_node_proc_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l00558">libMesh::MeshTools::create_bounding_box()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l01736">libMesh::DofMap::create_dof_constraints()</a>, <a class="el" href="mesh__tools_8C_source.html#l00583">libMesh::MeshTools::create_nodal_bounding_box()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00222">libMesh::MeshRefinement::create_parent_error_vector()</a>, <a class="el" href="mesh__tools_8C_source.html#l00637">libMesh::MeshTools::create_processor_bounding_box()</a>, <a class="el" href="mesh__tools_8C_source.html#l00677">libMesh::MeshTools::create_subdomain_bounding_box()</a>, <a class="el" href="petsc__matrix_8C_source.html#l00863">libMesh::PetscMatrix&lt; T &gt;::create_submatrix_nosort()</a>, <a class="el" href="mesh__communication_8C_source.html#l01976">libMesh::MeshCommunication::delete_remote_elements()</a>, <a class="el" href="dof__map_8C_source.html#l00927">libMesh::DofMap::distribute_dofs()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00093">DMlibMeshSetSystem_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00756">DMVariableBounds_libMesh()</a>, <a class="el" href="mesh__refinement__smoothing_8C_source.html#l00369">libMesh::MeshRefinement::eliminate_unrefined_patches()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03285">libMesh::DofMap::enforce_adjoint_constraints_exactly()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03203">libMesh::DofMap::enforce_constraints_on_residual()</a>, <a class="el" href="trilinos__epetra__vector_8h_source.html#l00875">libMesh::EpetraVector&lt; T &gt;::EpetraVector()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00154">libMesh::PatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00055">libMesh::WeightedPatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="mesh__refinement__flagging_8C_source.html#l00445">libMesh::MeshRefinement::flag_elements_by_elem_fraction()</a>, <a class="el" href="mesh__refinement__flagging_8C_source.html#l00044">libMesh::MeshRefinement::flag_elements_by_error_fraction()</a>, <a class="el" href="mesh__refinement__flagging_8C_source.html#l00170">libMesh::MeshRefinement::flag_elements_by_error_tolerance()</a>, <a class="el" href="mesh__refinement__flagging_8C_source.html#l00583">libMesh::MeshRefinement::flag_elements_by_mean_stddev()</a>, <a class="el" href="mesh__refinement__flagging_8C_source.html#l00237">libMesh::MeshRefinement::flag_elements_by_nelem_target()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l05055">libMesh::DofMap::gather_constraints()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00178">libMesh::CondensedEigenSystem::get_eigenpair()</a>, <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="dof__map_8C_source.html#l02922">libMesh::DofMap::get_info()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="rb__eim__construction_8h_source.html#l00344">libMesh::RBEIMConstruction::get_max_abs_value()</a>, <a class="el" href="location__maps_8C_source.html#l00047">libMesh::LocationMap&lt; T &gt;::init()</a>, <a class="el" href="topology__map_8C_source.html#l00036">libMesh::TopologyMap::init()</a>, <a class="el" href="time__solver_8C_source.html#l00072">libMesh::TimeSolver::init()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00103">libMesh::SystemSubsetBySubdomain::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="parmetis__partitioner_8C_source.html#l00241">libMesh::ParmetisPartitioner::initialize()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02182">libMesh::ExodusII_IO_Helper::initialize()</a>, <a class="el" href="optimization__system_8C_source.html#l00083">libMesh::OptimizationSystem::initialize_equality_constraints_storage()</a>, <a class="el" href="optimization__system_8C_source.html#l00119">libMesh::OptimizationSystem::initialize_inequality_constraints_storage()</a>, <a class="el" href="mesh__tools_8C_source.html#l01783">libMesh::MeshTools::libmesh_assert_consistent_distributed()</a>, <a class="el" href="mesh__tools_8C_source.html#l01813">libMesh::MeshTools::libmesh_assert_consistent_distributed_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l01266">libMesh::MeshTools::libmesh_assert_contiguous_dof_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01490">libMesh::MeshTools::libmesh_assert_equal_connectivity()</a>, <a class="el" href="mesh__tools_8C_source.html#l01474">libMesh::MeshTools::libmesh_assert_equal_points()</a>, <a class="el" href="mesh__tools_8C_source.html#l01894">libMesh::MeshTools::libmesh_assert_parallel_consistent_new_node_procids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01846">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Elem &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01932">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Node &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01352">libMesh::MeshTools::libmesh_assert_topology_consistent_procids&lt; Node &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01534">libMesh::MeshTools::libmesh_assert_valid_boundary_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01704">libMesh::MeshTools::libmesh_assert_valid_dof_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l02034">libMesh::MeshTools::libmesh_assert_valid_neighbors()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01170">libMesh::DistributedMesh::libmesh_assert_valid_parallel_flags()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01083">libMesh::DistributedMesh::libmesh_assert_valid_parallel_object_ids()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01147">libMesh::DistributedMesh::libmesh_assert_valid_parallel_p_levels()</a>, <a class="el" href="mesh__tools_8C_source.html#l01987">libMesh::MeshTools::libmesh_assert_valid_refinement_flags()</a>, <a class="el" href="mesh__tools_8C_source.html#l01732">libMesh::MeshTools::libmesh_assert_valid_unique_ids()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00551">libMesh::libmesh_petsc_linesearch_shellfunc()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00116">libMesh::libmesh_petsc_recalculate_monitor()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00256">libMesh::libmesh_petsc_snes_fd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00354">libMesh::libmesh_petsc_snes_mffd_interface()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00309">libMesh::libmesh_petsc_snes_mffd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00582">libMesh::libmesh_petsc_snes_postcheck()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00054">libMesh::libmesh_petsc_snes_residual_helper()</a>, <a class="el" href="mesh__refinement__smoothing_8C_source.html#l00126">libMesh::MeshRefinement::limit_level_mismatch_at_edge()</a>, <a class="el" href="mesh__refinement__smoothing_8C_source.html#l00039">libMesh::MeshRefinement::limit_level_mismatch_at_node()</a>, <a class="el" href="mesh__refinement__smoothing_8C_source.html#l00256">libMesh::MeshRefinement::limit_overrefined_boundary()</a>, <a class="el" href="mesh__refinement__smoothing_8C_source.html#l00310">libMesh::MeshRefinement::limit_underrefined_boundary()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00035">libMesh::LinearImplicitSystem::LinearImplicitSystem()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00779">libMesh::MeshRefinement::make_coarsening_compatible()</a>, <a class="el" href="mesh__communication_8C_source.html#l01634">libMesh::MeshCommunication::make_elems_parallel_consistent()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00751">libMesh::MeshRefinement::make_flags_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01814">libMesh::MeshCommunication::make_new_node_proc_ids_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01934">libMesh::MeshCommunication::make_new_nodes_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01612">libMesh::MeshCommunication::make_node_bcids_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01562">libMesh::MeshCommunication::make_node_ids_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01785">libMesh::MeshCommunication::make_node_proc_ids_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01591">libMesh::MeshCommunication::make_node_unique_ids_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01892">libMesh::MeshCommunication::make_nodes_parallel_consistent()</a>, <a class="el" href="mesh__communication_8C_source.html#l01658">libMesh::MeshCommunication::make_p_levels_parallel_consistent()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01159">libMesh::MeshRefinement::make_refinement_compatible()</a>, <a class="el" href="fem__system_8C_source.html#l01087">libMesh::FEMSystem::mesh_position_set()</a>, <a class="el" href="mesh__triangle__holes_8C_source.html#l00451">libMesh::TriangulatorInterface::MeshedHole::MeshedHole()</a>, <a class="el" href="mesh__serializer_8C_source.html#l00027">libMesh::MeshSerializer::MeshSerializer()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01696">libMesh::DistributedMesh::n_active_elem()</a>, <a class="el" href="mesh__tools_8C_source.html#l00771">libMesh::MeshTools::n_active_levels()</a>, <a class="el" href="boundary__info_8C_source.html#l02171">libMesh::BoundaryInfo::n_boundary_conds()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l01714">libMesh::DofMap::n_constrained_dofs()</a>, <a class="el" href="boundary__info_8C_source.html#l02192">libMesh::BoundaryInfo::n_edge_conds()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00075">libMesh::CondensedEigenSystem::n_global_non_condensed_dofs()</a>, <a class="el" href="mesh__tools_8C_source.html#l00801">libMesh::MeshTools::n_levels()</a>, <a class="el" href="boundary__info_8C_source.html#l02236">libMesh::BoundaryInfo::n_nodeset_conds()</a>, <a class="el" href="mesh__tools_8C_source.html#l00866">libMesh::MeshTools::n_p_levels()</a>, <a class="el" href="boundary__info_8C_source.html#l02214">libMesh::BoundaryInfo::n_shellface_conds()</a>, <a class="el" href="mesh__base_8C_source.html#l00210">libMesh::MeshBase::operator==()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00310">libMesh::DistributedMesh::parallel_max_elem_id()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00384">libMesh::DistributedMesh::parallel_max_node_id()</a>, <a class="el" href="replicated__mesh_8C_source.html#l00688">libMesh::ReplicatedMesh::parallel_max_unique_id()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00344">libMesh::DistributedMesh::parallel_max_unique_id()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00297">libMesh::DistributedMesh::parallel_n_elem()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00371">libMesh::DistributedMesh::parallel_n_nodes()</a>, <a class="el" href="sparsity__pattern_8C_source.html#l00469">libMesh::SparsityPattern::Build::parallel_sync()</a>, <a class="el" href="boundary__info_8C_source.html#l02489">libMesh::BoundaryInfo::parallel_sync_node_ids()</a>, <a class="el" href="boundary__info_8C_source.html#l02433">libMesh::BoundaryInfo::parallel_sync_side_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l00825">libMesh::MeshTools::paranoid_n_levels()</a>, <a class="el" href="partitioner_8C_source.html#l00195">libMesh::Partitioner::partition()</a>, <a class="el" href="linear__partitioner_8C_source.html#l00036">libMesh::LinearPartitioner::partition_range()</a>, <a class="el" href="metis__partitioner_8C_source.html#l00068">libMesh::MetisPartitioner::partition_range()</a>, <a class="el" href="partitioner_8C_source.html#l00351">libMesh::Partitioner::partition_unpartitioned_elements()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="mesh__base_8C_source.html#l00740">libMesh::MeshBase::prepare_for_use()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l02262">libMesh::DofMap::print_dof_constraints()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l01898">libMesh::DofMap::process_mesh_constraint_rows()</a>, <a class="el" href="partitioner_8C_source.html#l00578">libMesh::Partitioner::processor_pairs_to_interface_nodes()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="nemesis__io_8C_source.html#l00198">libMesh::Nemesis_IO::read()</a>, <a class="el" href="xdr__io_8C_source.html#l01420">libMesh::XdrIO::read()</a>, <a class="el" href="equation__systems__io_8C_source.html#l00108">libMesh::EquationSystems::read()</a>, <a class="el" href="exodusII__io_8C_source.html#l00894">libMesh::ExodusII_IO::read_header()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00893">libMesh::CheckpointIO::read_header()</a>, <a class="el" href="xdr__io_8C_source.html#l01552">libMesh::XdrIO::read_header()</a>, <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="xdr__io_8C_source.html#l02371">libMesh::XdrIO::read_serialized_bc_names()</a>, <a class="el" href="xdr__io_8C_source.html#l02192">libMesh::XdrIO::read_serialized_bcs_helper()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__io_8C_source.html#l01727">libMesh::XdrIO::read_serialized_connectivity()</a>, <a class="el" href="xdr__io_8C_source.html#l01968">libMesh::XdrIO::read_serialized_nodes()</a>, <a class="el" href="xdr__io_8C_source.html#l02307">libMesh::XdrIO::read_serialized_nodesets()</a>, <a class="el" href="xdr__io_8C_source.html#l01664">libMesh::XdrIO::read_serialized_subdomain_names()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02763">libMesh::Nemesis_IO_Helper::read_var_names_impl()</a>, <a class="el" href="mesh__base_8C_source.html#l01538">libMesh::MeshBase::recalculate_n_partitions()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00478">libMesh::MeshRefinement::refine_and_coarsen_elements()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01200">libMesh::DistributedMesh::renumber_dof_objects()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01454">libMesh::DistributedMesh::renumber_nodes_and_elements()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l04643">libMesh::DofMap::scatter_constraints()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00188">libMesh::CheckpointIO::select_split_config()</a>, <a class="el" href="generic__projector_8h_source.html#l02890">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::send_and_insert_dof_values()</a>, <a class="el" href="partitioner_8C_source.html#l00656">libMesh::Partitioner::set_interface_node_processor_ids_BFS()</a>, <a class="el" href="partitioner_8C_source.html#l00631">libMesh::Partitioner::set_interface_node_processor_ids_linear()</a>, <a class="el" href="partitioner_8C_source.html#l00737">libMesh::Partitioner::set_interface_node_processor_ids_petscpartitioner()</a>, <a class="el" href="partitioner_8C_source.html#l00851">libMesh::Partitioner::set_node_processor_ids()</a>, <a class="el" href="dof__map_8C_source.html#l00356">libMesh::DofMap::set_nonlocal_dof_objects()</a>, <a class="el" href="partitioner_8C_source.html#l00425">libMesh::Partitioner::set_parent_processor_ids()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00342">libMesh::PetscDiffSolver::setup_petsc_data()</a>, <a class="el" href="partitioner_8C_source.html#l00297">libMesh::Partitioner::single_partition()</a>, <a class="el" href="mesh__smoother__laplace_8C_source.html#l00046">libMesh::LaplaceMeshSmoother::smooth()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00138">libMesh::split_mesh()</a>, <a class="el" href="mesh__base_8C_source.html#l00897">libMesh::MeshBase::subdomain_ids()</a>, <a class="el" href="boundary__info_8C_source.html#l00428">libMesh::BoundaryInfo::sync()</a>, <a class="el" href="parallel__ghost__sync_8h_source.html#l00453">libMesh::Parallel::sync_element_data_by_parent_id()</a>, <a class="el" href="parallel__ghost__sync_8h_source.html#l00780">libMesh::Parallel::sync_node_data_by_element_id()</a>, <a class="el" href="parallel__ghost__sync_8h_source.html#l00580">libMesh::Parallel::sync_node_data_by_element_id_once()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00355">libMesh::MeshRefinement::test_level_one()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00430">libMesh::MeshRefinement::test_unflagged()</a>, <a class="el" href="mesh__tools_8C_source.html#l00413">libMesh::MeshTools::total_weight()</a>, <a class="el" href="poly2tri__triangulator_8C_source.html#l00368">libMesh::Poly2TriTriangulator::triangulate()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01709">libMesh::MeshRefinement::uniformly_coarsen()</a>, <a class="el" href="namebased__io_8C_source.html#l00308">libMesh::NameBasedIO::write()</a>, <a class="el" href="xdr__io_8C_source.html#l00111">libMesh::XdrIO::write()</a>, <a class="el" href="system__io_8C_source.html#l02062">libMesh::System::write_SCALAR_dofs()</a>, <a class="el" href="xdr__io_8C_source.html#l01163">libMesh::XdrIO::write_serialized_bcs_helper()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__io_8C_source.html#l00330">libMesh::XdrIO::write_serialized_connectivity()</a>, <a class="el" href="xdr__io_8C_source.html#l00692">libMesh::XdrIO::write_serialized_nodes()</a> , 以及 <a class="el" href="xdr__io_8C_source.html#l01306">libMesh::XdrIO::write_serialized_nodesets()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">_communicator</a>; }</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a1ffb5b08919ab435109a302f94a7b3eb"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">libMesh::ParallelObject::_communicator</a></div><div class="ttdeci">const Parallel::Communicator &amp; _communicator</div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00120">parallel_object.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a3e5f73bb8c49d5d69ed59849e9b20e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::compare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"><em>other_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> when the other system contains identical data, up to the given threshold. Outputs some diagnostic info when <code>verbose</code> is set. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00600">600</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02210">libMesh::System::_is_initialized</a>, <a class="el" href="system_8h_source.html#l02130">libMesh::System::_sys_name</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="system_8h_source.html#l02477">libMesh::System::n_vectors()</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="comment">// we do not care for matrices, but for vectors</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (<a class="code" href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">_is_initialized</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (other_system._is_initialized);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  Systems \&quot;&quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1System.html#aa6ed4b98503185caee2e333148b8f457">_sys_name</a> &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   comparing matrices not supported.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   comparing names...&quot;</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">// compare the name: 0 means identical</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> name_result = <a class="code" href="classlibMesh_1_1System.html#aa6ed4b98503185caee2e333148b8f457">_sys_name</a>.compare(other_system.name());</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">if</span> (name_result == 0)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot; identical.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  names not identical.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   comparing solution vector...&quot;</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="comment">// compare the solution: -1 means identical</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> solu_result = <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;compare (*other_system.solution.get(),</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                                             threshold);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> (solu_result == -1)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot; identical up to threshold.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  first difference occurred at index = &quot;</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                     &lt;&lt; solu_result &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// safety check, whether we handle at least the same number</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// of vectors</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  std::vector&lt;int&gt; ov_result;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a>() != other_system.n_vectors())</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   Fatal difference. This system handles &quot;</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                       &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a>() &lt;&lt; <span class="stringliteral">&quot; add&#39;l vectors,&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;   while the other system handles &quot;</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                       &lt;&lt; other_system.n_vectors()</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot; add&#39;l vectors.&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                       &lt;&lt; <span class="stringliteral">&quot;   Aborting comparison.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a>() == 0)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="comment">// there are no additional vectors...</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      ov_result.clear ();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="comment">// compare other vectors</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; [vec_name, vec] : <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   comparing vector \&quot;&quot;</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                         &lt;&lt; vec_name &lt;&lt; <span class="stringliteral">&quot;\&quot; ...&quot;</span>;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          <span class="comment">// assume they have the same name</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; other_system_vector =</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            other_system.get_vector(vec_name);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          ov_result.push_back(vec-&gt;compare(other_system_vector, threshold));</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;              <span class="keywordflow">if</span> (ov_result[ov_result.size()-1] == -1)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot; identical up to threshold.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot; first difference occurred at&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                             &lt;&lt; <span class="stringliteral">&quot;   index = &quot;</span> &lt;&lt; ov_result[ov_result.size()-1] &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    } <span class="comment">// finished comparing additional vectors</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordtype">bool</span> overall_result;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// sum up the results</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> ((name_result==0) &amp;&amp; (solu_result==-1))</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">if</span> (ov_result.size()==0)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        overall_result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          <span class="keywordtype">bool</span> ov_identical;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n    = 0;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <span class="keywordflow">do</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;              ov_identical = (ov_result[n]==-1);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;              n++;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          <span class="keywordflow">while</span> (ov_identical &amp;&amp; n&lt;ov_result.size());</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          overall_result = ov_identical;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    overall_result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;   finished comparisons, &quot;</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">if</span> (overall_result)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;found no differences.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;found differences.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">return</span> overall_result;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a08f955f8b6c14ce57b16dcc998cd1fe1"><div class="ttname"><a href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">libMesh::System::_is_initialized</a></div><div class="ttdeci">bool _is_initialized</div><div class="ttdoc">true when additional vectors and variables do not require immediate initialization, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02210">system.h:2210</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa6ed4b98503185caee2e333148b8f457"><div class="ttname"><a href="classlibMesh_1_1System.html#aa6ed4b98503185caee2e333148b8f457">libMesh::System::_sys_name</a></div><div class="ttdeci">const std::string _sys_name</div><div class="ttdoc">A name associated with this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02130">system.h:2130</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a46bd8cfb070bab2dc814c33749c8c21b"><div class="ttname"><a href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">libMesh::System::n_vectors</a></div><div class="ttdeci">unsigned int n_vectors() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02477">system.h:2477</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8706b919a3b01da570359d8bb71338dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::continuation_solve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>执行系统的延拓求解。通常，只能在读取或解算两个先前控制参数值之后才能开始延拓求解。 必须为启动延拓方法提供前两个解决方案。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00359">359</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00129">continuation_parameter_tolerance</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="continuation__system_8h_source.html#l00307">du_ds</a>, <a class="el" href="continuation__system_8h_source.html#l00262">G_Lambda</a>, <a class="el" href="continuation__system_8h_source.html#l00139">initial_newton_tolerance</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector&lt; T &gt;::l2_norm()</a>, <a class="el" href="libmesh__common_8h_source.html#l00185">libMesh::libmesh_real()</a>, <a class="el" href="implicit__system_8h_source.html#l00336">libMesh::ImplicitSystem::linear_solver</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="continuation__system_8h_source.html#l00159">max_continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00154">min_continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00227">n_arclength_reductions</a>, <a class="el" href="continuation__system_8h_source.html#l00222">n_backtrack_steps</a>, <a class="el" href="continuation__system_8h_source.html#l00180">newton_progress_check</a>, <a class="el" href="continuation__system_8h_source.html#l00185">newton_step</a>, <a class="el" href="continuation__system_8h_source.html#l00149">old_continuation_parameter</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="utility_8h_source.html#l00328">libMesh::Utility::pow()</a>, <a class="el" href="ostream__proxy_8h_source.html#l00193">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::precision()</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="continuation__system_8h_source.html#l00261">Residual</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="continuation__system_8h_source.html#l00267">rhs_mode</a>, <a class="el" href="ostream__proxy_8h_source.html#l00174">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::setf()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="continuation__system_8h_source.html#l00134">solution_tolerance</a>, <a class="el" href="type__vector_8h_source.html#l00088">std::sqrt()</a>, <a class="el" href="continuation__system_8h_source.html#l00164">Theta</a>, <a class="el" href="continuation__system_8h_source.html#l00169">Theta_LOCA</a>, <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>, <a class="el" href="ostream__proxy_8h_source.html#l00187">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::unsetf()</a>, <a class="el" href="continuation__system_8h_source.html#l00322">y</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00328">y_old</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// Be sure the user has set the continuation parameter pointer</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  libmesh_error_msg_if(!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>,</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                       <span class="stringliteral">&quot;You must set the continuation_parameter pointer &quot;</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                       <span class="stringliteral">&quot;to a member variable of the derived class, preferably in the &quot;</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                       <span class="stringliteral">&quot;Derived class&#39;s init_data function.  This is how the ContinuationSystem &quot;</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                       <span class="stringliteral">&quot;updates the continuation parameter.&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// Use extra precision for all the numbers printed in this function.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a7be489dff0fb06bd015f4ab861a5f8f7">setf</a>(std::ios_base::scientific);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// We can&#39;t start solving the augmented PDE system unless the tangent</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">// vectors have been initialized.  This only needs to occur once.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (!tangent_initialized)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac5130a85829d1f6e7bb63373a3efe0a7">initialize_tangent</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// Save the old value of -du/dlambda.  This will be used after the Newton iterations</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// to compute the angle between previous tangent vectors.  This cosine of this angle is</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// tau := abs( (du/d(lambda)_i , du/d(lambda)_{i-1}) / (||du/d(lambda)_i|| * ||du/d(lambda)_{i-1}||) )</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// The scaling factor tau (which should vary between 0 and 1) is used to shrink the step-size ds</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// when we are approaching a turning point.  Note that it can only shrink the step size.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a> = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Set pointer to underlying Newton solver</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (!newton_solver)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    newton_solver = cast_ptr&lt;NewtonSolver *&gt; (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;diff_solver().get());</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// A pair for catching return values from linear system solves.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  std::pair&lt;unsigned int, Real&gt; rval;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// Convergence flag for the entire arcstep</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordtype">bool</span> arcstep_converged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Begin loop over arcstep reductions.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ns=0; ns&lt;<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a460a40fa157a8a02291bf801855da11a">n_arclength_reductions</a>; ++ns)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Current arclength stepsize, ds_current=&quot;</span> &lt;&lt; ds_current &lt;&lt; std::endl;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Current parameter value, lambda=&quot;</span> &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">// Upon exit from the nonlinear loop, the newton_converged flag</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="comment">// will tell us the convergence status of Newton&#39;s method.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordtype">bool</span> newton_converged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="comment">// The nonlinear residual before *any* nonlinear steps have been taken.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> nonlinear_residual_firststep = 0.;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="comment">// The nonlinear residual from the current &quot;k&quot; Newton step, before the Newton step</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> nonlinear_residual_beforestep = 0.;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="comment">// The nonlinear residual from the current &quot;k&quot; Newton step, after the Newton step</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> nonlinear_residual_afterstep = 0.;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">// The linear solver tolerance, can be updated dynamically at each Newton step.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordtype">double</span> current_linear_tolerance = 0.;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// The nonlinear loop</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>=0; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>&lt;newton_solver-&gt;max_nonlinear_iterations; ++<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;\n === Starting Newton step &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a> &lt;&lt; <span class="stringliteral">&quot; ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          <span class="comment">// Set the linear system solver tolerance</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <span class="comment">//   // 1.) Set the current linear tolerance based as a multiple of the current residual of the system.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          <span class="comment">//   const Real residual_multiple = 1.e-4;</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          <span class="comment">//   Real current_linear_tolerance = residual_multiple*nonlinear_residual_beforestep;</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <span class="comment">//   // But if the current residual isn&#39;t small, don&#39;t let the solver exit with zero iterations!</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          <span class="comment">//   if (current_linear_tolerance &gt; 1.)</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <span class="comment">//     current_linear_tolerance = residual_multiple;</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          <span class="comment">// 2.) Set the current linear tolerance based on the method based on technique of Eisenstat &amp; Walker.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>==0)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;              <span class="comment">// At first step, only try reducing the residual by a small amount</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;              current_linear_tolerance = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">initial_newton_tolerance</a>;<span class="comment">//0.01;</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;              <span class="comment">// The new tolerance is based on the ratio of the most recent tolerances</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> alp=0.5*(1.+<a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>(5.));</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> gam=0.9;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;              libmesh_assert_not_equal_to (nonlinear_residual_beforestep, 0.0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;              libmesh_assert_not_equal_to (nonlinear_residual_afterstep, 0.0);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;              current_linear_tolerance =</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                double(std::min(gam*<a class="code" href="namespacelibMesh_1_1Utility.html#a23504eb13cc55c8b5b41b2929c42fc9d">std::pow</a>(nonlinear_residual_afterstep/nonlinear_residual_beforestep, alp),</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                current_linear_tolerance*current_linear_tolerance));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;              <span class="comment">// Don&#39;t let it get ridiculously small!!</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;              <span class="keywordflow">if</span> (current_linear_tolerance &lt; 1.e-12)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                current_linear_tolerance = 1.e-12;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Using current_linear_tolerance=&quot;</span> &lt;&lt; current_linear_tolerance &lt;&lt; std::endl;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <span class="comment">// Assemble the residual (and Jacobian).</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          <a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,   <span class="comment">// Residual</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                   <span class="keyword">true</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          <span class="comment">// Save the current nonlinear residual.  We don&#39;t need to recompute the residual unless</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;          <span class="comment">// this is the first step, since it was already computed as part of the convergence check</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;          <span class="comment">// at the end of the last loop iteration.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>==0)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;              nonlinear_residual_beforestep = <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;              <span class="comment">// Store the residual before any steps have been taken.  This will *not*</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;              <span class="comment">// be updated at each step, and can be used to see if any progress has</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;              <span class="comment">// been made from the initial residual at later steps.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;              nonlinear_residual_firststep = nonlinear_residual_beforestep;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;              <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> old_norm_u = <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;l2_norm();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  (before step) ||R||_{L2} = &quot;</span> &lt;&lt; nonlinear_residual_beforestep &lt;&lt; std::endl;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  (before step) ||R||_{L2}/||u|| = &quot;</span> &lt;&lt; nonlinear_residual_beforestep / old_norm_u &lt;&lt; std::endl;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;              <span class="comment">// In rare cases (very small arcsteps), it&#39;s possible that the residual is</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;              <span class="comment">// already below our absolute linear tolerance.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;              <span class="keywordflow">if</span> (nonlinear_residual_beforestep  &lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">solution_tolerance</a>)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Initial guess satisfied linear tolerance, exiting with zero Newton iterations!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                  <span class="comment">// Since we go straight from here to the solve of the next tangent, we</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                  <span class="comment">// have to close the matrix before it can be assembled again.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                  <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                  newton_converged=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                  <span class="keywordflow">break</span>; <span class="comment">// out of Newton iterations, with newton_converged=true</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;              nonlinear_residual_beforestep = nonlinear_residual_afterstep;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;          <span class="comment">// Solve the linear system G_u*z = G</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;          <span class="comment">// Initial guess?</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;          z-&gt;zero(); <span class="comment">// It seems to be extremely important to zero z here, otherwise the solver quits early.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          z-&gt;close();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <span class="comment">// It&#39;s possible that we have selected the current_linear_tolerance so large that</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;          <span class="comment">// a guess of z=zero yields a linear system residual |Az + R| small enough that the</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          <span class="comment">// linear solver exits in zero iterations.  If this happens, we will reduce the</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;          <span class="comment">// current_linear_tolerance until the linear solver does at least 1 iteration.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          <span class="keywordflow">do</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;              rval =</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;solve(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                     *z,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                     *<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                     <span class="comment">//1.e-12,</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                     current_linear_tolerance,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                     newton_solver-&gt;max_linear_iterations);   <span class="comment">// max linear iterations</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;              <span class="keywordflow">if</span> (rval.first==0)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>==0)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                    {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Repeating initial solve with smaller linear tolerance!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                      current_linear_tolerance *= <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">initial_newton_tolerance</a>; <span class="comment">// reduce the linear tolerance to force the solver to do some work</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                    <span class="comment">// We shouldn&#39;t get here ... it means the linear solver did no work on a Newton</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                    <span class="comment">// step other than the first one.  If this happens, we need to think more about our</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    <span class="comment">// tolerance selection.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    libmesh_error_msg(<span class="stringliteral">&quot;Linear solver did no work!&quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            } <span class="keywordflow">while</span> (rval.first==0);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  G_u*z = G solver converged at step &quot;</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                         &lt;&lt; rval.first</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot; linear tolerance = &quot;</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                         &lt;&lt; rval.second</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                         &lt;&lt; std::endl;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <span class="comment">// Sometimes (I am not sure why) the linear solver exits after zero iterations.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          <span class="comment">// Perhaps it is hitting PETSc&#39;s divergence tolerance dtol???  If this occurs,</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <span class="comment">// we should break out of the Newton iteration loop because nothing further is</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          <span class="comment">// going to happen...  Of course if the tolerance is already small enough after</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          <span class="comment">// zero iterations (how can this happen?!) we should not quit.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          <span class="keywordflow">if</span> ((rval.first == 0) &amp;&amp; (rval.second &gt; current_linear_tolerance*nonlinear_residual_beforestep))</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Linear solver exited in zero iterations!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              <span class="comment">// Try to find out the reason for convergence/divergence</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;              <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;print_converged_reason();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;              <span class="keywordflow">break</span>; <span class="comment">// out of Newton iterations</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;          <span class="comment">// Note: need to scale z by -1 since our code always solves Jx=R</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;          <span class="comment">// instead of Jx=-R.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;          z-&gt;scale(-1.);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;          z-&gt;close();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;          <span class="comment">// Assemble the G_Lambda vector, skip residual.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;          <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">G_Lambda</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;          <span class="comment">// Assemble both rhs and Jacobian</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          <a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,  <span class="comment">// Residual</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                   <span class="keyword">false</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          <span class="comment">// Not sure if this is really necessary</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;          <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> yrhsnorm=<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          libmesh_error_msg_if(yrhsnorm == 0.0, <span class="stringliteral">&quot;||G_Lambda|| = 0&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;          <span class="comment">// We select a tolerance for the y-system which is based on the inexact Newton</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;          <span class="comment">// tolerance but scaled by an extra term proportional to the RHS (which is not -&gt; 0 in this case)</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">double</span> ysystemtol =</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            double(current_linear_tolerance*(nonlinear_residual_beforestep/yrhsnorm));</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;ysystemtol=&quot;</span> &lt;&lt; ysystemtol &lt;&lt; std::endl;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          <span class="comment">// Solve G_u*y = G_{\lambda}</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          <span class="comment">// FIXME: Initial guess?  This is really a solve for -du/dlambda so we could try</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;          <span class="comment">// initializing it with the latest approximation to that... du/dlambda ~ du/ds * ds/dlambda</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;          <span class="comment">//*y = *solution;</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          <span class="comment">//y-&gt;add(-1., *previous_u);</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          <span class="comment">//y-&gt;scale(-1. / (*continuation_parameter - old_continuation_parameter)); // Be careful of divide by zero...</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          <span class="comment">//y-&gt;close();</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          <span class="comment">//  const unsigned int max_attempts=1;</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;          <span class="comment">// unsigned int attempt=0;</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          <span class="comment">//   do</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          <span class="comment">//     {</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;          <span class="comment">//       if (!quiet)</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;          <span class="comment">// libMesh::out &lt;&lt; &quot;Trying to solve tangent system, attempt &quot; &lt;&lt; attempt &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;          rval =</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;solve(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                                 *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                                 *<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>,</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                 <span class="comment">//1.e-12,</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                 ysystemtol,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                 newton_solver-&gt;max_linear_iterations);   <span class="comment">// max linear iterations</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  G_u*y = G_{lambda} solver converged at step &quot;</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                         &lt;&lt; rval.first</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;, linear tolerance = &quot;</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                         &lt;&lt; rval.second</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                         &lt;&lt; std::endl;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          <span class="comment">// Sometimes (I am not sure why) the linear solver exits after zero iterations.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;          <span class="comment">// Perhaps it is hitting PETSc&#39;s divergence tolerance dtol???  If this occurs,</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;          <span class="comment">// we should break out of the Newton iteration loop because nothing further is</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          <span class="comment">// going to happen...</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;          <span class="keywordflow">if</span> ((rval.first == 0) &amp;&amp; (rval.second &gt; ysystemtol))</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Linear solver exited in zero iterations!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;              <span class="keywordflow">break</span>; <span class="comment">// out of Newton iterations</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          <span class="comment">//       ++attempt;</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;          <span class="comment">//     } while ((attempt&lt;max_attempts) &amp;&amp; (rval.first==newton_solver-&gt;max_linear_iterations));</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;          <span class="comment">// Compute N, the residual of the arclength constraint eqn.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;          <span class="comment">// Note 1: N(u,lambda,s) := (u-u_{old}, du_ds) + (lambda-lambda_{old}, dlambda_ds) - _ds</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;          <span class="comment">// We temporarily use the delta_u vector as a temporary vector for this calculation.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          *delta_u = *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;          delta_u-&gt;add(-1., *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;          <span class="comment">// First part of the arclength constraint</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> N1 = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*delta_u-&gt;dot(*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> N2 = ((*continuation_parameter) - <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>)*dlambda_ds;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> N3 = ds_current;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  N1=&quot;</span> &lt;&lt; N1 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  N2=&quot;</span> &lt;&lt; N2 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  N3=&quot;</span> &lt;&lt; N3 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;          <span class="comment">// The arclength constraint value</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> N = N1+N2-N3;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  N=&quot;</span> &lt;&lt; N &lt;&lt; std::endl;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> duds_dot_z = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*z);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> duds_dot_y = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          <span class="comment">//libMesh::out &lt;&lt; &quot;duds_dot_z=&quot; &lt;&lt; duds_dot_z &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          <span class="comment">//libMesh::out &lt;&lt; &quot;duds_dot_y=&quot; &lt;&lt; duds_dot_y &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          <span class="comment">//libMesh::out &lt;&lt; &quot;dlambda_ds=&quot; &lt;&lt; dlambda_ds &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> delta_lambda_numerator   = -(N          + <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*duds_dot_z);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> delta_lambda_denominator =  (dlambda_ds - <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*duds_dot_y);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;          libmesh_assert_not_equal_to (delta_lambda_denominator, 0.0);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <span class="comment">// Now, we are ready to compute the step delta_lambda</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> delta_lambda_comp = delta_lambda_numerator /</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            delta_lambda_denominator;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;          <span class="comment">// Lambda is real-valued</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_lambda = <a class="code" href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libmesh_real</a>(delta_lambda_comp);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <span class="comment">// Knowing delta_lambda, we are ready to update delta_u</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          <span class="comment">// delta_u = z - delta_lambda*y</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;          delta_u-&gt;zero();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          delta_u-&gt;add(1., *z);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          delta_u-&gt;add(-delta_lambda, *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          delta_u-&gt;close();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          <span class="comment">// Update the system solution and the continuation parameter.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(1., *delta_u);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> += delta_lambda;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <span class="comment">// Did the Newton step actually reduce the residual?</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;          <a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,   <span class="comment">// Residual</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                   <span class="keyword">false</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;          <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          nonlinear_residual_afterstep = <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;          <span class="comment">// In a &quot;normal&quot; Newton step, ||du||/||R|| &gt; 1 since the most recent</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          <span class="comment">// step is where you &quot;just were&quot; and the current residual is where</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          <span class="comment">// you are now.  It can occur that ||du||/||R|| &lt; 1, but these are</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <span class="comment">// likely not good cases to attempt backtracking (?).</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_du_norm_R = delta_u-&gt;l2_norm() / nonlinear_residual_afterstep;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  norm_du_norm_R=&quot;</span> &lt;&lt; norm_du_norm_R &lt;&lt; std::endl;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          <span class="comment">// Factor to decrease the stepsize by for backtracking</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> newton_stepfactor = 1.;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">bool</span> attempt_backtracking =</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            (nonlinear_residual_afterstep &gt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">solution_tolerance</a>)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            &amp;&amp; (nonlinear_residual_afterstep &gt; nonlinear_residual_beforestep)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            &amp;&amp; (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">n_backtrack_steps</a>&gt;0)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            &amp;&amp; (norm_du_norm_R &gt; 1.)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            ;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;          <span class="comment">// If residual is not reduced, do Newton back tracking.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;          <span class="keywordflow">if</span> (attempt_backtracking)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Newton step did not reduce residual.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;              <span class="comment">// back off the previous step.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(-1., *delta_u);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;              *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> -= delta_lambda;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;              <span class="comment">// Backtracking: start cutting the Newton stepsize by halves until</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;              <span class="comment">// the new residual is actually smaller...</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> backtrack_step=0; backtrack_step&lt;<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">n_backtrack_steps</a>; ++backtrack_step)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                  newton_stepfactor *= 0.5;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Shrinking step size by &quot;</span> &lt;&lt; newton_stepfactor &lt;&lt; std::endl;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  <span class="comment">// Take fractional step</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(newton_stepfactor, *delta_u);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> += newton_stepfactor*delta_lambda;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                  <a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,   <span class="comment">// Residual</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                           <span class="keyword">false</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                  <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                  nonlinear_residual_afterstep = <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;At shrink step &quot;</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                 &lt;&lt; backtrack_step</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                 &lt;&lt; <span class="stringliteral">&quot;, nonlinear_residual_afterstep=&quot;</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                 &lt;&lt; nonlinear_residual_afterstep</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                  <span class="keywordflow">if</span> (nonlinear_residual_afterstep &lt; nonlinear_residual_beforestep)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                      <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Backtracking succeeded!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                      <span class="keywordflow">break</span>; <span class="comment">// out of backtracking loop</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                      <span class="comment">// Back off that step</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(-newton_stepfactor, *delta_u);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                      <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                      *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> -= newton_stepfactor*delta_lambda;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                  <span class="comment">// Save a copy of the solution from before the Newton step.</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                  <span class="comment">//std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; prior_iterate = solution-&gt;clone();</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            } <span class="comment">// end if (attempte_backtracking)</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          <span class="comment">// If we tried backtracking but the residual is still not reduced, print message.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;          <span class="keywordflow">if</span> ((attempt_backtracking) &amp;&amp; (nonlinear_residual_afterstep &gt; nonlinear_residual_beforestep))</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;              <span class="comment">//libMesh::err &lt;&lt; &quot;Backtracking failed.&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Backtracking failed.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;              <span class="comment">// 1.) Quit, exit program.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;              <span class="comment">//libmesh_error_msg(&quot;Backtracking failed!&quot;);</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;              <span class="comment">// 2.) Continue with last newton_stepfactor</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>&lt;3)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;add(newton_stepfactor, *delta_u);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> += newton_stepfactor*delta_lambda;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Backtracking could not reduce residual ... continuing anyway!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;              <span class="comment">// 3.) Break out of Newton iteration loop with newton_converged = false,</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;              <span class="comment">//     reduce the arclength stepsize, and try again.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                  <span class="keywordflow">break</span>; <span class="comment">// out of Newton iteration loop, with newton_converged=false</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          <span class="comment">// Another type of convergence check: suppose the residual has not been reduced</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          <span class="comment">// from its initial value after half of the allowed Newton steps have occurred.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          <span class="comment">// In our experience, this typically means that it isn&#39;t going to converge and</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;          <span class="comment">// we could probably save time by dropping out of the Newton iteration loop and</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          <span class="comment">// trying a smaller arcstep.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a8723254d749f107d589deffb4eae4f5f">newton_progress_check</a>)</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;              <span class="keywordflow">if</span> ((nonlinear_residual_afterstep &gt; nonlinear_residual_firststep) &amp;&amp;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                  (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>+1 &gt; static_cast&lt;unsigned int&gt;(0.5*newton_solver-&gt;max_nonlinear_iterations)))</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Progress check failed: the current residual: &quot;</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                               &lt;&lt; nonlinear_residual_afterstep</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot;, is\n&quot;</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot;larger than the initial residual, and half of the allowed\n&quot;</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot;number of Newton iterations have elapsed.\n&quot;</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                               &lt;&lt; <span class="stringliteral">&quot;Exiting Newton iterations with converged==false.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                  <span class="keywordflow">break</span>; <span class="comment">// out of Newton iteration loop, newton_converged = false</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          <span class="comment">// Safety check: Check the current continuation parameter against user-provided min-allowable parameter value</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;          <span class="keywordflow">if</span> (*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a3c926e951ebf781dd05157295532a833">min_continuation_parameter</a>)</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Continuation parameter fell below min-allowable value.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;              <span class="keywordflow">break</span>; <span class="comment">// out of Newton iteration loop, newton_converged = false</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;          <span class="comment">// Safety check: Check the current continuation parameter against user-provided max-allowable parameter value</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;          <span class="keywordflow">if</span> ( (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">max_continuation_parameter</a> != 0.0) &amp;&amp;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;               (*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &gt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">max_continuation_parameter</a>) )</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Current continuation parameter value: &quot;</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                           &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot; exceeded max-allowable value.&quot;</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                           &lt;&lt; std::endl;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;              <span class="keywordflow">break</span>; <span class="comment">// out of Newton iteration loop, newton_converged = false</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;          <span class="comment">// Check the convergence of the parameter and the solution.  If they are small</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          <span class="comment">// enough, we can break out of the Newton iteration loop.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_delta_u = delta_u-&gt;l2_norm();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_u = <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;l2_norm();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  delta_lambda                   = &quot;</span> &lt;&lt; delta_lambda &lt;&lt; std::endl;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  newton_stepfactor*delta_lambda = &quot;</span> &lt;&lt; newton_stepfactor*delta_lambda &lt;&lt; std::endl;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  lambda_current                 = &quot;</span> &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  ||delta_u||                    = &quot;</span> &lt;&lt; norm_delta_u &lt;&lt; std::endl;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  ||delta_u||/||u||              = &quot;</span> &lt;&lt; norm_delta_u / norm_u &lt;&lt; std::endl;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;          <span class="comment">// Evaluate the residual at the current Newton iterate.  We don&#39;t want to detect</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;          <span class="comment">// convergence due to a small Newton step when the residual is still not small.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          <a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,   <span class="comment">// Residual</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                   <span class="keyword">false</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;          <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> norm_residual = <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  ||R||_{L2} = &quot;</span> &lt;&lt; norm_residual &lt;&lt; std::endl;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;  ||R||_{L2}/||u|| = &quot;</span> &lt;&lt; norm_residual / norm_u &lt;&lt; std::endl;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          <span class="comment">// FIXME: The norm_delta_u tolerance (at least) should be relative.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          <span class="comment">// It doesn&#39;t make sense to converge a solution whose size is ~ 10^5 to</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          <span class="comment">// a tolerance of 1.e-6.  Oh, and we should also probably check the</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <span class="comment">// (relative) size of the residual as well, instead of just the step.</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(delta_lambda) &lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ac2b62535acc9fb37c6f699a8a649fd6e">continuation_parameter_tolerance</a>) &amp;&amp;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;              <span class="comment">//(norm_delta_u       &lt; solution_tolerance)               &amp;&amp; // This is a *very* strict criterion we can probably skip</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;              (norm_residual      &lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">solution_tolerance</a>))</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Newton iterations converged!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;              newton_converged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;              <span class="keywordflow">break</span>; <span class="comment">// out of Newton iterations</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        } <span class="comment">// end nonlinear loop</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">if</span> (!newton_converged)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Newton iterations of augmented system did not converge!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;          <span class="comment">// Reduce ds_current, recompute the solution and parameter, and continue to next</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          <span class="comment">// arcstep, if there is one.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          ds_current *= 0.5;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          <span class="comment">// Go back to previous solution and parameter value.</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;          *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;          *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;          <span class="comment">// Compute new predictor with smaller ds</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a619cd33885c0d1568fa26970fea8f5cd">apply_predictor</a>();</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;          <span class="comment">// Set step convergence and break out</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;          arcstep_converged=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;          <span class="keywordflow">break</span>; <span class="comment">// out of arclength reduction loop</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    } <span class="comment">// end loop over arclength reductions</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// Check for convergence of the whole arcstep.  If not converged at this</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// point, we have no choice but to quit.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  libmesh_error_msg_if(!arcstep_converged, <span class="stringliteral">&quot;Arcstep failed to converge after max number of reductions! Exiting...&quot;</span>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Print converged solution control parameter and max value.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;lambda_current=&quot;</span> &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">//libMesh::out &lt;&lt; &quot;u_max=&quot; &lt;&lt; solution-&gt;max() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// Reset old stream precision and flags.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a959cfec8e67f429502f9dee0558c7b79">unsetf</a>(std::ios_base::scientific);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Note: we don&#39;t want to go on to the next guess yet, since the user may</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// want to post-process this data.  It&#39;s up to the user to call advance_arcstep()</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// when they are ready to go on.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f64766e155cef44a8f66b8411b3725a"><div class="ttname"><a href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libMesh::libmesh_real</a></div><div class="ttdeci">T libmesh_real(T a)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00185">libmesh_common.h:185</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a91eea11b31b452f37de66e006b8e4abd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a91eea11b31b452f37de66e006b8e4abd">libMesh::ContinuationSystem::initial_newton_tolerance</a></div><div class="ttdeci">double initial_newton_tolerance</div><div class="ttdoc">在第一（不精确）牛顿步中尝试减少残差的程度。这通常是在不精确的牛顿方法中的一个较大的值，比如1/2，以防止过度求解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00139">continuation_system.h:139</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">libMesh::ContinuationSystem::Residual</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00261">continuation_system.h:261</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">libMesh::ContinuationSystem::G_Lambda</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00262">continuation_system.h:262</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac2b62535acc9fb37c6f699a8a649fd6e"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac2b62535acc9fb37c6f699a8a649fd6e">libMesh::ContinuationSystem::continuation_parameter_tolerance</a></div><div class="ttdeci">double continuation_parameter_tolerance</div><div class="ttdoc">牛顿迭代尝试收敛delta_lambda的程度。默认为1.e-6。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00129">continuation_system.h:129</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="namespacestd_html_a5e539986868ffa7c4c08ef163cae5266"><div class="ttname"><a href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; sqrt(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的平方根。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00088">type_vector.h:88</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a460a40fa157a8a02291bf801855da11a"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a460a40fa157a8a02291bf801855da11a">libMesh::ContinuationSystem::n_arclength_reductions</a></div><div class="ttdeci">unsigned int n_arclength_reductions</div><div class="ttdoc">当牛顿无法减少残差时尝试的弧长缩减次数。对于每个弧长缩减，弧步大小减半。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00227">continuation_system.h:227</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a542ed3d4e4dbd55f3d4c840c625f9307"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">libMesh::ContinuationSystem::du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * du_ds</div><div class="ttdoc">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00307">continuation_system.h:307</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Utility_html_a23504eb13cc55c8b5b41b2929c42fc9d"><div class="ttname"><a href="namespacelibMesh_1_1Utility.html#a23504eb13cc55c8b5b41b2929c42fc9d">libMesh::Utility::pow</a></div><div class="ttdeci">T pow(const T &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="utility_8h_source.html#l00328">utility.h:328</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7bbf5b5a75e7aafcbfc1ea19fbc51d73"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector::l2_norm</a></div><div class="ttdeci">virtual Real l2_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目平方和的平方根。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a69d569bd9b652d24df1fbc9bd2c9c54a"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a69d569bd9b652d24df1fbc9bd2c9c54a">libMesh::ContinuationSystem::max_continuation_parameter</a></div><div class="ttdeci">Real max_continuation_parameter</div><div class="ttdoc">延拓参数的最大允许值。如果延拓参数超过此值，牛顿迭代将停止。如果此值为零，则延拓参数没有最大值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00159">continuation_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad18b9bf0a892d99962bfab8b83e5e981"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad18b9bf0a892d99962bfab8b83e5e981">libMesh::ContinuationSystem::solution_tolerance</a></div><div class="ttdeci">double solution_tolerance</div><div class="ttdoc">牛顿迭代尝试收敛||delta_u||的程度。默认为1.e-6。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00134">continuation_system.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_afde572b48fb8abf26c11e45df3de13c8"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">libMesh::ContinuationSystem::y_old</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y_old</div><div class="ttdoc">临时向量&amp;quot;y_old&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00328">continuation_system.h:328</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_af820547d41ab966362c384649416490b"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">libMesh::ContinuationSystem::y</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y</div><div class="ttdoc">临时向量&amp;quot;y&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00322">continuation_system.h:322</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a619cd33885c0d1568fa26970fea8f5cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a619cd33885c0d1568fa26970fea8f5cd">libMesh::ContinuationSystem::apply_predictor</a></div><div class="ttdeci">void apply_predictor()</div><div class="ttdoc">应用预测器获取下一个解的初始猜测。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01375">continuation_system.C:1375</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a959cfec8e67f429502f9dee0558c7b79"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a959cfec8e67f429502f9dee0558c7b79">libMesh::BasicOStreamProxy::unsetf</a></div><div class="ttdeci">void unsetf(std::ios_base::fmtflags mask)</div><div class="ttdoc">Clear the associated flags. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00187">ostream_proxy.h:187</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a3c926e951ebf781dd05157295532a833"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a3c926e951ebf781dd05157295532a833">libMesh::ContinuationSystem::min_continuation_parameter</a></div><div class="ttdeci">Real min_continuation_parameter</div><div class="ttdoc">延拓参数的最小允许值。如果延拓参数低于此值，牛顿迭代将停止。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00154">continuation_system.h:154</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ac5130a85829d1f6e7bb63373a3efe0a7"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ac5130a85829d1f6e7bb63373a3efe0a7">libMesh::ContinuationSystem::initialize_tangent</a></div><div class="ttdeci">void initialize_tangent()</div><div class="ttdoc">在开始弧长延拓之前，需要至少2个先前的解决方案（solution和u_previous都应填充有有意义的值）。 需要初始化切线向量。这只需要调用一次。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l00132">continuation_system.C:132</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a34d429e11a79273738c658c10bfa07c5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">libMesh::ContinuationSystem::rhs_mode</a></div><div class="ttdeci">RHS_Mode rhs_mode</div><div class="ttdoc">RHS_Mode类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00267">continuation_system.h:267</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a7be489dff0fb06bd015f4ab861a5f8f7"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a7be489dff0fb06bd015f4ab861a5f8f7">libMesh::BasicOStreamProxy::setf</a></div><div class="ttdeci">std::ios_base::fmtflags setf(std::ios_base::fmtflags fmtfl)</div><div class="ttdoc">Set the associated flags. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00174">ostream_proxy.h:174</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a8723254d749f107d589deffb4eae4f5f"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a8723254d749f107d589deffb4eae4f5f">libMesh::ContinuationSystem::newton_progress_check</a></div><div class="ttdeci">bool newton_progress_check</div><div class="ttdoc">另一个由LOCA人员建议的缩放参数。这个参数试图在前两个切线向量之间的角度变大时缩小步长ds。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00180">continuation_system.h:180</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecb2c9bf8e35299c02a1fb768082f8cb"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecb2c9bf8e35299c02a1fb768082f8cb">libMesh::ContinuationSystem::n_backtrack_steps</a></div><div class="ttdeci">unsigned int n_backtrack_steps</div><div class="ttdoc">牛顿迭代内尝试的后退步数，如果牛顿步没有减小残差。 这是在*单个*牛顿步内后退，如果要尝试较小的弧步，请设置n_arclength_reductions &amp;gt; 0。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00222">continuation_system.h:222</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_add942ac69c43a1c5e578620a003a75fe"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">libMesh::ImplicitSystem::linear_solver</a></div><div class="ttdeci">std::unique_ptr&lt; LinearSolver&lt; Number &gt; &gt; linear_solver</div><div class="ttdoc">This class handles all the details of interfacing with various linear algebra packages like PETSc or ...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00336">implicit_system.h:336</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a1903b4c5f9397c90e2da3fba62e22516"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">libMesh::BasicOStreamProxy::precision</a></div><div class="ttdeci">std::streamsize precision() const </div><div class="ttdoc">Get the associated write precision. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00193">ostream_proxy.h:193</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_adc864618acb256ac21e788c571649eaf"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">libMesh::FEMSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool get_residual, bool get_jacobian, bool apply_heterogeneous_constraints=false, bool apply_no_constraints=false) override</div><div class="ttdoc">Prepares matrix or rhs for matrix assembly. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l00880">fem_system.C:880</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_abb52b3e342e9ce329a7e4bfeab1487bf"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">libMesh::ContinuationSystem::newton_step</a></div><div class="ttdeci">unsigned int newton_step</div><div class="ttdoc">非线性（牛顿）迭代循环的循环计数器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00185">continuation_system.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a62ad32105a9dd50721e5a6098f671f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::current_solution </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a>&#160;</td>
          <td class="paramname"><em>global_dof_number</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The current solution for the specified global DOF. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00156">156</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a> , 以及 <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00047">libMesh::HPCoarsenTest::add_projection()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00211">libMesh::PatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00137">libMesh::HPCoarsenTest::select_refinement()</a>, <a class="el" href="ensight__io_8C_source.html#l00334">libMesh::EnsightIO::write_scalar_ascii()</a> , 以及 <a class="el" href="ensight__io_8C_source.html#l00405">libMesh::EnsightIO::write_vector_ascii()</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// Check the sizes</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  libmesh_assert_less (global_dof_number, <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;n_dofs());</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  libmesh_assert_less (global_dof_number, <a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>-&gt;size());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> (*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>)(global_dof_number);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad85e4b7839ce25e0341c73686001740f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::damping_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts a damping vector contribution on <code>elem</code> from elem_residual. </p>
<p>This method is not used in first-order-in-time problems. For second-order-in-time problems, this is the <img class="formulaInl" alt="$ C(u,\ddot{u})\ddot{u} $" src="form_137.png"/> term. This method is only called for UnsteadySolver-based TimeSolvers.</p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>If the problem has no damping, the default "do-nothing" is correct. Otherwise, this must be reimplemented. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00360">360</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00161">libMesh::NewmarkSolver::element_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ba45875ecfb9f9151a014cadac8109c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::deactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deactivates the system. </p>
<p>Only active systems are solved. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02325">2325</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02156">libMesh::System::_active</a>.</p>
<div class="fragment"><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;{</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">_active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aee881365cfab1a56929cf344a34e9585"><div class="ttname"><a href="classlibMesh_1_1System.html#aee881365cfab1a56929cf344a34e9585">libMesh::System::_active</a></div><div class="ttdeci">bool _active</div><div class="ttdoc">Flag stating if the system is active or not. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02156">system.h:2156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a741883b7f26a17f565f2f74e78f3397b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::disable_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Avoids use of any cached data that might affect any solve result. </p>
<p>Should be overridden in derived systems. </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a43f312cf134bace066206329c47a6129">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00105">105</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01527">libMesh::System::assemble_before_solve</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a> , 以及 <a class="el" href="linear__solver_8C_source.html#l00131">libMesh::LinearSolver&lt; T &gt;::reuse_preconditioner()</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00409">libMesh::DifferentiableSystem::pop_physics()</a>, <a class="el" href="diff__system_8C_source.html#l00397">libMesh::DifferentiableSystem::push_physics()</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00349">libMesh::DifferentiableSystem::swap_physics()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                    {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6b24ccb769399c64405e8f8a52491e70">assemble_before_solve</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">get_linear_solver</a>()-&gt;<a class="code" href="classlibMesh_1_1LinearSolver.html#ac9afecdb20ca3b66e7a33b72ddcddee8">reuse_preconditioner</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a46cae8e0c970cc71f4d3993432d60e5e"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">libMesh::ImplicitSystem::get_linear_solver</a></div><div class="ttdeci">virtual LinearSolver&lt; Number &gt; * get_linear_solver() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01188">implicit_system.C:1188</a></div></div>
<div class="ttc" id="classlibMesh_1_1LinearSolver_html_ac9afecdb20ca3b66e7a33b72ddcddee8"><div class="ttname"><a href="classlibMesh_1_1LinearSolver.html#ac9afecdb20ca3b66e7a33b72ddcddee8">libMesh::LinearSolver::reuse_preconditioner</a></div><div class="ttdeci">virtual void reuse_preconditioner(bool)</div><div class="ttdoc">Set the same_preconditioner flag, which indicates if we reuse the same preconditioner for subsequent ...</div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00131">linear_solver.C:131</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b24ccb769399c64405e8f8a52491e70"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b24ccb769399c64405e8f8a52491e70">libMesh::System::assemble_before_solve</a></div><div class="ttdeci">bool assemble_before_solve</div><div class="ttdoc">Flag which tells the system to whether or not to call the user assembly function during each call to ...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01527">system.h:1527</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c0a2d3d3c531f9f069b0d623d4ace0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ReferenceCounter::disable_print_counter_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="reference__counter_8C_source.html">reference_counter.C</a> 第 <a class="el" href="reference__counter_8C_source.html#l00100">100</a> 行定义.</p>

<p>参考 <a class="el" href="reference__counter_8h_source.html#l00143">libMesh::ReferenceCounter::_enable_print_counter</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">_enable_print_counter</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a8f75e8a4a280f2c41636f2ae1307a311"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">libMesh::ReferenceCounter::_enable_print_counter</a></div><div class="ttdeci">static bool _enable_print_counter</div><div class="ttdoc">Flag to control whether reference count information is printed when print_info is called...</div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00143">reference_counter.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1bdc46ab11bb6ab33dc5b17bfbd1ccf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::element_constraint </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the constraint contribution on <code>elem</code> to elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Users may need to reimplement this for their particular PDE.</p>
<p>To implement the constraint 0 = G(u), the user should examine u = elem_solution and add (G(u), phi_i) to elem_residual in elem_constraint(). </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00144">144</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00035">libMesh::SteadySolver::element_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a>, <a class="el" href="newmark__solver_8C_source.html#l00161">libMesh::NewmarkSolver::element_residual()</a> , 以及 <a class="el" href="eigen__time__solver_8C_source.html#l00123">libMesh::EigenTimeSolver::element_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7309f211d6ac11ac750e4a90858e7a0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableSystem::element_postprocess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在后处理循环中在<code>elem上执行需要完成的任何工作。</code> </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00272">272</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9ddc8f75ac46188425122533f8ea65a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::element_qoi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does any work that needs to be done on <code>elem</code> in a quantity of interest assembly loop, outputting to elem_qoi. </p>
<p>Only qois included in the supplied <code><a class="el" href="classlibMesh_1_1QoISet.html" title="Data structure for specifying which Quantities of Interest should be calculated in an adjoint or a pa...">QoISet</a></code> need to be assembled. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00124">124</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad380b1814e89e62a0c9e29219cbb0cb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::element_qoi_derivative </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does any work that needs to be done on <code>elem</code> in a quantity of interest derivative assembly loop, outputting to elem_qoi_derivative. </p>
<p>Only qois included in the supplied <code><a class="el" href="classlibMesh_1_1QoISet.html" title="Data structure for specifying which Quantities of Interest should be calculated in an adjoint or a pa...">QoISet</a></code> need their derivatives assembled. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00136">136</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c80f2e313fbb8b6ff7d088ff4169be2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::element_time_derivative </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the time derivative contribution on <code>elem</code> to elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Users need to reimplement this for their particular PDE.</p>
<p>To implement the physics model du/dt = F(u), the user should examine u = elem_solution and add (F(u), phi_i) to elem_residual in elem_time_derivative(). </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00125">125</a> 行定义.</p>

<p>参考自 <a class="el" href="steady__solver_8C_source.html#l00035">libMesh::SteadySolver::element_residual()</a> , 以及 <a class="el" href="eigen__time__solver_8C_source.html#l00123">libMesh::EigenTimeSolver::element_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86837c50216b2ddb800b3836d2a08c09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ReferenceCounter::enable_print_counter_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Methods to enable/disable the reference counter output from <a class="el" href="classlibMesh_1_1ReferenceCounter.html#a13ce734a14ffd1dbb6496dab702da8e1" title="Prints the reference information, by default to libMesh::out. ">print_info()</a> </p>

<p>在文件 <a class="el" href="reference__counter_8C_source.html">reference_counter.C</a> 第 <a class="el" href="reference__counter_8C_source.html#l00094">94</a> 行定义.</p>

<p>参考 <a class="el" href="reference__counter_8h_source.html#l00143">libMesh::ReferenceCounter::_enable_print_counter</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">_enable_print_counter</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a8f75e8a4a280f2c41636f2ae1307a311"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">libMesh::ReferenceCounter::_enable_print_counter</a></div><div class="ttdeci">static bool _enable_print_counter</div><div class="ttdoc">Flag to control whether reference count information is printed when print_info is called...</div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00143">reference_counter.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adbb1bf406ea53decb009830b8644d89d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::FEMPhysics::eulerian_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a pseudo-convection contribution on <code>elem</code> to elem_residual, if the nodes of <code>elem</code> are being translated by a moving mesh. </p>
<p>This function assumes that the user's time derivative equations (except for any equations involving unknown mesh xyz coordinates themselves) are expressed in an Eulerian frame of reference, and that the user is satisfied with an unstabilized convection term. Lagrangian equations will probably require overriding <a class="el" href="classlibMesh_1_1FEMPhysics.html#adbb1bf406ea53decb009830b8644d89d" title="Adds a pseudo-convection contribution on elem to elem_residual, if the nodes of elem are being transl...">eulerian_residual()</a> with a blank function; ALE or stabilized formulations will require reimplementing <a class="el" href="classlibMesh_1_1FEMPhysics.html#adbb1bf406ea53decb009830b8644d89d" title="Adds a pseudo-convection contribution on elem to elem_residual, if the nodes of elem are being transl...">eulerian_residual()</a> entirely. </p>

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a63c47f742ea50b5aa65cbf415384de5e">libMesh::DifferentiablePhysics</a> .</p>

</div>
</div>
<a class="anchor" id="a63c47f742ea50b5aa65cbf415384de5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::eulerian_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a pseudo-convection contribution on <code>elem</code> to elem_residual, if the nodes of <code>elem</code> are being translated by a moving mesh. </p>
<p>The library provides a basic implementation in <a class="el" href="classlibMesh_1_1FEMPhysics.html#adbb1bf406ea53decb009830b8644d89d" title="Adds a pseudo-convection contribution on elem to elem_residual, if the nodes of elem are being transl...">FEMPhysics::eulerian_residual()</a> </p>

<p>被 <a class="el" href="classlibMesh_1_1FEMPhysics.html#adbb1bf406ea53decb009830b8644d89d">libMesh::FEMPhysics</a> 重载.</p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00277">277</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3918a7493ac40b1a00ab4cb24ca234af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::finalize_derivative </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>derivatives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>qoi_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to finalize qoi derivatives which require more than just a simple sum of element contributions. </p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>.</p>

</div>
</div>
<a class="anchor" id="af6eb5b96c250d8f56ef6e26dc10abc31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;&#160;</td>
          <td class="paramname"><em>sensitivities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j]. </p>
<p>Uses the forward sensitivity method.</p>
<p>Currently uses finite differenced derivatives (partial q / partial p) and (partial R / partial p). </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#ab19259df51db305760418290ae5b2f57">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00600">600</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00170">libMesh::SensitivityData::allocate_data()</a>, <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l02301">libMesh::System::get_qoi_values()</a>, <a class="el" href="system_8C_source.html#l01139">libMesh::System::get_sensitivity_solution()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Np = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    (parameters.size());</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nq = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// An introduction to the problem:</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">// Residual R(u(p),p) = 0</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// partial R / partial u = J = system matrix</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">// This implies that:</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// d/dp(R) = 0</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="comment">// (partial R / partial p) +</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">// (partial R / partial u) * (partial u / partial p) = 0</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// We first solve for (partial u / partial p) for each parameter:</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// J * (partial u / partial p) = - (partial R / partial p)</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#ac659d63f5c1dcbd434571de5ee5e293d">sensitivity_solve</a>(parameters);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="comment">// Get ready to fill in sensitivities:</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  sensitivities.allocate_data(qoi_indices, *<span class="keyword">this</span>, parameters);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// We use the identity:</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// dq/dp = (partial q / partial p) + (partial q / partial u) *</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="comment">//         (partial u / partial p)</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// We get (partial q / partial u) from the user</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                                <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// We don&#39;t need these to be closed() in this function, but libMesh</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// standard practice is to have them closed() by the time the</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// function exits</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j != Np; ++j)</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="comment">// We currently get partial derivatives via central differencing</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="comment">// (partial q / partial p) ~= (q(p+dp)-q(p-dp))/(2*dp)</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameter = *parameters[j];</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p =</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a> * std::max(<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(old_parameter), 1e-3);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      *parameters[j] = old_parameter - delta_p;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keyword">const</span> std::vector&lt;Number&gt; qoi_minus = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      *parameters[j] = old_parameter + delta_p;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keyword">const</span> std::vector&lt;Number&gt; qoi_plus = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      std::vector&lt;Number&gt; partialq_partialp(Nq, 0);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          partialq_partialp[i] = (qoi_plus[i] - qoi_minus[i]) / (2.*delta_p);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="comment">// Don&#39;t leave the parameter changed</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      *parameters[j] = old_parameter;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          sensitivities[i][j] = partialq_partialp[i] +</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(j));</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// All parameters have been reset.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="comment">// We didn&#39;t cache the original rhs or matrix for memory reasons,</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// but we can restore them to a state consistent solution -</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// principle of least surprise.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a920173d7f09d6f17b4451f354b7bccac"><div class="ttname"><a href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">libMesh::System::get_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_sensitivity_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01139">system.C:1139</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_ac659d63f5c1dcbd434571de5ee5e293d"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#ac659d63f5c1dcbd434571de5ee5e293d">libMesh::ImplicitSystem::sensitivity_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; sensitivity_solve(const ParameterVector &amp;parameters) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system(s) (dR/du)*u_p = -dR/dp, for those parameters contained within p...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00113">implicit_system.C:113</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a8b151463899cb0fbf0938e039491ffad"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">libMesh::ExplicitSystem::assemble_qoi</a></div><div class="ttdeci">virtual void assemble_qoi(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Prepares qoi for quantity of interest assembly, then calls user qoi function. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00054">explicit_system.C:54</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a45adb17458ea92c61b7ec53836ef1ef8"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">libMesh::ExplicitSystem::assemble_qoi_derivative</a></div><div class="ttdeci">virtual void assemble_qoi_derivative(const QoISet &amp;qoi_indices=QoISet(), bool include_liftfunc=true, bool apply_constraints=true) override</div><div class="ttdoc">Prepares adjoint_rhs for quantity of interest derivative assembly, then calls user qoi derivative fun...</div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00067">explicit_system.C:67</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9b23ab84ecbb678fe65e76fc29567c8b"><div class="ttname"><a href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">libMesh::System::get_qoi_values</a></div><div class="ttdeci">std::vector&lt; Number &gt; get_qoi_values() const </div><div class="ttdoc">Returns a copy of qoi, not a reference. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02301">system.C:2301</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe988921e219358881c49d1fa7303507"><div class="ttname"><a href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">libMesh::System::get_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01254">system.C:1254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe988921e219358881c49d1fa7303507"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_adjoint_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint rhs vectors, by default the one corresponding to the first qoi. This what the user's QoI derivative code should assemble when setting up an adjoint problem </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01254">1254</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>, <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  std::ostringstream adjoint_rhs_name;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  adjoint_rhs_name &lt;&lt; <span class="stringliteral">&quot;adjoint_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_rhs_name.str());</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51faae6da9b7a003b5ad500f01d2d2e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_adjoint_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint rhs vectors, by default the one corresponding to the first qoi. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01264">1264</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  std::ostringstream adjoint_rhs_name;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  adjoint_rhs_name &lt;&lt; <span class="stringliteral">&quot;adjoint_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_rhs_name.str());</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeaf02ff714b2d9b6aca4e8d696856529"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint solution vectors, by default the one corresponding to the first qoi. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01192">1192</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>, <a class="el" href="file__solution__history_8C_source.html#l00116">libMesh::FileSolutionHistory::retrieve()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;{</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff763590396fc13d20827142198592e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's adjoint solution vectors, by default the one corresponding to the first qoi. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01202">1202</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;{</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8675912333213ff5ec6ca4b87b13f13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::get_all_variable_numbers </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>all_variable_numbers</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills <code>all_variable_numbers</code> with all the variable numbers for the variables that have been added to this system. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01564">1564</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02151">libMesh::System::_variable_numbers</a> , 以及 <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;{</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  all_variable_numbers.resize(<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>());</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vn : <a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>)</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    all_variable_numbers[count++] = vn.second;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1a6d4e0b74a98701716eddec66bd7fa7"><div class="ttname"><a href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">libMesh::System::_variable_numbers</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int, std::less&lt;&gt; &gt; _variable_numbers</div><div class="ttdoc">The variable numbers corresponding to user-specified names, useful for name-based lookups...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02151">system.h:2151</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a127c1b13fc8f077ead66889abb4dfd8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiableSystem::get_constrain_in_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00352">352</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00388">libMesh::DifferentiableSystem::_constrain_in_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a7fe2be97680d4d4540604db91d048e45">_constrain_in_solver</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a7fe2be97680d4d4540604db91d048e45"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a7fe2be97680d4d4540604db91d048e45">libMesh::DifferentiableSystem::_constrain_in_solver</a></div><div class="ttdeci">bool _constrain_in_solver</div><div class="ttdoc">_constrain_in_solver默认为true；如果为false，则仅通过要解决的系统中的残差项应用约束。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00388">diff_system.h:388</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a022401d3a4bd375a5d257e7928618f45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System_1_1Constraint.html">System::Constraint</a> &amp; libMesh::System::get_constraint_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the user object for imposing constraints. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02134">2134</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02081">libMesh::System::_constrain_system_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;{</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  libmesh_assert_msg(<a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a>,<span class="stringliteral">&quot;No constraint object available.&quot;</span>);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a>;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a34a3dce9f1e27210362fd6299a321205"><div class="ttname"><a href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">libMesh::System::_constrain_system_object</a></div><div class="ttdeci">Constraint * _constrain_system_object</div><div class="ttdoc">Object that constrains the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02081">system.h:2081</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b392c8791f781092d6326e51856f553"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1DofMap.html">DofMap</a> &amp; libMesh::System::get_dof_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A constant reference to this system's <code>_dof_map</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02293">2293</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="diff__system_8C_source.html#l00214">libMesh::DifferentiableSystem::add_dot_var_dirichlet_bcs()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00047">libMesh::HPCoarsenTest::add_projection()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="newmark__solver_8C_source.html#l00044">libMesh::NewmarkSolver::advance_timestep()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00089">libMesh::AdaptiveTimeSolver::advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00192">libMesh::UnsteadySolver::advance_timestep()</a>, <a class="el" href="equation__systems_8C_source.html#l00271">libMesh::EquationSystems::allgather()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00777">libMesh::PetscDMWrapper::build_sf()</a>, <a class="el" href="system_8C_source.html#l01693">libMesh::System::calculate_norm()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00152">libMesh::Problem_Interface::computeJacobian()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00215">libMesh::Problem_Interface::computePreconditioner()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01670">libMesh::Nemesis_IO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00389">DMCreateDomainDecomposition_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00287">DMCreateFieldDecomposition_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00093">DMlibMeshSetSystem_libMesh()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03260">libMesh::DofMap::enforce_constraints_on_jacobian()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03203">libMesh::DofMap::enforce_constraints_on_residual()</a>, <a class="el" href="jump__error__estimator_8C_source.html#l00056">libMesh::JumpErrorEstimator::estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="generic__projector_8h_source.html#l02829">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SubFunctor::find_dofs_to_send()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00103">libMesh::SystemSubsetBySubdomain::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00042">libMesh::SecondOrderUnsteadySolver::init_data()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00089">libMesh::UnsteadySolver::init_data()</a>, <a class="el" href="fem__context_8C_source.html#l00195">libMesh::FEMContext::init_internal_data()</a>, <a class="el" href="eigen__system_8C_source.html#l00158">libMesh::EigenSystem::init_matrices()</a>, <a class="el" href="system_8C_source.html#l00325">libMesh::System::init_matrices()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00049">libMesh::CondensedEigenSystem::initialize_condensed_dofs()</a>, <a class="el" href="optimization__system_8C_source.html#l00083">libMesh::OptimizationSystem::initialize_equality_constraints_storage()</a>, <a class="el" href="optimization__system_8C_source.html#l00119">libMesh::OptimizationSystem::initialize_inequality_constraints_storage()</a>, <a class="el" href="system_8C_source.html#l01018">libMesh::System::late_matrix_init()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00256">libMesh::libmesh_petsc_snes_fd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00309">libMesh::libmesh_petsc_snes_mffd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00054">libMesh::libmesh_petsc_snes_residual_helper()</a>, <a class="el" href="system_8C_source.html#l01574">libMesh::System::local_dof_indices()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03381">libMesh::DofMap::max_constraint_error()</a>, <a class="el" href="dg__fem__context_8C_source.html#l00084">libMesh::DGFEMContext::neighbor_side_fe_reinit()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00337">libMesh::UnsteadySolver::old_nonlinear_solution()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00116">libMesh::SecondOrderUnsteadySolver::old_solution_accel()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00107">libMesh::SecondOrderUnsteadySolver::old_solution_rate()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00211">libMesh::PatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02493">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectSides::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02682">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectInteriors::operator()()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="error__vector_8C_source.html#l00210">libMesh::ErrorVector::plot_error()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="system_8C_source.html#l00515">libMesh::System::re_update()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00060">libMesh::SecondOrderUnsteadySolver::reinit()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00104">libMesh::UnsteadySolver::reinit()</a>, <a class="el" href="system_8C_source.html#l00445">libMesh::System::reinit()</a>, <a class="el" href="system_8C_source.html#l00479">libMesh::System::reinit_constraints()</a>, <a class="el" href="equation__systems_8C_source.html#l00144">libMesh::EquationSystems::reinit_solutions()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00269">libMesh::UnsteadySolver::retrieve_timestep()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00137">libMesh::HPCoarsenTest::select_refinement()</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00287">libMesh::PetscDiffSolver::solve()</a>, <a class="el" href="eigen__system_8C_source.html#l00209">libMesh::EigenSystem::solve()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00361">libMesh::UnsteadySolver::update()</a>, <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>, <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02452">libMesh::Nemesis_IO_Helper::write_nodal_solution()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="ensight__io_8C_source.html#l00334">libMesh::EnsightIO::write_scalar_ascii()</a>, <a class="el" href="system__io_8C_source.html#l02062">libMesh::System::write_SCALAR_dofs()</a> , 以及 <a class="el" href="ensight__io_8C_source.html#l00405">libMesh::EnsightIO::write_vector_ascii()</a>.</p>
<div class="fragment"><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;{</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>;</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a255709f85c1967d3670ec371048f20e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1DofMap.html">DofMap</a> &amp; libMesh::System::get_dof_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable reference to this system's <code>_dof_map</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02301">2301</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>.</p>
<div class="fragment"><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;{</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5ca6b1f3adcfac56982982e90dc905b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a>&amp; libMesh::System::get_equation_systems </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A constant reference to this system's parent <a class="el" href="classlibMesh_1_1EquationSystems.html" title="这个 EquationSystems 类. ">EquationSystems</a> object. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00730">730</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="newmark__system_8C_source.html#l00095">libMesh::NewmarkSystem::clear()</a>, <a class="el" href="frequency__system_8C_source.html#l00081">libMesh::FrequencySystem::clear_all()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="implicit__system_8C_source.html#l01210">libMesh::ImplicitSystem::get_linear_solve_parameters()</a>, <a class="el" href="frequency__system_8C_source.html#l00101">libMesh::FrequencySystem::init_data()</a>, <a class="el" href="frequency__system_8C_source.html#l00304">libMesh::FrequencySystem::n_frequencies()</a>, <a class="el" href="system_8C_source.html#l02520">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02390">libMesh::System::point_value()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="file__history__data_8C_source.html#l00093">libMesh::FileHistoryData::retrieve_adjoint_solution()</a>, <a class="el" href="file__history__data_8C_source.html#l00087">libMesh::FileHistoryData::retrieve_primal_solution()</a>, <a class="el" href="file__history__data_8C_source.html#l00079">libMesh::FileHistoryData::rewrite_stored_solution()</a>, <a class="el" href="frequency__system_8C_source.html#l00386">libMesh::FrequencySystem::set_current_frequency()</a>, <a class="el" href="frequency__system_8C_source.html#l00234">libMesh::FrequencySystem::set_frequencies()</a>, <a class="el" href="frequency__system_8C_source.html#l00196">libMesh::FrequencySystem::set_frequencies_by_range()</a>, <a class="el" href="frequency__system_8C_source.html#l00161">libMesh::FrequencySystem::set_frequencies_by_steps()</a>, <a class="el" href="newmark__system_8C_source.html#l00246">libMesh::NewmarkSystem::set_newmark_parameters()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00101">libMesh::NonlinearImplicitSystem::set_solver_parameters()</a>, <a class="el" href="eigen__system_8C_source.html#l00209">libMesh::EigenSystem::solve()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00092">libMesh::CondensedEigenSystem::solve()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="file__history__data_8C_source.html#l00070">libMesh::FileHistoryData::store_adjoint_solution()</a>, <a class="el" href="file__history__data_8C_source.html#l00026">libMesh::FileHistoryData::store_initial_solution()</a>, <a class="el" href="file__history__data_8C_source.html#l00045">libMesh::FileHistoryData::store_primal_solution()</a> , 以及 <a class="el" href="wrapped__function_8h_source.html#l00061">libMesh::WrappedFunction&lt; Output &gt;::WrappedFunction()</a>.</p>
<div class="fragment"><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>; }</div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6407174ed7461749bc7fb9c453f169cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1EquationSystems.html">EquationSystems</a>&amp; libMesh::System::get_equation_systems </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to this system's parent <a class="el" href="classlibMesh_1_1EquationSystems.html" title="这个 EquationSystems 类. ">EquationSystems</a> object. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00735">735</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>.</p>
<div class="fragment"><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>; }</div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add26aa3e6bc8cda29582f16a9ad23677"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt;unsigned int&gt;&amp; libMesh::DifferentiablePhysics::get_first_order_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The set of first order in time variable indices. May be empty. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00506">506</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00548">libMesh::DifferentiablePhysics::_first_order_vars</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00323">libMesh::DifferentiableSystem::have_first_order_scalar_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">_first_order_vars</a>; }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a73bc59adf0ae024a9216bdc0db2d5b2a"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">libMesh::DifferentiablePhysics::_first_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _first_order_vars</div><div class="ttdoc">Variable indices for those variables that are first order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00548">diff_physics.h:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a103b37125ae9eaaadf6f7854df17faa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string libMesh::ReferenceCounter::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a string containing the reference information. </p>

<p>在文件 <a class="el" href="reference__counter_8C_source.html">reference_counter.C</a> 第 <a class="el" href="reference__counter_8C_source.html#l00047">47</a> 行定义.</p>

<p>参考 <a class="el" href="reference__counter_8h_source.html#l00124">libMesh::ReferenceCounter::_counts</a> , 以及 <a class="el" href="elem__quality_8C_source.html#l00042">libMesh::Quality::name()</a>.</p>

<p>参考自 <a class="el" href="reference__counter_8C_source.html#l00081">libMesh::ReferenceCounter::print_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#if defined(LIBMESH_ENABLE_REFERENCE_COUNTING) &amp;&amp; defined(DEBUG)</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  std::ostringstream oss;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  oss &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; ---------------------------------------------------------------------------- \n&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;| Reference count information                                                |\n&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      &lt;&lt; <span class="stringliteral">&quot; ---------------------------------------------------------------------------- \n&quot;</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [<a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a>, cd] : <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">_counts</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;| &quot;</span> &lt;&lt; <a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a> &lt;&lt; <span class="stringliteral">&quot; reference count information:\n&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;|  Creations:    &quot;</span> &lt;&lt; cd.first    &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;|  Destructions: &quot;</span> &lt;&lt; cd.second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot; ---------------------------------------------------------------------------- \n&quot;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="namespacelibMesh_1_1Quality_html_a1d3617b89c15ade245910fc9a4ddfa34"><div class="ttname"><a href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">libMesh::Quality::name</a></div><div class="ttdeci">std::string name(const ElemQuality q)</div><div class="ttdoc">This function returns a string containing some name for q. </div><div class="ttdef"><b>Definition:</b> <a href="elem__quality_8C_source.html#l00042">elem_quality.C:42</a></div></div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a7c913252d05560f8bc7c75a63547c4c3"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">libMesh::ReferenceCounter::_counts</a></div><div class="ttdeci">static Counts _counts</div><div class="ttdoc">Actually holds the data. </div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00124">reference_counter.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d4e901465589bb4d2f6a8ce19d4e2c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string libMesh::System::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A string containing information about the system. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01948">1948</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="dof__map_8C_source.html#l02922">libMesh::DofMap::get_info()</a>, <a class="el" href="fe__type_8h_source.html#l00261">libMesh::FEType::inf_map</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8C_source.html#l00119">libMesh::System::n_constrained_dofs()</a>, <a class="el" href="system_8C_source.html#l00112">libMesh::System::n_dofs()</a>, <a class="el" href="system_8C_source.html#l00134">libMesh::System::n_local_constrained_dofs()</a>, <a class="el" href="system_8C_source.html#l00149">libMesh::System::n_local_dofs()</a>, <a class="el" href="system_8h_source.html#l02594">libMesh::System::n_matrices()</a>, <a class="el" href="system_8h_source.html#l02357">libMesh::System::n_variable_groups()</a>, <a class="el" href="variable_8h_source.html#l00256">libMesh::VariableGroup::n_variables()</a>, <a class="el" href="system_8h_source.html#l02477">libMesh::System::n_vectors()</a>, <a class="el" href="variable_8h_source.html#l00285">libMesh::VariableGroup::name()</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>, <a class="el" href="system_8h_source.html#l02269">libMesh::System::number()</a>, <a class="el" href="fe__type_8h_source.html#l00201">libMesh::FEType::order</a>, <a class="el" href="fe__type_8h_source.html#l00253">libMesh::FEType::radial_family</a>, <a class="el" href="fe__type_8h_source.html#l00240">libMesh::FEType::radial_order</a>, <a class="el" href="system_8h_source.html#l00505">libMesh::System::system_type()</a>, <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a>, <a class="el" href="dof__map_8h_source.html#l02101">libMesh::DofMap::variable_group()</a> , 以及 <a class="el" href="system_8h_source.html#l02387">libMesh::System::variable_group()</a>.</p>
<div class="fragment"><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;{</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  std::ostringstream oss;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keyword">const</span> std::string &amp; sys_name = this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;   System #&quot;</span>  &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>() &lt;&lt; <span class="stringliteral">&quot;, \&quot;&quot;</span> &lt;&lt; sys_name &lt;&lt; <span class="stringliteral">&quot;\&quot;\n&quot;</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;    Type \&quot;&quot;</span>  &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#af6548563b24dc5a00d12979b9869a4bf">system_type</a>() &lt;&lt; <span class="stringliteral">&quot;\&quot;\n&quot;</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;    Variables=&quot;</span>;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vg : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keyword">const</span> VariableGroup &amp; vg_description (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac9737135afee0afcde47e30a411001a9">variable_group</a>(vg));</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <span class="keywordflow">if</span> (vg_description.n_variables() &gt; 1) oss &lt;&lt; <span class="stringliteral">&quot;{ &quot;</span>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> vn : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(vg_description.n_variables()))</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; vg_description.name(vn) &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <span class="keywordflow">if</span> (vg_description.n_variables() &gt; 1) oss &lt;&lt; <span class="stringliteral">&quot;} &quot;</span>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    }</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  oss &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    Finite Element Types=&quot;</span>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="preprocessor">#ifndef LIBMESH_ENABLE_INFINITE_ELEMENTS</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vg : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        &lt;&lt; Utility::enum_to_string&lt;FEFamily&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a>)</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vg : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;          &lt;&lt; Utility::enum_to_string&lt;FEFamily&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a>)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot;, \&quot;&quot;</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;          &lt;&lt; Utility::enum_to_string&lt;FEFamily&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#aa977e3f8f993257e1cc81896236ba366">radial_family</a>)</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  oss &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt; <span class="stringliteral">&quot;    Infinite Element Mapping=&quot;</span>;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vg : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        &lt;&lt; Utility::enum_to_string&lt;InfMapType&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#a1fb32083c8ab884440a2beb333b5236e">inf_map</a>)</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  oss &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    Approximation Orders=&quot;</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vg : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">n_variable_groups</a>()))</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="preprocessor">#ifndef LIBMESH_ENABLE_INFINITE_ELEMENTS</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="preprocessor"></span>      oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;          &lt;&lt; Utility::enum_to_string&lt;Order&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#a8a4f7c664bddf007599e8087871c6785">order</a>)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="preprocessor"></span>      oss &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;          &lt;&lt; Utility::enum_to_string&lt;Order&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#a8a4f7c664bddf007599e8087871c6785">order</a>)</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot;, \&quot;&quot;</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          &lt;&lt; Utility::enum_to_string&lt;Order&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">variable_group</a>(vg).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#a36025bcd6348b74c3545852690af8e01">radial_order</a>)</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  oss &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    n_dofs()=&quot;</span>             &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>()             &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> local_dofs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    n_local_dofs()=&quot;</span>       &lt;&lt; local_dofs                 &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(local_dofs);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    max(n_local_dofs())=&quot;</span>       &lt;&lt; local_dofs                 &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="preprocessor"></span>  oss &lt;&lt; <span class="stringliteral">&quot;    n_constrained_dofs()=&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3244b511caa986cb90536628f4bf8eff">n_constrained_dofs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    n_local_constrained_dofs()=&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a17c0cdd1dc6cf29034cba6b4236fceec">n_local_constrained_dofs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> local_unconstrained_dofs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>() - this-&gt;<a class="code" href="classlibMesh_1_1System.html#a17c0cdd1dc6cf29034cba6b4236fceec">n_local_constrained_dofs</a>();</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(local_unconstrained_dofs);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    max(local unconstrained dofs)=&quot;</span> &lt;&lt; local_unconstrained_dofs &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; <span class="stringliteral">&quot;n_vectors()=&quot;</span>  &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a>()  &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  oss &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; <span class="stringliteral">&quot;n_matrices()=&quot;</span>  &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a17680e6b4bf7abfb50c8d36e0c8bb59d">n_matrices</a>()  &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">//   oss &lt;&lt; &quot;    &quot; &lt;&lt; &quot;n_additional_matrices()=&quot; &lt;&lt; this-&gt;n_additional_matrices() &lt;&lt; &#39;\n&#39;;</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  oss &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a4e4f1eeb9c6c7a7196d96d969bfb0e32">get_info</a>();</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keywordflow">return</span> oss.str();</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEType_html_ac437ba9b0a5253d6bf6f07ad277b9978"><div class="ttname"><a href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">libMesh::FEType::family</a></div><div class="ttdeci">FEFamily family</div><div class="ttdoc">The type of finite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00207">fe_type.h:207</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3244b511caa986cb90536628f4bf8eff"><div class="ttname"><a href="classlibMesh_1_1System.html#a3244b511caa986cb90536628f4bf8eff">libMesh::System::n_constrained_dofs</a></div><div class="ttdeci">dof_id_type n_constrained_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00119">system.C:119</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a8dcb07137d70a83fcf5b412e08e2783e"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">libMesh::Variable::type</a></div><div class="ttdeci">const FEType &amp; type() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00140">variable.h:140</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a4e4f1eeb9c6c7a7196d96d969bfb0e32"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a4e4f1eeb9c6c7a7196d96d969bfb0e32">libMesh::DofMap::get_info</a></div><div class="ttdeci">std::string get_info() const </div><div class="ttdoc">Gets summary info about the sparsity bandwidth and constraints. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l02922">dof_map.C:2922</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_a36025bcd6348b74c3545852690af8e01"><div class="ttname"><a href="classlibMesh_1_1FEType.html#a36025bcd6348b74c3545852690af8e01">libMesh::FEType::radial_order</a></div><div class="ttdeci">OrderWrapper radial_order</div><div class="ttdoc">The approximation order in radial direction of the infinite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00240">fe_type.h:240</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_a8a4f7c664bddf007599e8087871c6785"><div class="ttname"><a href="classlibMesh_1_1FEType.html#a8a4f7c664bddf007599e8087871c6785">libMesh::FEType::order</a></div><div class="ttdeci">OrderWrapper order</div><div class="ttdoc">The approximation order of the element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00201">fe_type.h:201</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac9737135afee0afcde47e30a411001a9"><div class="ttname"><a href="classlibMesh_1_1System.html#ac9737135afee0afcde47e30a411001a9">libMesh::System::variable_group</a></div><div class="ttdeci">const VariableGroup &amp; variable_group(unsigned int vg) const </div><div class="ttdoc">Return a constant reference to VariableGroup vg. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02387">system.h:2387</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_ab59bc8ca645e02067744580fdf4c9616"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#ab59bc8ca645e02067744580fdf4c9616">libMesh::DofMap::variable_group</a></div><div class="ttdeci">const VariableGroup &amp; variable_group(const unsigned int c) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l02101">dof_map.h:2101</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a45f610871e1ffd907872018e6e1164f4"><div class="ttname"><a href="classlibMesh_1_1System.html#a45f610871e1ffd907872018e6e1164f4">libMesh::System::n_variable_groups</a></div><div class="ttdeci">unsigned int n_variable_groups() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02357">system.h:2357</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_a1fb32083c8ab884440a2beb333b5236e"><div class="ttname"><a href="classlibMesh_1_1FEType.html#a1fb32083c8ab884440a2beb333b5236e">libMesh::FEType::inf_map</a></div><div class="ttdeci">InfMapType inf_map</div><div class="ttdoc">The coordinate mapping type of the infinite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00261">fe_type.h:261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a17680e6b4bf7abfb50c8d36e0c8bb59d"><div class="ttname"><a href="classlibMesh_1_1System.html#a17680e6b4bf7abfb50c8d36e0c8bb59d">libMesh::System::n_matrices</a></div><div class="ttdeci">unsigned int n_matrices() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02594">system.h:2594</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_aa977e3f8f993257e1cc81896236ba366"><div class="ttname"><a href="classlibMesh_1_1FEType.html#aa977e3f8f993257e1cc81896236ba366">libMesh::FEType::radial_family</a></div><div class="ttdeci">FEFamily radial_family</div><div class="ttdoc">The type of approximation in radial direction. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00253">fe_type.h:253</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a069a96e414fd05d292e3bb3a1a475602"><div class="ttname"><a href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">libMesh::System::n_local_dofs</a></div><div class="ttdeci">dof_id_type n_local_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00149">system.C:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af6548563b24dc5a00d12979b9869a4bf"><div class="ttname"><a href="classlibMesh_1_1System.html#af6548563b24dc5a00d12979b9869a4bf">libMesh::System::system_type</a></div><div class="ttdeci">virtual std::string system_type() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00505">system.h:505</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a17c0cdd1dc6cf29034cba6b4236fceec"><div class="ttname"><a href="classlibMesh_1_1System.html#a17c0cdd1dc6cf29034cba6b4236fceec">libMesh::System::n_local_constrained_dofs</a></div><div class="ttdeci">dof_id_type n_local_constrained_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00134">system.C:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aee5caacb487b070842733f1c84b9a2fd"><div class="ttname"><a href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">libMesh::System::number</a></div><div class="ttdeci">unsigned int number() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02269">system.h:2269</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a46bd8cfb070bab2dc814c33749c8c21b"><div class="ttname"><a href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">libMesh::System::n_vectors</a></div><div class="ttdeci">unsigned int n_vectors() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02477">system.h:2477</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa9ff2590f2e97f1ecfa5da19e074cf87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; unsigned int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; libMesh::DifferentiableSystem::get_linear_solve_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>用于在线性伴随和/或灵敏度求解中使用的上限迭代次数的整数和用于 收敛容限的实数的对。 </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">libMesh::ImplicitSystem</a> .</p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00172">172</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  libmesh_assert_equal_to (&amp;(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;system()), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">return</span> std::make_pair(this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;diff_solver()-&gt;max_linear_iterations,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;diff_solver()-&gt;relative_residual_tolerance);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b8ce10be3d4bd961c1d04cc146e72d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::DifferentiableSystem::get_linear_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>用于在伴随和/或灵敏度求解中使用的线性求解器的指针 </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">libMesh::ImplicitSystem</a> .</p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00163">163</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  libmesh_assert_equal_to (&amp;(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;system()), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;linear_solver().get();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a4bc1dfdda6474974caf6d290671121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const reference to this system's matrix named <code>mat_name</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01072">1072</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>

<p>参考自 <a class="el" href="newmark__system_8C_source.html#l00161">libMesh::NewmarkSystem::compute_matrix()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00218">libMesh::CondensedEigenSystem::get_condensed_matrix_A()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00227">libMesh::CondensedEigenSystem::get_condensed_matrix_B()</a>, <a class="el" href="implicit__system_8C_source.html#l01230">libMesh::ImplicitSystem::get_system_matrix()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00067">libMesh::EigenTimeSolver::solve()</a> , 以及 <a class="el" href="newmark__system_8C_source.html#l00180">libMesh::NewmarkSystem::update_rhs()</a>.</p>
<div class="fragment"><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;{</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">return</span> *libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>, mat_name);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3678648316bf4708016aee5fb51fecb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable reference to this system's matrix named <code>mat_name</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01079">1079</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>
<div class="fragment"><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;{</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">return</span> *libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>, mat_name);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39141a08afe4e0334c21035de6f0b7a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; libMesh::System::get_mesh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A constant reference to this systems's <code>_mesh</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02277">2277</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02125">libMesh::System::_mesh</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00961">libMesh::PetscDMWrapper::add_dofs_to_section()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00047">libMesh::HPCoarsenTest::add_projection()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="system_8C_source.html#l01693">libMesh::System::calculate_norm()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00389">DMCreateDomainDecomposition_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00287">DMCreateFieldDecomposition_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00093">DMlibMeshSetSystem_libMesh()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00154">libMesh::PatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00055">libMesh::WeightedPatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="jump__error__estimator_8C_source.html#l00056">libMesh::JumpErrorEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="generic__projector_8h_source.html#l02829">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SubFunctor::find_dofs_to_send()</a>, <a class="el" href="generic__projector_8h_source.html#l00099">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::GenericProjector()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00103">libMesh::SystemSubsetBySubdomain::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="system_8C_source.html#l00325">libMesh::System::init_matrices()</a>, <a class="el" href="system_8C_source.html#l01574">libMesh::System::local_dof_indices()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03381">libMesh::DofMap::max_constraint_error()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01087">libMesh::FEMSystem::mesh_position_set()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00211">libMesh::PatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02002">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectVertices::operator()()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="fem__system_8C_source.html#l01127">libMesh::FEMSystem::postprocess()</a>, <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02165">libMesh::System::read_serialized_vectors()</a>, <a class="el" href="system_8C_source.html#l00445">libMesh::System::reinit()</a>, <a class="el" href="hp__singular_8C_source.html#l00036">libMesh::HPSingularity::select_refinement()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00137">libMesh::HPCoarsenTest::select_refinement()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00287">libMesh::PetscDiffSolver::solve()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02259">libMesh::System::write_serialized_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l01615">libMesh::System::zero_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;{</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">_mesh</a>;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b1d416e0d9270f47499f7cdf3db3525"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">libMesh::System::_mesh</a></div><div class="ttdeci">MeshBase &amp; _mesh</div><div class="ttdoc">Constant reference to the mesh data structure used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02125">system.h:2125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad21ba8b25570465e1262a579566375ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; libMesh::System::get_mesh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to this systems's <code>_mesh</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02285">2285</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02125">libMesh::System::_mesh</a>.</p>
<div class="fragment"><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;{</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">_mesh</a>;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b1d416e0d9270f47499f7cdf3db3525"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">libMesh::System::_mesh</a></div><div class="ttdeci">MeshBase &amp; _mesh</div><div class="ttdoc">Constant reference to the mesh data structure used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02125">system.h:2125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af00730e0acd41b2275fc9dfd984b9b04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1System.html">System</a> * libMesh::DifferentiablePhysics::get_mesh_system </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const reference to the system with variables corresponding to mesh nodal coordinates, or nullptr if the mesh is fixed. Useful for ALE calculations. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00613">613</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af87c50cce641b0eab7e98e6bc2414ed3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html">System</a> * libMesh::DifferentiablePhysics::get_mesh_system </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the system with variables corresponding to mesh nodal coordinates, or nullptr if the mesh is fixed. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00619">619</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>.</p>
<div class="fragment"><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9b6da4b35a7ade82f0ad56c8e6ddc40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::get_mesh_x_var </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The variable number corresponding to the mesh x coordinate. Useful for ALE calculations. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00625">625</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_x_var</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a4125b3fcf1dd38b4f1a70e56bac0e2fc"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">libMesh::DifferentiablePhysics::_mesh_x_var</a></div><div class="ttdeci">unsigned int _mesh_x_var</div><div class="ttdoc">Variables from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1721154e664e142a440d1259bcf5e47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::get_mesh_y_var </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The variable number corresponding to the mesh y coordinate. Useful for ALE calculations. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00631">631</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_y_var</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a3102589faec7aa5752b4f605d5e2283e"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">libMesh::DifferentiablePhysics::_mesh_y_var</a></div><div class="ttdeci">unsigned int _mesh_y_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d5e103fdc6ce8ffcc21bcb227ea10eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::get_mesh_z_var </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The variable number corresponding to the mesh z coordinate. Useful for ALE calculations. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00637">637</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_z_var</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;{</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a081fe25766a214bc0d22f86d114258c4"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">libMesh::DifferentiablePhysics::_mesh_z_var</a></div><div class="ttdeci">unsigned int _mesh_z_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1de82ee97ddefef223df2ea4a62b8604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a>* libMesh::DifferentiableSystem::get_physics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>对DifferentiablePhysics对象的const引用。</dd></dl>
<dl class="section note"><dt>注解</dt><dd>如果没有附加外部的Physics对象，则默认为<code>this。</code> </dd></dl>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00162">162</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a>.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00102">libMesh::EulerSolver::_general_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00103">libMesh::Euler2Solver::_general_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00068">libMesh::SteadySolver::_general_residual()</a>, <a class="el" href="newmark__solver_8C_source.html#l00203">libMesh::NewmarkSolver::_general_residual()</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00123">libMesh::EigenTimeSolver::element_residual()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00217">libMesh::EigenTimeSolver::nonlocal_residual()</a> , 以及 <a class="el" href="eigen__time__solver_8C_source.html#l00170">libMesh::EigenTimeSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  { <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty())</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top().get(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa25fe583e34bcd5997ccc6c2af66c8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a>* libMesh::DifferentiableSystem::get_physics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>对DifferentiablePhysics对象的引用。</dd></dl>
<dl class="section note"><dt>注解</dt><dd>如果没有附加外部的Physics对象，则默认为<code>this。</code> </dd></dl>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00172">172</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  { <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty())</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top().get(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68be6bd3de0d76e849249546bb8e3434"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::get_project_with_constraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter and getter functions for project_with_constraints boolean. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01775">1775</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02253">libMesh::System::project_with_constraints</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">project_with_constraints</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  }</div>
<div class="ttc" id="classlibMesh_1_1System_html_ada8bf9316c319b832b279ae93871403c"><div class="ttname"><a href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">libMesh::System::project_with_constraints</a></div><div class="ttdeci">bool project_with_constraints</div><div class="ttdoc">Do we want to apply constraints while projecting vectors ? </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02253">system.h:2253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8bef312234b712c642470daf77350eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a>* libMesh::DifferentiableSystem::get_qoi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>对DifferentiableQoI对象的const引用。</dd></dl>
<dl class="section note"><dt>注解</dt><dd>如果没有附加外部的QoI对象，则默认为<code>this。</code> </dd></dl>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00205">205</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00403">libMesh::DifferentiableSystem::_diff_qoi</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  { <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.empty())</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.top().get(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a3c167bfb4a6091df208a1af0057bd980"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">libMesh::DifferentiableSystem::_diff_qoi</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiableQoI &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiableQoI &gt; &gt; &gt; _diff_qoi</div><div class="ttdoc">用于进行感兴趣数量装配评估的对象指针。默认为this，以保持向后兼容性； 在未来，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00403">diff_system.h:403</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e20f1184205afefc41b1979e48b0d60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1DifferentiableQoI.html">DifferentiableQoI</a>* libMesh::DifferentiableSystem::get_qoi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>对DifferentiableQoI对象的引用。</dd></dl>
<dl class="section note"><dt>注解</dt><dd>如果没有附加外部的QoI对象，则默认为<code>this。</code> </dd></dl>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00215">215</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00403">libMesh::DifferentiableSystem::_diff_qoi</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  { <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.empty())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">_diff_qoi</a>.top().get(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a3c167bfb4a6091df208a1af0057bd980"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a3c167bfb4a6091df208a1af0057bd980">libMesh::DifferentiableSystem::_diff_qoi</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiableQoI &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiableQoI &gt; &gt; &gt; _diff_qoi</div><div class="ttdoc">用于进行感兴趣数量装配评估的对象指针。默认为this，以保持向后兼容性； 在未来，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00403">diff_system.h:403</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea69d8396c2307d52d374f7bd0263245"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::get_qoi_error_estimate_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>qoi_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02321">2321</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01619">libMesh::System::qoi_error_estimates</a>.</p>

<p>参考自 <a class="el" href="twostep__time__solver_8C_source.html#l00400">libMesh::TwostepTimeSolver::integrate_adjoint_refinement_error_estimate()</a>.</p>
<div class="fragment"><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;{</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(qoi_index &lt; <a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>.size());</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>[qoi_index];</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9e1ccd968b663b1e1e1632b04f355230"><div class="ttname"><a href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">libMesh::System::qoi_error_estimates</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi_error_estimates</div><div class="ttdoc">Vector to hold error estimates for qois, either from a steady state calculation, or from a single uns...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01619">system.h:1619</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbaff444a42dd4ce946b4dc46554f41d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::get_qoi_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>qoi_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02294">2294</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a>.</p>

<p>参考自 <a class="el" href="euler2__solver_8C_source.html#l00264">libMesh::Euler2Solver::integrate_qoi_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00341">libMesh::TwostepTimeSolver::integrate_qoi_timestep()</a>, <a class="el" href="euler__solver_8C_source.html#l00196">libMesh::EulerSolver::integrate_qoi_timestep()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>.</p>
<div class="fragment"><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;{</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(qoi_index &lt; <a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.size());</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>[qoi_index];</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b23ab84ecbb678fe65e76fc29567c8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; libMesh::System::get_qoi_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a <em>copy</em> of qoi, not a reference. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02301">2301</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00490">libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>.</p>
<div class="fragment"><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;{</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ca2e533a7009a9c64425a61560aa085"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiableSystem::get_second_order_dot_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>对于给定的时间变量<code>var的二阶（在时间上）变量，此方法将返回对应的“dot”变量的索引。</code> 对于FirstOrderUnsteadySolver类，将自动添加“dot”变量，并且返回的索引将对应于该变量。 对于SecondOrderUnsteadySolver类，此方法将返回var，因为没有“dot”变量，但是有了这个函数，可以使用界面同时处理 FirstOrderUnsteadySolver和SecondOrderUnsteadySolver。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00306">306</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00560">libMesh::DifferentiablePhysics::_second_order_dot_vars</a>, <a class="el" href="classlibMesh_1_1UnsteadySolver.html#ac3e793c6b251d78e591fa6c0a9eabc98">libMesh::UnsteadySolver::time_order()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>

<p>参考自 <a class="el" href="first__order__unsteady__solver_8C_source.html#l00032">libMesh::FirstOrderUnsteadySolver::compute_second_order_eqns()</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// For SteadySolver or SecondOrderUnsteadySolvers, we just give back var</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dot_var = var;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;is_steady())</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keyword">const</span> UnsteadySolver &amp; unsteady_solver =</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        cast_ref&lt;const UnsteadySolver &amp;&gt;(*(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get()));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (unsteady_solver.time_order() == 1)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        dot_var = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#aceea2499be3300c82d5d2d371a0b5b47">_second_order_dot_vars</a>.find(var)-&gt;second;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">return</span> dot_var;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_aceea2499be3300c82d5d2d371a0b5b47"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#aceea2499be3300c82d5d2d371a0b5b47">libMesh::DifferentiablePhysics::_second_order_dot_vars</a></div><div class="ttdeci">std::map&lt; unsigned int, unsigned int &gt; _second_order_dot_vars</div><div class="ttdoc">If the user adds any second order variables, then we need to also cache the map to their correspondin...</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00560">diff_physics.h:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a814c1bfb614273e3c449daa52c4892c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt;unsigned int&gt;&amp; libMesh::DifferentiablePhysics::get_second_order_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The set of second order in time variable indices. May be empty. </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00519">519</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00553">libMesh::DifferentiablePhysics::_second_order_vars</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a>, <a class="el" href="diff__context_8C_source.html#l00032">libMesh::DiffContext::DiffContext()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a>, <a class="el" href="diff__system_8C_source.html#l00335">libMesh::DifferentiableSystem::have_second_order_scalar_vars()</a> , 以及 <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">_second_order_vars</a>; }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ab3139300c2d5ae16077aa17ff4079384"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">libMesh::DifferentiablePhysics::_second_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _second_order_vars</div><div class="ttdoc">Variable indices for those variables that are second order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00553">diff_physics.h:553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad3023ee4c1d7ff532fab06136eed63c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_sensitivity_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's sensitivity rhs vectors, by default the one corresponding to the first parameter. By default these vectors are built by the library, using finite differences, when <code><a class="el" href="classlibMesh_1_1System.html#a1cc007b379ff2997715998c01106d790" title="Calls residual parameter derivative function. ">assemble_residual_derivatives()</a></code> is called.</dd></dl>
<p>When assembled, this vector should hold -(partial R / partial p_i) </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01284">1284</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00490">libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;{</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  std::ostringstream sensitivity_rhs_name;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  sensitivity_rhs_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(sensitivity_rhs_name.str());</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90ed3a6cb7e47b3caa7f9b4e8893874f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_sensitivity_rhs </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's sensitivity rhs vectors, by default the one corresponding to the first parameter. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01294">1294</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;{</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  std::ostringstream sensitivity_rhs_name;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  sensitivity_rhs_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_rhs&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(sensitivity_rhs_name.str());</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a920173d7f09d6f17b4451f354b7bccac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_sensitivity_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's solution sensitivity vectors, by default the one corresponding to the first parameter. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01139">1139</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;{</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  std::ostringstream sensitivity_name;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  sensitivity_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(sensitivity_name.str());</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94373373f4ceb680968c8f8ebcac4bfd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_sensitivity_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's solution sensitivity vectors, by default the one corresponding to the first parameter. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01149">1149</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;{</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  std::ostringstream sensitivity_name;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  sensitivity_name &lt;&lt; <span class="stringliteral">&quot;sensitivity_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(sensitivity_name.str());</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53d44b82f7c06e9cabf085382888451f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::ImplicitSystem::get_system_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const reference to the system's primary matrix. </dd></dl>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l01230">1230</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01072">libMesh::System::get_matrix()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>.</p>

<p>参考自 <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a> , 以及 <a class="el" href="eigen__time__solver_8C_source.html#l00067">libMesh::EigenTimeSolver::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;{</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  libmesh_assert_equal_to(&amp;<a class="code" href="classlibMesh_1_1System.html#a9a4bc1dfdda6474974caf6d290671121">get_matrix</a>(<span class="stringliteral">&quot;System Matrix&quot;</span>), <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a9a4bc1dfdda6474974caf6d290671121"><div class="ttname"><a href="classlibMesh_1_1System.html#a9a4bc1dfdda6474974caf6d290671121">libMesh::System::get_matrix</a></div><div class="ttdeci">const SparseMatrix&lt; Number &gt; &amp; get_matrix(std::string_view mat_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01072">system.C:1072</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd6d42609f4e905614adce2cfe4ce56e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::ImplicitSystem::get_system_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the system's primary matrix. </dd></dl>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l01239">1239</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01072">libMesh::System::get_matrix()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>.</p>
<div class="fragment"><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;{</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  libmesh_assert_equal_to(&amp;<a class="code" href="classlibMesh_1_1System.html#a9a4bc1dfdda6474974caf6d290671121">get_matrix</a>(<span class="stringliteral">&quot;System Matrix&quot;</span>), <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a9a4bc1dfdda6474974caf6d290671121"><div class="ttname"><a href="classlibMesh_1_1System.html#a9a4bc1dfdda6474974caf6d290671121">libMesh::System::get_matrix</a></div><div class="ttdeci">const SparseMatrix&lt; Number &gt; &amp; get_matrix(std::string_view mat_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01072">system.C:1072</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab483909038f728046821a7974b686742"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &amp; libMesh::DifferentiableSystem::get_time_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>指向调用系统的时间求解器的指针 </dd></dl>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00409">409</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00150">libMesh::DifferentiableSystem::adjoint_solve()</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="diff__context_8C_source.html#l00032">libMesh::DiffContext::DiffContext()</a>, <a class="el" href="fem__system_8C_source.html#l01127">libMesh::FEMSystem::postprocess()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00138">libMesh::DifferentiableSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  libmesh_assert_equal_to (&amp;(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;system()), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55d927be0ae42d9d9e639626fa8cdb95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &amp; libMesh::DifferentiableSystem::get_time_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>上面方法的非const版本 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00417">417</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  libmesh_assert_equal_to (&amp;(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;system()), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2398b253d3fd1ec124777c4cbb6ba6c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const reference to this system's additional vector named <code>vec_name</code>. Access is only granted when the vector is already properly initialized. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00917">917</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="newmark__solver_8C_source.html#l00044">libMesh::NewmarkSolver::advance_timestep()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00089">libMesh::AdaptiveTimeSolver::advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00192">libMesh::UnsteadySolver::advance_timestep()</a>, <a class="el" href="system_8C_source.html#l00600">libMesh::System::compare()</a>, <a class="el" href="newmark__solver_8C_source.html#l00107">libMesh::NewmarkSolver::compute_initial_accel()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00348">libMesh::UnsteadySolver::du()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l01192">libMesh::System::get_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l01284">libMesh::System::get_sensitivity_rhs()</a>, <a class="el" href="system_8C_source.html#l01139">libMesh::System::get_sensitivity_solution()</a>, <a class="el" href="system_8C_source.html#l01224">libMesh::System::get_weighted_sensitivity_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l01166">libMesh::System::get_weighted_sensitivity_solution()</a>, <a class="el" href="newmark__system_8C_source.html#l00144">libMesh::NewmarkSystem::initial_conditions()</a>, <a class="el" href="newmark__solver_8C_source.html#l00133">libMesh::NewmarkSolver::project_initial_accel()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00098">libMesh::SecondOrderUnsteadySolver::project_initial_rate()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00060">libMesh::SecondOrderUnsteadySolver::reinit()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00104">libMesh::UnsteadySolver::reinit()</a>, <a class="el" href="file__solution__history_8C_source.html#l00116">libMesh::FileSolutionHistory::retrieve()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00269">libMesh::UnsteadySolver::retrieve_timestep()</a>, <a class="el" href="memory__history__data_8C_source.html#l00101">libMesh::MemoryHistoryData::retrieve_vectors()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00054">libMesh::TwostepTimeSolver::solve()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00361">libMesh::UnsteadySolver::update()</a>, <a class="el" href="newmark__system_8C_source.html#l00180">libMesh::NewmarkSystem::update_rhs()</a> , 以及 <a class="el" href="newmark__system_8C_source.html#l00215">libMesh::NewmarkSystem::update_u_v_a()</a>.</p>
<div class="fragment"><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">return</span> *(libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>, vec_name));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5037f203f6d58466b1af08cc8fd74772"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable reference to this system's additional vector named <code>vec_name</code>. Access is only granted when the vector is already properly initialized. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00924">924</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>
<div class="fragment"><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;{</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">return</span> *(libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>, vec_name));</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa61673ce724fff56da3e6fc2913684db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_vector </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vec_num</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const reference to this system's additional vector number <code>vec_num</code> (where the vectors are counted starting with 0). </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00931">931</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;{</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// If we don&#39;t have that many vectors, throw an error</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  libmesh_assert_less(vec_num, <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">// Otherwise return a reference to the vec_num&#39;th vector</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  std::advance(it, vec_num);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">return</span> *(it-&gt;second);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5eecf3fc4893f55bb46d783af3d85baf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_vector </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vec_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable reference to this system's additional vector number <code>vec_num</code> (where the vectors are counted starting with 0). </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00944">944</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;{</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// If we don&#39;t have that many vectors, throw an error</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  libmesh_assert_less(vec_num, <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size());</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// Otherwise return a reference to the vec_num&#39;th vector</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  std::advance(it, vec_num);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordflow">return</span> *(it-&gt;second);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a497665a8b66520f587e5e5102c94420c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_weighted_sensitivity_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's weighted sensitivity adjoint solution vectors, by default the one corresponding to the first qoi. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01224">1224</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;{</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;weighted_sensitivity_adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab363af94629536786940958b38f38010"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_weighted_sensitivity_adjoint_solution </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to one of the system's weighted sensitivity adjoint solution vectors, by default the one corresponding to the first qoi. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01234">1234</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;{</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  std::ostringstream adjoint_name;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  adjoint_name &lt;&lt; <span class="stringliteral">&quot;weighted_sensitivity_adjoint_solution&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(adjoint_name.str());</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4168ae004bc141639bb8b2b44de45cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_weighted_sensitivity_solution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the solution of the last weighted sensitivity solve </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01166">1166</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(<span class="stringliteral">&quot;weighted_sensitivity_solution&quot;</span>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac08a4777e59167b26c810c75772e974a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp; libMesh::System::get_weighted_sensitivity_solution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to the solution of the last weighted sensitivity solve </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01173">1173</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00917">libMesh::System::get_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">get_vector</a>(<span class="stringliteral">&quot;weighted_sensitivity_solution&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2398b253d3fd1ec124777c4cbb6ba6c0"><div class="ttname"><a href="classlibMesh_1_1System.html#a2398b253d3fd1ec124777c4cbb6ba6c0">libMesh::System::get_vector</a></div><div class="ttdeci">const NumericVector&lt; Number &gt; &amp; get_vector(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00917">system.C:917</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8eb2fdc8f4ca8607b8d9d4cfd21a5cf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::has_constraint_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>true if there is a user-defined constraint object attached to this object, false otherwise. Calling <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>:: <a class="el" href="classlibMesh_1_1System.html#a022401d3a4bd375a5d257e7928618f45" title="Return the user object for imposing constraints. ">get_constraint_object()</a> when there is no user-defined constraint object attached leads to either undefined behavior (dereferencing a nullptr) or an assert (in dbg mode) so you should call this function first unless you are sure there is a user-defined constraint object attached. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02129">2129</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02081">libMesh::System::_constrain_system_object</a>.</p>
<div class="fragment"><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;{</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a34a3dce9f1e27210362fd6299a321205"><div class="ttname"><a href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">libMesh::System::_constrain_system_object</a></div><div class="ttdeci">Constraint * _constrain_system_object</div><div class="ttdoc">Object that constrains the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02081">system.h:2081</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1c56fafca7cb14f7246169f6179e75d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::has_variable </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> if a variable named <code>var</code> exists in this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01549">1549</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02151">libMesh::System::_variable_numbers</a>.</p>

<p>参考自 <a class="el" href="gmv__io_8C_source.html#l02147">libMesh::GMVIO::copy_nodal_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;{</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>.count(var);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1a6d4e0b74a98701716eddec66bd7fa7"><div class="ttname"><a href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">libMesh::System::_variable_numbers</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int, std::less&lt;&gt; &gt; _variable_numbers</div><div class="ttdoc">The variable numbers corresponding to user-specified names, useful for name-based lookups...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02151">system.h:2151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5faa2b18c16acf6bd073f8b3737d423c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::have_first_order_scalar_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>检查是否有任何同时属于FEFamily::SCALAR的一阶变量。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00323">323</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00506">libMesh::DifferentiablePhysics::get_first_order_vars()</a>, <a class="el" href="diff__physics_8h_source.html#l00500">libMesh::DifferentiablePhysics::have_first_order_vars()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a5faa2b18c16acf6bd073f8b3737d423c">have_first_order_scalar_vars</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#abd963623f4c8476804162e8f84a52667">have_first_order_vars</a>())</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; var : this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#add26aa3e6bc8cda29582f16a9ad23677">get_first_order_vars</a>())</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        have_first_order_scalar_vars = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a5faa2b18c16acf6bd073f8b3737d423c">have_first_order_scalar_vars</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a5faa2b18c16acf6bd073f8b3737d423c"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a5faa2b18c16acf6bd073f8b3737d423c">libMesh::DifferentiableSystem::have_first_order_scalar_vars</a></div><div class="ttdeci">bool have_first_order_scalar_vars() const </div><div class="ttdoc">检查是否有任何同时属于FEFamily::SCALAR的一阶变量。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00323">diff_system.C:323</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_add26aa3e6bc8cda29582f16a9ad23677"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#add26aa3e6bc8cda29582f16a9ad23677">libMesh::DifferentiablePhysics::get_first_order_vars</a></div><div class="ttdeci">const std::set&lt; unsigned int &gt; &amp; get_first_order_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00506">diff_physics.h:506</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_abd963623f4c8476804162e8f84a52667"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#abd963623f4c8476804162e8f84a52667">libMesh::DifferentiablePhysics::have_first_order_vars</a></div><div class="ttdeci">bool have_first_order_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00500">diff_physics.h:500</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd963623f4c8476804162e8f84a52667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::have_first_order_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00500">500</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00548">libMesh::DifferentiablePhysics::_first_order_vars</a>.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00323">libMesh::DifferentiableSystem::have_first_order_scalar_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  { <span class="keywordflow">return</span> !<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">_first_order_vars</a>.empty(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a73bc59adf0ae024a9216bdc0db2d5b2a"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">libMesh::DifferentiablePhysics::_first_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _first_order_vars</div><div class="ttdoc">Variable indices for those variables that are first order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00548">diff_physics.h:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1366c98bb1cd65480a8aefcede9aa095"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::have_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> if this <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> has a matrix associated with the given name, <code>false</code> otherwise. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01860">1860</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>

<p>参考自 <a class="el" href="eigen__time__solver_8C_source.html#l00055">libMesh::EigenTimeSolver::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.count(mat_name); };</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfc539edb426aa8d8367444896582253"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::have_second_order_scalar_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>检查是否有任何同时属于FEFamily::SCALAR的二阶变量。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00335">335</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00519">libMesh::DifferentiablePhysics::get_second_order_vars()</a>, <a class="el" href="diff__physics_8h_source.html#l00513">libMesh::DifferentiablePhysics::have_second_order_vars()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00085">libMesh::EulerSolver::nonlocal_residual()</a> , 以及 <a class="el" href="euler2__solver_8C_source.html#l00086">libMesh::Euler2Solver::nonlocal_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#adfc539edb426aa8d8367444896582253">have_second_order_scalar_vars</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#aecc9bec59252586a19aa7334fd2e54aa">have_second_order_vars</a>())</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; var : this-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a814c1bfb614273e3c449daa52c4892c0">get_second_order_vars</a>())</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        have_second_order_scalar_vars = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#adfc539edb426aa8d8367444896582253">have_second_order_scalar_vars</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a814c1bfb614273e3c449daa52c4892c0"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a814c1bfb614273e3c449daa52c4892c0">libMesh::DifferentiablePhysics::get_second_order_vars</a></div><div class="ttdeci">const std::set&lt; unsigned int &gt; &amp; get_second_order_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00519">diff_physics.h:519</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_adfc539edb426aa8d8367444896582253"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#adfc539edb426aa8d8367444896582253">libMesh::DifferentiableSystem::have_second_order_scalar_vars</a></div><div class="ttdeci">bool have_second_order_scalar_vars() const </div><div class="ttdoc">检查是否有任何同时属于FEFamily::SCALAR的二阶变量。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00335">diff_system.C:335</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_aecc9bec59252586a19aa7334fd2e54aa"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#aecc9bec59252586a19aa7334fd2e54aa">libMesh::DifferentiablePhysics::have_second_order_vars</a></div><div class="ttdeci">bool have_second_order_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00513">diff_physics.h:513</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecc9bec59252586a19aa7334fd2e54aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::have_second_order_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00513">513</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00553">libMesh::DifferentiablePhysics::_second_order_vars</a>.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00335">libMesh::DifferentiableSystem::have_second_order_scalar_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  { <span class="keywordflow">return</span> !<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">_second_order_vars</a>.empty(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ab3139300c2d5ae16077aa17ff4079384"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">libMesh::DifferentiablePhysics::_second_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _second_order_vars</div><div class="ttdoc">Variable indices for those variables that are second order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00553">diff_physics.h:553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ced35ea1ff00cc42a9580ec1d809093"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::have_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> if this <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> has a vector associated with the given name, <code>false</code> otherwise. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02469">2469</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>
<div class="fragment"><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;{</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.count(vec_name));</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a592a8b8f5384557b2992e870d0513ffd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool&amp; libMesh::System::hide_output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable reference to a boolean that determines if this system can be written to file or not. If set to <code>true</code>, then <code><a class="el" href="classlibMesh_1_1EquationSystems.html#af3bb9742eb8b6b6cb64ef63fb59b17dd" title="Write the systems to disk using the XDR data format. ">EquationSystems::write</a></code> will ignore this system. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01790">1790</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02248">libMesh::System::_hide_output</a>.</p>
<div class="fragment"><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a0cc22f075e9a6366d526f3882e56b50b">_hide_output</a>; }</div>
<div class="ttc" id="classlibMesh_1_1System_html_a0cc22f075e9a6366d526f3882e56b50b"><div class="ttname"><a href="classlibMesh_1_1System.html#a0cc22f075e9a6366d526f3882e56b50b">libMesh::System::_hide_output</a></div><div class="ttdeci">bool _hide_output</div><div class="ttdoc">Are we allowed to write this system to file? If _hide_output is true, then EquationSystems::write wil...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02248">system.h:2248</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51038079e055d9b42f0a591bb59c3679"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::identify_variable_groups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> when <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> structures should be automatically identified, <code>false</code> otherwise. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02445">2445</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02216">libMesh::System::_identify_variable_groups</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a> , 以及 <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;{</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a1fd6bbf22307728d41e46f14b64e3a4f">_identify_variable_groups</a>;</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1fd6bbf22307728d41e46f14b64e3a4f"><div class="ttname"><a href="classlibMesh_1_1System.html#a1fd6bbf22307728d41e46f14b64e3a4f">libMesh::System::_identify_variable_groups</a></div><div class="ttdeci">bool _identify_variable_groups</div><div class="ttdoc">true when VariableGroup structures should be automatically identified, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02216">system.h:2216</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5994a6460722b6b7e947cebef3e5c9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::identify_variable_groups </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>ivg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Toggle automatic <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> identification. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02453">2453</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02216">libMesh::System::_identify_variable_groups</a>.</p>
<div class="fragment"><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;{</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a1fd6bbf22307728d41e46f14b64e3a4f">_identify_variable_groups</a> = ivg;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1fd6bbf22307728d41e46f14b64e3a4f"><div class="ttname"><a href="classlibMesh_1_1System.html#a1fd6bbf22307728d41e46f14b64e3a4f">libMesh::System::_identify_variable_groups</a></div><div class="ttdeci">bool _identify_variable_groups</div><div class="ttdoc">true when VariableGroup structures should be automatically identified, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02216">system.h:2216</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0cd2f1fbd46c66dade1e750436ee7ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ReferenceCounter::increment_constructor_count </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the construction counter. </p>
<p>Should be called in the constructor of any derived class that will be reference counted. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00183">183</a> 行定义.</p>

<p>参考 <a class="el" href="libmesh__common_8h_source.html#l00101">libMesh::err</a>, <a class="el" href="ostream__proxy_8h_source.html#l00217">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::get()</a>, <a class="el" href="elem__quality_8C_source.html#l00042">libMesh::Quality::name()</a> , 以及 <a class="el" href="threads_8C_source.html#l00030">libMesh::Threads::spin_mtx</a>.</p>

<p>参考自 <a class="el" href="reference__counted__object_8h_source.html#l00074">libMesh::ReferenceCountedObject&lt; RBParametrized &gt;::ReferenceCountedObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  libmesh_try</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    Threads::spin_mutex::scoped_lock lock(<a class="code" href="namespacelibMesh_1_1Threads.html#a29932e1987dacf7e89b1b27bb49bf0c9">Threads::spin_mtx</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    std::pair&lt;unsigned int, unsigned int&gt; &amp; p = <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">_counts</a>[<a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a>];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    p.first++;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  libmesh_catch (...)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">auto</span> stream = <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#ae2d18b50fc63d23e47d46fcee630b4f5">get</a>();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    stream-&gt;exceptions(stream-&gt;goodbit); <span class="comment">// stream must not throw</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a> &lt;&lt; <span class="stringliteral">&quot;Encountered unrecoverable error while calling &quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;ReferenceCounter::increment_constructor_count() &quot;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;for a(n) &quot;</span> &lt;&lt; <a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a> &lt;&lt; <span class="stringliteral">&quot; object.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    std::terminate();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_1_1Quality_html_a1d3617b89c15ade245910fc9a4ddfa34"><div class="ttname"><a href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">libMesh::Quality::name</a></div><div class="ttdeci">std::string name(const ElemQuality q)</div><div class="ttdoc">This function returns a string containing some name for q. </div><div class="ttdef"><b>Definition:</b> <a href="elem__quality_8C_source.html#l00042">elem_quality.C:42</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a74e5bc8a72d210b3d87b0221b1f69db1"><div class="ttname"><a href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a></div><div class="ttdeci">OStreamProxy err(std::cerr)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00101">libmesh_common.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a7c913252d05560f8bc7c75a63547c4c3"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">libMesh::ReferenceCounter::_counts</a></div><div class="ttdeci">static Counts _counts</div><div class="ttdoc">Actually holds the data. </div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00124">reference_counter.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_ae2d18b50fc63d23e47d46fcee630b4f5"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#ae2d18b50fc63d23e47d46fcee630b4f5">libMesh::BasicOStreamProxy::get</a></div><div class="ttdeci">streamT * get()</div><div class="ttdoc">Rather than implement every ostream/ios/ios_base function, we&amp;#39;ll be lazy and make esoteric uses go th...</div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00217">ostream_proxy.h:217</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a29932e1987dacf7e89b1b27bb49bf0c9"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a29932e1987dacf7e89b1b27bb49bf0c9">libMesh::Threads::spin_mtx</a></div><div class="ttdeci">spin_mutex spin_mtx</div><div class="ttdoc">A convenient spin mutex object which can be used for obtaining locks. </div><div class="ttdef"><b>Definition:</b> <a href="threads_8C_source.html#l00030">threads.C:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a769ddb2e2299db1aafcdfb33dfb830d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ReferenceCounter::increment_destructor_count </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">noexcept</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the destruction counter. </p>
<p>Should be called in the destructor of any derived class that will be reference counted. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00207">207</a> 行定义.</p>

<p>参考 <a class="el" href="libmesh__common_8h_source.html#l00101">libMesh::err</a>, <a class="el" href="ostream__proxy_8h_source.html#l00217">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::get()</a>, <a class="el" href="elem__quality_8C_source.html#l00042">libMesh::Quality::name()</a> , 以及 <a class="el" href="threads_8C_source.html#l00030">libMesh::Threads::spin_mtx</a>.</p>

<p>参考自 <a class="el" href="reference__counted__object_8h_source.html#l00127">libMesh::ReferenceCountedObject&lt; RBParametrized &gt;::~ReferenceCountedObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  libmesh_try</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    Threads::spin_mutex::scoped_lock lock(<a class="code" href="namespacelibMesh_1_1Threads.html#a29932e1987dacf7e89b1b27bb49bf0c9">Threads::spin_mtx</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    std::pair&lt;unsigned int, unsigned int&gt; &amp; p = <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">_counts</a>[<a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a>];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    p.second++;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  libmesh_catch (...)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">auto</span> stream = <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#ae2d18b50fc63d23e47d46fcee630b4f5">get</a>();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    stream-&gt;exceptions(stream-&gt;goodbit); <span class="comment">// stream must not throw</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a> &lt;&lt; <span class="stringliteral">&quot;Encountered unrecoverable error while calling &quot;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;ReferenceCounter::increment_destructor_count() &quot;</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;for a(n) &quot;</span> &lt;&lt; <a class="code" href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">name</a> &lt;&lt; <span class="stringliteral">&quot; object.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    std::terminate();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_1_1Quality_html_a1d3617b89c15ade245910fc9a4ddfa34"><div class="ttname"><a href="namespacelibMesh_1_1Quality.html#a1d3617b89c15ade245910fc9a4ddfa34">libMesh::Quality::name</a></div><div class="ttdeci">std::string name(const ElemQuality q)</div><div class="ttdoc">This function returns a string containing some name for q. </div><div class="ttdef"><b>Definition:</b> <a href="elem__quality_8C_source.html#l00042">elem_quality.C:42</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a74e5bc8a72d210b3d87b0221b1f69db1"><div class="ttname"><a href="namespacelibMesh.html#a74e5bc8a72d210b3d87b0221b1f69db1">libMesh::err</a></div><div class="ttdeci">OStreamProxy err(std::cerr)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00101">libmesh_common.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a7c913252d05560f8bc7c75a63547c4c3"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a7c913252d05560f8bc7c75a63547c4c3">libMesh::ReferenceCounter::_counts</a></div><div class="ttdeci">static Counts _counts</div><div class="ttdoc">Actually holds the data. </div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00124">reference_counter.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_ae2d18b50fc63d23e47d46fcee630b4f5"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#ae2d18b50fc63d23e47d46fcee630b4f5">libMesh::BasicOStreamProxy::get</a></div><div class="ttdeci">streamT * get()</div><div class="ttdoc">Rather than implement every ostream/ios/ios_base function, we&amp;#39;ll be lazy and make esoteric uses go th...</div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00217">ostream_proxy.h:217</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a29932e1987dacf7e89b1b27bb49bf0c9"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a29932e1987dacf7e89b1b27bb49bf0c9">libMesh::Threads::spin_mtx</a></div><div class="ttdeci">spin_mutex spin_mtx</div><div class="ttdoc">A convenient spin mutex object which can be used for obtaining locks. </div><div class="ttdef"><b>Definition:</b> <a href="threads_8C_source.html#l00030">threads.C:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9cbe27bf56eae7baea5c397fa88c09a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes degrees of freedom on the current mesh. </p>
<p>Sets the </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00188">188</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02204">libMesh::System::_basic_system_only</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="system_8h_source.html#l02333">libMesh::System::is_initialized()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a> , 以及 <a class="el" href="system_8C_source.html#l02205">libMesh::System::user_initialization()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// Calling init() twice on the same system currently works evil</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// magic, whether done directly or via EquationSystems::read()</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">is_initialized</a>());</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// First initialize any required data:</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// either only the basic System data</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">_basic_system_only</a>)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">System::init_data</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// or all the derived class&#39; data too</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">init_data</a>();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// If no variables have been added to this system</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// don&#39;t do anything</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>())</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// Then call the user-provided initialization function</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a5f7a3a1e154fe61af97e966f3ab34ae2">user_initialization</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6a87501240eef1a0786b1d0385ac0711"><div class="ttname"><a href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">libMesh::System::_basic_system_only</a></div><div class="ttdeci">bool _basic_system_only</div><div class="ttdoc">Holds true if the components of more advanced system types (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02204">system.h:2204</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa82956a48e464a20f18426601ad511d4"><div class="ttname"><a href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">libMesh::System::init_data</a></div><div class="ttdeci">virtual void init_data()</div><div class="ttdoc">Initializes the data for the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00215">system.C:215</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a5f7a3a1e154fe61af97e966f3ab34ae2"><div class="ttname"><a href="classlibMesh_1_1System.html#a5f7a3a1e154fe61af97e966f3ab34ae2">libMesh::System::user_initialization</a></div><div class="ttdeci">virtual void user_initialization()</div><div class="ttdoc">Calls user&amp;#39;s attached initialization function, or is overridden by the user in derived classes...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02205">system.C:2205</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a87af74bbfb7181bbab50f3b95b1f1f31"><div class="ttname"><a href="classlibMesh_1_1System.html#a87af74bbfb7181bbab50f3b95b1f1f31">libMesh::System::is_initialized</a></div><div class="ttdeci">bool is_initialized()</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02333">system.h:2333</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30e9242b511c664a3c93afb61d927d7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::init_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a44062f48afbb6ad9969500eb0f8fc90e">libMesh::DifferentiablePhysics</a> .</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01370">1370</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00254">libMesh::DifferentiableSystem::deltat</a>, <a class="el" href="fem__context_8h_source.html#l00951">libMesh::FEMContext::elem_dimensions()</a>, <a class="el" href="fe__interface_8C_source.html#l02847">libMesh::FEInterface::field_type()</a>, <a class="el" href="fem__context_8h_source.html#l00277">libMesh::FEMContext::get_element_fe()</a>, <a class="el" href="fe__abstract_8h_source.html#l00295">libMesh::FEAbstract::get_JxW()</a>, <a class="el" href="fe__base_8h_source.html#l00207">libMesh::FEGenericBase&lt; T &gt;::get_phi()</a>, <a class="el" href="diff__system_8h_source.html#l00162">libMesh::DifferentiableSystem::get_physics()</a>, <a class="el" href="diff__physics_8h_source.html#l00260">libMesh::DifferentiablePhysics::is_time_evolving()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="diff__context_8C_source.html#l00109">libMesh::DiffContext::set_deltat_pointer()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00099">libMesh::TYPE_SCALAR</a>, <a class="el" href="enum__fe__family_8h_source.html#l00100">libMesh::TYPE_VECTOR</a> , 以及 <a class="el" href="system_8h_source.html#l02427">libMesh::System::variable_type()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01087">libMesh::FEMSystem::mesh_position_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">// Parent::init_context(c);  // may be a good idea in derived classes</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">// Although we do this in DiffSystem::build_context() and</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// FEMSystem::build_context() as well, we do it here just to be</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="comment">// extra sure that the deltat pointer gets set.  Since the</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">// intended behavior is for classes derived from FEMSystem to</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// call Parent::init_context() in their own init_context()</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="comment">// overloads, we can ensure that those classes get the correct</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">// deltat pointers even if they have different build_context()</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="comment">// overloads.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  c.<a class="code" href="classlibMesh_1_1DiffContext.html#aa4ede669bc502925b1022a6d8a106cdc">set_deltat_pointer</a> ( &amp;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2b792f8f71393719e56312995d863b04">deltat</a> );</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp; context = cast_ref&lt;FEMContext &amp;&gt;(c);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="comment">// Make sure we&#39;re prepared to do mass integration</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a1de82ee97ddefef223df2ea4a62b8604">get_physics</a>()-&gt;<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab8dad6ea83e0f4df29baab44f0f10893">is_time_evolving</a>(var))</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="comment">// Request shape functions based on FEType</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="classlibMesh_1_1FEInterface.html#a5f39b00497c7673cf1f477c620c6bb46">FEInterface::field_type</a>( this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(var) ) )</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;          {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;          <span class="keywordflow">case</span>( <a class="code" href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760">TYPE_SCALAR</a> ):</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;              <a class="code" href="classlibMesh_1_1FEGenericBase.html">FEBase</a> * elem_fe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;              <span class="keywordflow">for</span> (<span class="keyword">auto</span> dim : context.<a class="code" href="classlibMesh_1_1FEMContext.html#a24ff218c8b0f67ad1c533f30436c167b">elem_dimensions</a>())</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                  context.<a class="code" href="classlibMesh_1_1FEMContext.html#a279f4d71ead25e062370f1b5a98f1cd8">get_element_fe</a>(var, elem_fe, dim);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                  elem_fe-&gt;<a class="code" href="classlibMesh_1_1FEAbstract.html#a3e085b07b58976bd806b7111465ae2f9">get_JxW</a>();</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                  elem_fe-&gt;<a class="code" href="classlibMesh_1_1FEGenericBase.html#ae95202ffc18d4637f142e89a40c23489">get_phi</a>();</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;          <span class="keywordflow">case</span>( <a class="code" href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1ad826e2ea6a9b3e392e353111c7080170">TYPE_VECTOR</a> ):</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;              <a class="code" href="classlibMesh_1_1FEGenericBase.html">FEGenericBase&lt;RealGradient&gt;</a> * elem_fe = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;              <span class="keywordflow">for</span> (<span class="keyword">auto</span> dim : context.<a class="code" href="classlibMesh_1_1FEMContext.html#a24ff218c8b0f67ad1c533f30436c167b">elem_dimensions</a>())</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                  context.<a class="code" href="classlibMesh_1_1FEMContext.html#a279f4d71ead25e062370f1b5a98f1cd8">get_element_fe</a>(var, elem_fe, dim);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                  elem_fe-&gt;<a class="code" href="classlibMesh_1_1FEAbstract.html#a3e085b07b58976bd806b7111465ae2f9">get_JxW</a>();</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                  elem_fe-&gt;<a class="code" href="classlibMesh_1_1FEGenericBase.html#ae95202ffc18d4637f142e89a40c23489">get_phi</a>();</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            libmesh_error_msg(<span class="stringliteral">&quot;Unrecognized field type!&quot;</span>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;          }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760"><div class="ttname"><a href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760">libMesh::TYPE_SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00099">enum_fe_family.h:99</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEInterface_html_a5f39b00497c7673cf1f477c620c6bb46"><div class="ttname"><a href="classlibMesh_1_1FEInterface.html#a5f39b00497c7673cf1f477c620c6bb46">libMesh::FEInterface::field_type</a></div><div class="ttdeci">static FEFieldType field_type(const FEType &amp;fe_type)</div><div class="ttdef"><b>Definition:</b> <a href="fe__interface_8C_source.html#l02847">fe_interface.C:2847</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEGenericBase_html_ae95202ffc18d4637f142e89a40c23489"><div class="ttname"><a href="classlibMesh_1_1FEGenericBase.html#ae95202ffc18d4637f142e89a40c23489">libMesh::FEGenericBase::get_phi</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; OutputShape &gt; &gt; &amp; get_phi() const </div><div class="ttdef"><b>Definition:</b> <a href="fe__base_8h_source.html#l00207">fe_base.h:207</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a279f4d71ead25e062370f1b5a98f1cd8"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a279f4d71ead25e062370f1b5a98f1cd8">libMesh::FEMContext::get_element_fe</a></div><div class="ttdeci">void get_element_fe(unsigned int var, FEGenericBase&lt; OutputShape &gt; *&amp;fe) const </div><div class="ttdoc">Accessor for interior finite element object for variable var for the largest dimension in the mesh...</div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00277">fem_context.h:277</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ab8dad6ea83e0f4df29baab44f0f10893"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ab8dad6ea83e0f4df29baab44f0f10893">libMesh::DifferentiablePhysics::is_time_evolving</a></div><div class="ttdeci">bool is_time_evolving(unsigned int var) const </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00260">diff_physics.h:260</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab321ab954fa1284069a647b311ff6d17"><div class="ttname"><a href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">libMesh::System::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02427">system.h:2427</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a24ff218c8b0f67ad1c533f30436c167b"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a24ff218c8b0f67ad1c533f30436c167b">libMesh::FEMContext::elem_dimensions</a></div><div class="ttdeci">const std::set&lt; unsigned char &gt; &amp; elem_dimensions() const </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00951">fem_context.h:951</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEAbstract_html_a3e085b07b58976bd806b7111465ae2f9"><div class="ttname"><a href="classlibMesh_1_1FEAbstract.html#a3e085b07b58976bd806b7111465ae2f9">libMesh::FEAbstract::get_JxW</a></div><div class="ttdeci">virtual_for_inffe const std::vector&lt; Real &gt; &amp; get_JxW() const </div><div class="ttdef"><b>Definition:</b> <a href="fe__abstract_8h_source.html#l00295">fe_abstract.h:295</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2b792f8f71393719e56312995d863b04"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2b792f8f71393719e56312995d863b04">libMesh::DifferentiableSystem::deltat</a></div><div class="ttdeci">Real deltat</div><div class="ttdoc">对于时变问题，这是将解决方案在时间上推进deltat的量。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00254">diff_system.h:254</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html">libMesh::FEMContext</a></div><div class="ttdoc">This class provides all data required for a physics package (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00062">fem_context.h:62</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a1de82ee97ddefef223df2ea4a62b8604"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a1de82ee97ddefef223df2ea4a62b8604">libMesh::DifferentiableSystem::get_physics</a></div><div class="ttdeci">const DifferentiablePhysics * get_physics() const </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00162">diff_system.h:162</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_aa4ede669bc502925b1022a6d8a106cdc"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#aa4ede669bc502925b1022a6d8a106cdc">libMesh::DiffContext::set_deltat_pointer</a></div><div class="ttdeci">void set_deltat_pointer(Real *dt)</div><div class="ttdoc">将此类的_deltat成员指向在创建DiffSystem的类中存储的时间步值， 例如DiffSystem::deltat。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8C_source.html#l00109">diff_context.C:109</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a354ba8d7698a213772f215eab6b08fc1ad826e2ea6a9b3e392e353111c7080170"><div class="ttname"><a href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1ad826e2ea6a9b3e392e353111c7080170">libMesh::TYPE_VECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00100">enum_fe_family.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEGenericBase_html"><div class="ttname"><a href="classlibMesh_1_1FEGenericBase.html">libMesh::FEGenericBase</a></div><div class="ttdoc">This class forms the foundation from which generic finite elements may be derived. </div><div class="ttdef"><b>Definition:</b> <a href="exact__error__estimator_8h_source.html#l00039">exact_error_estimator.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc9711ff6ea71a2a01fc61189f2c773a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::init_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化与系统关联的成员数据字段，以便例如<code><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec" title="准备matrix和rhs进行矩阵装配。用户不应重新实现此功能。 注意，在某些情况下，仅在装配期间使用  current_local_solution ， 因此，如果solution在没有调用update...">assemble()</a>可以使用。</code> </p>

<p>重载 <a class="el" href="classlibMesh_1_1FEMSystem.html#a0f83ec573a5c83f9f5f71210d995a393">libMesh::FEMSystem</a> .</p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00091">91</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="continuation__system_8h_source.html#l00307">du_ds</a>, <a class="el" href="fem__system_8C_source.html#l00873">libMesh::FEMSystem::init_data()</a>, <a class="el" href="continuation__system_8h_source.html#l00312">previous_du_ds</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a>, <a class="el" href="continuation__system_8h_source.html#l00322">y</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00328">y_old</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Add a vector which stores the tangent &quot;du/ds&quot; to the system and save its pointer.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a> = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;du_ds&quot;</span>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Add a vector which stores the tangent &quot;du/ds&quot; to the system and save its pointer.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">previous_du_ds</a> = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;previous_du_ds&quot;</span>));</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">// Add a vector to keep track of the previous nonlinear solution</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="comment">// at the old value of lambda.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a> = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;previous_u&quot;</span>));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Add a vector to keep track of the temporary solution &quot;y&quot; of Ay=G_{\lambda}.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a> = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;y&quot;</span>));</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// Add a vector to keep track of the &quot;old value&quot; of &quot;y&quot; which is the solution of Ay=G_{\lambda}.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a> = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;y_old&quot;</span>));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Add a vector to keep track of the temporary solution &quot;z&quot; of Az=-G.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  z = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;z&quot;</span>));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// Add a vector to keep track of the Newton update during the constrained PDE solves.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  delta_u = &amp;(<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(<span class="stringliteral">&quot;delta_u&quot;</span>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Call the Parent&#39;s initialization routine.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classlibMesh_1_1FEMSystem.html#a0f83ec573a5c83f9f5f71210d995a393">Parent::init_data</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ae0f4570622a491f4879271fb6fb6ad08"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">libMesh::ContinuationSystem::previous_du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_du_ds</div><div class="ttdoc">从上一个解中得到的du_ds的值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00312">continuation_system.h:312</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a542ed3d4e4dbd55f3d4c840c625f9307"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">libMesh::ContinuationSystem::du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * du_ds</div><div class="ttdoc">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00307">continuation_system.h:307</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a0f83ec573a5c83f9f5f71210d995a393"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a0f83ec573a5c83f9f5f71210d995a393">libMesh::FEMSystem::init_data</a></div><div class="ttdeci">virtual void init_data() override</div><div class="ttdoc">Initializes the member data fields associated with the system, so that, e.g., assemble() may be used...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l00873">fem_system.C:873</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_afde572b48fb8abf26c11e45df3de13c8"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">libMesh::ContinuationSystem::y_old</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y_old</div><div class="ttdoc">临时向量&amp;quot;y_old&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00328">continuation_system.h:328</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_af820547d41ab966362c384649416490b"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">libMesh::ContinuationSystem::y</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y</div><div class="ttdoc">临时向量&amp;quot;y&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00322">continuation_system.h:322</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa233bc3546b1197838355908534e46b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::init_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the matrices associated with this system. </p>

<p>被 <a class="el" href="classlibMesh_1_1EigenSystem.html#aa880a5c1f358e4d8b314609cfc60f07e">libMesh::EigenSystem</a> 重载.</p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00325">325</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>, <a class="el" href="system_8h_source.html#l02191">libMesh::System::_matrices_initialized</a>, <a class="el" href="system_8h_source.html#l02186">libMesh::System::_matrix_types</a>, <a class="el" href="dof__map_8C_source.html#l00278">libMesh::DofMap::attach_matrix()</a>, <a class="el" href="dof__map_8C_source.html#l01816">libMesh::DofMap::compute_sparsity()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="sparse__matrix_8h_source.html#l00102">libMesh::SparseMatrix&lt; T &gt;::initialized()</a>, <a class="el" href="dof__map_8C_source.html#l00333">libMesh::DofMap::is_attached()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a> , 以及 <a class="el" href="eigen__system_8C_source.html#l00158">libMesh::EigenSystem::init_matrices()</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// No matrices to init</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.empty())</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">// any future matrices to be added will need their own</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">// initialization</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">_matrices_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// Check for quick return in case the first matrix</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// (and by extension all the matrices) has already</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// been initialized</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.begin()-&gt;second-&gt;initialized())</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">_matrices_initialized</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">_matrices_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Tell the matrices about the dof map, and vice versa</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; pr : <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">SparseMatrix&lt;Number&gt;</a> &amp; m = *(pr.second);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (!m.initialized());</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">// We want to allow repeated init() on systems, but we don&#39;t</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">// want to attach the same matrix to the DofMap twice</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a42a8ae63f7d7c5cfeb14b93bb78a3a3f">is_attached</a>(m))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#aa10200782a0f8fe0c4d3f7bdf10cedc6">attach_matrix</a>(m);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// Compute the sparsity pattern for the current</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// mesh and DOF distribution.  This also updates</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// additional matrices, \p DofMap now knows them</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a49379ce3a542eab41a8f8e44d0f154c2">compute_sparsity</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>());</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Initialize matrices and set to zero</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; pr : _matrices)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      pr.second-&gt;init(<a class="code" href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">_matrix_types</a>[pr.first]);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      pr.second-&gt;zero();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a42a8ae63f7d7c5cfeb14b93bb78a3a3f"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a42a8ae63f7d7c5cfeb14b93bb78a3a3f">libMesh::DofMap::is_attached</a></div><div class="ttdeci">bool is_attached(SparseMatrix&lt; Number &gt; &amp;matrix)</div><div class="ttdoc">Matrices should not be attached more than once. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l00333">dof_map.C:333</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_aa10200782a0f8fe0c4d3f7bdf10cedc6"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#aa10200782a0f8fe0c4d3f7bdf10cedc6">libMesh::DofMap::attach_matrix</a></div><div class="ttdeci">void attach_matrix(SparseMatrix&lt; Number &gt; &amp;matrix)</div><div class="ttdoc">Additional matrices may be attached to this DofMap. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l00278">dof_map.C:278</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae4c22aa846ed3f7ca568fe594837f306"><div class="ttname"><a href="classlibMesh_1_1System.html#ae4c22aa846ed3f7ca568fe594837f306">libMesh::System::_matrix_types</a></div><div class="ttdeci">std::map&lt; std::string, ParallelType, std::less&lt;&gt; &gt; _matrix_types</div><div class="ttdoc">Holds the types of the matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02186">system.h:2186</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a73bffc27dc8a3544d50d34b763ca198b"><div class="ttname"><a href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">libMesh::SparseMatrix&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT SparseMatrix&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00351">sparse_matrix.C:351</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa8d921f604b3968178792c1bf44006ea"><div class="ttname"><a href="classlibMesh_1_1System.html#aa8d921f604b3968178792c1bf44006ea">libMesh::System::_matrices_initialized</a></div><div class="ttdeci">bool _matrices_initialized</div><div class="ttdoc">false when additional matrices being added require initialization, true otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02191">system.h:2191</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a49379ce3a542eab41a8f8e44d0f154c2"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a49379ce3a542eab41a8f8e44d0f154c2">libMesh::DofMap::compute_sparsity</a></div><div class="ttdeci">void compute_sparsity(const MeshBase &amp;)</div><div class="ttdoc">Computes the sparsity pattern for the matrices corresponding to proc_id and sends that data to Linear...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l01816">dof_map.C:1816</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf2e3f22e33e5030bb6a32f0804e649d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiablePhysics::init_physics </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize any data structures associated with the physics. </p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00094">libMesh::DifferentiableSystem::init_data()</a>.</p>

</div>
</div>
<a class="anchor" id="a11d34a15d98a5e18cc6dd258e37dd792"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::init_qoi </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize system qoi. </p>
<p>This version of the function required direct vector access, and is now deprecated. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00072">72</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08d54ae2f901e6b296caf5c2e9d14b25"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableQoI::init_qoi </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-virtual, to try to help deprecated user code catch this change at compile time (if they specified override) </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00078">78</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae286923dfaf97ea4cf7a6e5012891b31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::init_qoi_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize system qoi. </p>
<p>Often this will just call sys.init_qois(some_desired_number_of_qois) </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00085">85</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b01bc6397bd45d31c7a8956c5285d72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::init_qois </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_qois</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessors for qoi and qoi_error_estimates vectors. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02279">2279</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a> , 以及 <a class="el" href="system_8h_source.html#l01619">libMesh::System::qoi_error_estimates</a>.</p>
<div class="fragment"><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;{</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.resize(<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>.resize(<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9e1ccd968b663b1e1e1632b04f355230"><div class="ttname"><a href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">libMesh::System::qoi_error_estimates</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi_error_estimates</div><div class="ttdoc">Vector to hold error estimates for qois, either from a steady state calculation, or from a single uns...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01619">system.h:1619</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5130a85829d1f6e7bb63373a3efe0a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::initialize_tangent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在开始弧长延拓之前，需要至少2个先前的解决方案（solution和u_previous都应填充有有意义的值）。 需要初始化切线向量。这只需要调用一次。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00132">132</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">libMesh::NumericVector&lt; T &gt;::add()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00307">du_ds</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector&lt; T &gt;::l2_norm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="continuation__system_8h_source.html#l00149">old_continuation_parameter</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">libMesh::NumericVector&lt; T &gt;::scale()</a>, <a class="el" href="continuation__system_8C_source.html#l01065">set_Theta()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>, <a class="el" href="type__vector_8h_source.html#l00088">std::sqrt()</a>, <a class="el" href="continuation__system_8h_source.html#l00164">Theta</a>, <a class="el" href="continuation__system_8h_source.html#l00169">Theta_LOCA</a>, <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00322">y</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Be sure the tangent was not already initialized.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (!tangent_initialized);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// Compute delta_s_zero, the initial arclength traveled during the</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// first step.  Here we assume that previous_u and lambda_old store</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// the previous solution and control parameter.  You may need to</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// read in an old solution (or solve the non-continuation system)</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// first and call save_current_solution() before getting here.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">// 1.) Compute delta_s_zero as ||u|| - ||u_old|| + ...</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// Compute norms of the current and previous solutions</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">//   Real norm_u          = solution-&gt;l2_norm();</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">//   Real norm_previous_u = previous_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;norm_u=&quot; &lt;&lt; norm_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;norm_previous_u=&quot; &lt;&lt; norm_previous_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">//   if (norm_u == norm_previous_u)</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">//       libMesh::err &lt;&lt; &quot;Warning, it appears u and previous_u are the &quot;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">//   &lt;&lt; &quot;same, are you sure this is correct?&quot;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//   &lt;&lt; &quot;It&#39;s possible you forgot to set one or the other...&quot;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">//   &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">//   Real delta_s_zero = std::sqrt(</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">//   (norm_u - norm_previous_u)*(norm_u - norm_previous_u) +</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">//   (*continuation_parameter-old_continuation_parameter)*</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">//   (*continuation_parameter-old_continuation_parameter)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">//   );</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">//   // 2.) Compute delta_s_zero as ||u -u_old|| + ...</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1., *previous_u);</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">//   Real norm_delta_u = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">//   Real norm_u          = solution-&gt;l2_norm();</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">//   Real norm_previous_u = previous_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">//   // Scale norm_delta_u by the bigger of either norm_u or norm_previous_u</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">//   norm_delta_u /= std::max(norm_u, norm_previous_u);</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;norm_u=&quot; &lt;&lt; norm_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;norm_previous_u=&quot; &lt;&lt; norm_previous_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">//       //libMesh::out &lt;&lt; &quot;norm_delta_u=&quot; &lt;&lt; norm_delta_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;norm_delta_u/max(|u|,|u_old|)=&quot; &lt;&lt; norm_delta_u &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;|norm_u-norm_previous_u|=&quot; &lt;&lt; std::abs(norm_u - norm_previous_u) &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">//   const Real dlambda = *continuation_parameter-old_continuation_parameter;</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">//     libMesh::out &lt;&lt; &quot;dlambda=&quot; &lt;&lt; dlambda &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">//   Real delta_s_zero = std::sqrt(</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">//   (norm_delta_u*norm_delta_u) +</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">//   (dlambda*dlambda)</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">//   );</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">//     libMesh::out &lt;&lt; &quot;delta_s_zero=&quot; &lt;&lt; delta_s_zero &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// 1.) + 2.)</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">//   // Now approximate the initial tangent d(lambda)/ds</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">//   this-&gt;dlambda_ds = (*continuation_parameter-old_continuation_parameter) / delta_s_zero;</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">//   // We can also approximate the deriv. wrt s by finite differences:</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">//   // du/ds = (u1 - u0) / delta_s_zero.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">//   // FIXME: Use delta_u from above if we decide to keep that method.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">//   *du_ds = *solution;</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">//   du_ds-&gt;add(-1., *previous_u);</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">//   du_ds-&gt;scale(1./delta_s_zero);</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">//   du_ds-&gt;close();</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// 3.) Treating (u-previous_u)/(lambda - lambda_old) as an approximation to du/d(lambda),</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// we follow the same technique as Carnes and Shadid.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">//   const Real dlambda = *continuation_parameter-old_continuation_parameter;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">//   libmesh_assert_greater (dlambda, 0.);</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">//   // Use delta_u for temporary calculation of du/d(lambda)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1., *previous_u);</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">//   delta_u-&gt;scale(1. / dlambda);</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">//   // Determine initial normalization parameter</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">//   const Real solution_size = std::max(solution-&gt;l2_norm(), previous_u-&gt;l2_norm());</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">//   if (solution_size &gt; 1.)</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">//       Theta = 1./solution_size;</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">//       if (!quiet)</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// libMesh::out &lt;&lt; &quot;Setting Normalization Parameter Theta=&quot; &lt;&lt; Theta &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">//   // Compute d(lambda)/ds</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">//   // The correct sign of d(lambda)/ds should be positive, since we assume that (lambda &gt; lambda_old)</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">//   // but we could always double-check that as well.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">//   Real norm_delta_u = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">//   this-&gt;dlambda_ds = 1. / std::sqrt(1. + Theta*Theta*norm_delta_u*norm_delta_u);</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">//   // Finally, compute du/ds = d(lambda)/ds * du/d(lambda)</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">//   *du_ds = *delta_u;</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">//   du_ds-&gt;scale(dlambda_ds);</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">//   du_ds-&gt;close();</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// 4.) Use normalized arclength formula to estimate delta_s_zero</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">//   // Determine initial normalization parameter</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">//   set_Theta();</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">//   // Compute (normalized) delta_s_zero</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1., *previous_u);</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">//   Real norm_delta_u = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">//   const Real dlambda = *continuation_parameter-old_continuation_parameter;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">//     libMesh::out &lt;&lt; &quot;dlambda=&quot; &lt;&lt; dlambda &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">//   Real delta_s_zero = std::sqrt(</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">//   (Theta_LOCA*Theta_LOCA*Theta*norm_delta_u*norm_delta_u) +</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">//   (dlambda*dlambda)</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">//   );</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">//   *du_ds = *delta_u;</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">//   du_ds-&gt;scale(1./delta_s_zero);</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">//   dlambda_ds = dlambda / delta_s_zero;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;delta_s_zero=&quot; &lt;&lt; delta_s_zero &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;initial d(lambda)/ds|_0 = &quot; &lt;&lt; dlambda_ds &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;initial ||du_ds||_0 = &quot; &lt;&lt; du_ds-&gt;l2_norm() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">//   // FIXME: Also store the initial finite-differenced approximation to -du/dlambda as y.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">//   // We stick to the convention of storing negative y, since that is what we typically</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">//   // solve for anyway.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">//   *y = *delta_u;</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">//   y-&gt;scale(-1./dlambda);</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">//   y-&gt;close();</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// 5.) Assume dlambda/ds_0 ~ 1/sqrt(2) and determine the value of Theta_LOCA which</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// will satisfy this criterion</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Initial change in parameter</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> dlambda = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>-<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  libmesh_assert_not_equal_to (dlambda, 0.0);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Ideal initial value of dlambda_ds</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  dlambda_ds = 1. / <a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>(2.);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (dlambda &lt; 0.)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    dlambda_ds *= -1.;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// This also implies the initial value of ds</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  ds_current = dlambda / dlambda_ds;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Setting ds_current|_0=&quot;</span> &lt;&lt; ds_current &lt;&lt; std::endl;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// Set y = -du/dlambda using finite difference approximation</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a> = *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">add</a>(-1., *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">scale</a>(-1./dlambda);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> ynorm=<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">// Finally, set the value of du_ds to be used in the upcoming</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// tangent calculation. du/ds = du/dlambda * dlambda/ds</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a> = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">scale</a>(-dlambda_ds);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="comment">// Determine additional solution normalization parameter</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// (Since we just set du/ds, it will be:  ||du||*||du/ds||)</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aec7faf1468f632e64415540f6c9897a2">set_Theta</a>();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// The value of Theta_LOCA which makes dlambda_ds = 1/sqrt(2),</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// assuming our Theta = ||du||^2.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// Theta_LOCA = std::abs(dlambda);</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// Assuming general Theta</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> = <a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>(1./<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>/ynorm/ynorm);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Setting initial Theta_LOCA = &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Theta_LOCA^2*Theta         = &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;initial d(lambda)/ds|_0    = &quot;</span> &lt;&lt; dlambda_ds &lt;&lt; std::endl;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;initial ||du_ds||_0        = &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// OK, we estimated the tangent at point u0.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Now, to estimate the tangent at point u1, we call the solve_tangent routine.</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// Set the flag which tells us the method has been initialized.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  tangent_initialized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a686615e1d0b0559da3c1f0b620211bec">solve_tangent</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// Advance the solution and the parameter to the next value.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a6869735ca949bbd219ffdac8c2f08296">update_solution</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="namespacestd_html_a5e539986868ffa7c4c08ef163cae5266"><div class="ttname"><a href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; sqrt(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的平方根。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00088">type_vector.h:88</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7efb30d08bd1bb55a91f66782238d648"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">libMesh::NumericVector::scale</a></div><div class="ttdeci">virtual void scale(const T factor)=0</div><div class="ttdoc">缩放向量的每个元素。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a542ed3d4e4dbd55f3d4c840c625f9307"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">libMesh::ContinuationSystem::du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * du_ds</div><div class="ttdoc">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00307">continuation_system.h:307</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7bbf5b5a75e7aafcbfc1ea19fbc51d73"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector::l2_norm</a></div><div class="ttdeci">virtual Real l2_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目平方和的平方根。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_af820547d41ab966362c384649416490b"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">libMesh::ContinuationSystem::y</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y</div><div class="ttdoc">临时向量&amp;quot;y&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00322">continuation_system.h:322</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aec7faf1468f632e64415540f6c9897a2"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aec7faf1468f632e64415540f6c9897a2">libMesh::ContinuationSystem::set_Theta</a></div><div class="ttdeci">void set_Theta()</div><div class="ttdoc">集中设置归一化参数theta的函数。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01065">continuation_system.C:1065</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a686615e1d0b0559da3c1f0b620211bec"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a686615e1d0b0559da3c1f0b620211bec">libMesh::ContinuationSystem::solve_tangent</a></div><div class="ttdeci">void solve_tangent()</div><div class="ttdoc">专用解算算法，用于解算切线系统。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l00956">continuation_system.C:956</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_ad08b512b7b8ec752dadf5c539cf4db26"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">libMesh::NumericVector::add</a></div><div class="ttdeci">virtual void add(const numeric_index_type i, const T value)=0</div><div class="ttdoc">将 value 添加到由 i 指定的向量条目。 请注意，此方法的库实现是线程安全的， 例如，将在写入向量之前锁定 _numeric_vector_mutex 。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a6869735ca949bbd219ffdac8c2f08296"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a6869735ca949bbd219ffdac8c2f08296">libMesh::ContinuationSystem::update_solution</a></div><div class="ttdeci">void update_solution()</div><div class="ttdoc">此函数（假设最近的切线向量已被计算）更新解和控制参数，使用下一个弧长路径上的初始猜测。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01192">continuation_system.C:1192</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5cd5ab35b28e4e0f56fc164d6898fe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::is_adjoint_already_solved </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor for the adjoint_already_solved boolean. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00406">406</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02242">libMesh::System::adjoint_already_solved</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00490">libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#ad1004561b6e10db2e21d2944c7adaf8d">adjoint_already_solved</a>;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ad1004561b6e10db2e21d2944c7adaf8d"><div class="ttname"><a href="classlibMesh_1_1System.html#ad1004561b6e10db2e21d2944c7adaf8d">libMesh::System::adjoint_already_solved</a></div><div class="ttdeci">bool adjoint_already_solved</div><div class="ttdoc">Has the adjoint problem already been solved? If the user sets adjoint_already_solved to true...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02242">system.h:2242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94f0fb45aafa456c314f05eeaead379b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::is_first_order_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00509">509</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00548">libMesh::DifferentiablePhysics::_first_order_vars</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">_first_order_vars</a>.find(var) != <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">_first_order_vars</a>.end(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a73bc59adf0ae024a9216bdc0db2d5b2a"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a73bc59adf0ae024a9216bdc0db2d5b2a">libMesh::DifferentiablePhysics::_first_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _first_order_vars</div><div class="ttdoc">Variable indices for those variables that are first order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00548">diff_physics.h:548</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87af74bbfb7181bbab50f3b95b1f1f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::is_initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> iff this system has been initialized. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02333">2333</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02210">libMesh::System::_is_initialized</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a> , 以及 <a class="el" href="system_8C_source.html#l00188">libMesh::System::init()</a>.</p>
<div class="fragment"><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;{</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">_is_initialized</a>;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a08f955f8b6c14ce57b16dcc998cd1fe1"><div class="ttname"><a href="classlibMesh_1_1System.html#a08f955f8b6c14ce57b16dcc998cd1fe1">libMesh::System::_is_initialized</a></div><div class="ttdeci">bool _is_initialized</div><div class="ttdoc">true when additional vectors and variables do not require immediate initialization, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02210">system.h:2210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadcb53357db196860e5bc0b762555c2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::is_second_order_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00522">522</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00553">libMesh::DifferentiablePhysics::_second_order_vars</a>.</p>

<p>参考自 <a class="el" href="first__order__unsteady__solver_8C_source.html#l00032">libMesh::FirstOrderUnsteadySolver::compute_second_order_eqns()</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">_second_order_vars</a>.find(var) != <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">_second_order_vars</a>.end(); }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ab3139300c2d5ae16077aa17ff4079384"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ab3139300c2d5ae16077aa17ff4079384">libMesh::DifferentiablePhysics::_second_order_vars</a></div><div class="ttdeci">std::set&lt; unsigned int &gt; _second_order_vars</div><div class="ttdoc">Variable indices for those variables that are second order in time. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00553">diff_physics.h:553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8dad6ea83e0f4df29baab44f0f10893"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::is_time_evolving </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>true</code> iff variable <code>var</code> is evolving with respect to time. In general, the user's <a class="el" href="namespacelibMesh_1_1TriangleWrapper.html#ae06da07f4c64d00ebefa55ce7f5c5e6b" title="Initializes the fields of t to nullptr/0 as necessary. ">init()</a> function should have set <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e" title="Tells the DiffSystem that variable var is evolving with respect to time. ">time_evolving()</a> for any variables which behave like du/dt = F(u), and should not call <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e" title="Tells the DiffSystem that variable var is evolving with respect to time. ">time_evolving()</a> for any variables which behave like 0 = G(u). </dd></dl>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00260">260</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00543">libMesh::DifferentiablePhysics::_time_evolving</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    libmesh_assert_less(var,<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a>.size());</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>( <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a>[var] == 0 ||</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a>[var] == 1 ||</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a>[var] == 2 );</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">_time_evolving</a>[var];</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ab885946dc9eac4b63d57921f991bea33"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ab885946dc9eac4b63d57921f991bea33">libMesh::DifferentiablePhysics::_time_evolving</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; _time_evolving</div><div class="ttdoc">Stores unsigned int to tell us which variables are evolving as first order in time (1)...</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00543">diff_physics.h:543</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a82ba0db1bb3ca6f71f6834e2cc07044f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::local_dof_indices </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>var_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills the std::set with the degrees of freedom on the local processor corresponding the the variable number passed in. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01574">1574</a> 行定义.</p>

<p>参考 <a class="el" href="dof__map_8C_source.html#l01992">libMesh::DofMap::dof_indices()</a>, <a class="el" href="dof__map_8h_source.html#l00708">libMesh::DofMap::end_dof()</a>, <a class="el" href="dof__map_8h_source.html#l00684">libMesh::DofMap::first_dof()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01652">libMesh::System::discrete_var_norm()</a>.</p>
<div class="fragment"><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;{</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// Make sure the set is clear</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  var_indices.clear();</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  std::vector&lt;dof_id_type&gt; dof_indices;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    first_local = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a2cc5678707a3bcb0f64b1cb5c73c813c">first_dof</a>(),</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    end_local   = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a265de993749f5bab70c3f9c860defd49">end_dof</a>();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// Begin the loop over the elements</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_element_ptr_range())</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a0d323b6fcb736454a9f6074ebda9ec28">dof_indices</a> (elem, dof_indices, var);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> dof : dof_indices)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="comment">//If the dof is owned by the local processor</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keywordflow">if</span> (first_local &lt;= dof &amp;&amp; dof &lt; end_local)</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;          var_indices.insert(dof);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="comment">// we may have missed assigning DOFs to nodes that we own</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// but to which we have no connected elements matching our</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// variable restriction criterion.  this will happen, for example,</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="comment">// if variable V is restricted to subdomain S.  We may not own</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="comment">// any elements which live in S, but we may own nodes which are</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="comment">// *connected* to elements which do.</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_node_ptr_range())</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(node);</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a0d323b6fcb736454a9f6074ebda9ec28">dof_indices</a> (node, dof_indices, var);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> dof : dof_indices)</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span> (first_local &lt;= dof &amp;&amp; dof &lt; end_local)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;          var_indices.insert(dof);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a2cc5678707a3bcb0f64b1cb5c73c813c"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a2cc5678707a3bcb0f64b1cb5c73c813c">libMesh::DofMap::first_dof</a></div><div class="ttdeci">dof_id_type first_dof(const processor_id_type proc) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l00684">dof_map.h:684</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a265de993749f5bab70c3f9c860defd49"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a265de993749f5bab70c3f9c860defd49">libMesh::DofMap::end_dof</a></div><div class="ttdeci">dof_id_type end_dof(const processor_id_type proc) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l00708">dof_map.h:708</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a0d323b6fcb736454a9f6074ebda9ec28"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a0d323b6fcb736454a9f6074ebda9ec28">libMesh::DofMap::dof_indices</a></div><div class="ttdeci">void dof_indices(const Elem *const elem, std::vector&lt; dof_id_type &gt; &amp;di) const </div><div class="ttdoc">Fills the vector di with the global degree of freedom indices for the element. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l01992">dof_map.C:1992</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab37ebf0a6d46d64d3adbf4169079684d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::FEMPhysics::mass_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts a mass vector contribution on <code>elem</code> from elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Many problems can use the reimplementation in <a class="el" href="classlibMesh_1_1FEMPhysics.html#ab37ebf0a6d46d64d3adbf4169079684d" title="Subtracts a mass vector contribution on elem from elem_residual. ">FEMPhysics::mass_residual</a> which subtracts (du/dt,v) for each transient variable u; users with more complicated transient problems will need to reimplement this themselves. </p>

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#af3dd0a71e42b409c95a6c73fc47adc01">libMesh::DifferentiablePhysics</a> .</p>

</div>
</div>
<a class="anchor" id="af3dd0a71e42b409c95a6c73fc47adc01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::mass_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts a mass vector contribution on <code>elem</code> from elem_residual. </p>
<p>For first-order-in-time problems, this is the <img class="formulaInl" alt="$ M(u,\dot{u})\dot{u} $" src="form_127.png"/> term. For second-order-in-time problems, this is the <img class="formulaInl" alt="$ M(u,\ddot{u})\ddot{u} $" src="form_136.png"/> term. This method is only called for UnsteadySolver-based TimeSolvers.</p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Many first-order-in-time problems can use the reimplementation in <a class="el" href="classlibMesh_1_1FEMPhysics.html#ab37ebf0a6d46d64d3adbf4169079684d" title="Subtracts a mass vector contribution on elem from elem_residual. ">FEMPhysics::mass_residual</a> which subtracts (du/dt,v) for each transient variable u; users with more complicated transient problems or second-order-in-time problems will need to reimplement this themselves. </p>

<p>被 <a class="el" href="classlibMesh_1_1FEMPhysics.html#ab37ebf0a6d46d64d3adbf4169079684d">libMesh::FEMPhysics</a> 重载.</p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00302">302</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00053">libMesh::EulerSolver::element_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00054">libMesh::Euler2Solver::element_residual()</a>, <a class="el" href="newmark__solver_8C_source.html#l00161">libMesh::NewmarkSolver::element_residual()</a> , 以及 <a class="el" href="eigen__time__solver_8C_source.html#l00123">libMesh::EigenTimeSolver::element_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16cba6e08b4e89962bf0175637e62698"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::mesh_position_get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> to set the degree of freedom coefficients which should correspond to mesh nodal coordinates. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01423">1423</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_x_var</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_y_var</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_z_var</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="fem__context_8C_source.html#l01518">libMesh::FEMContext::elem_position_get()</a>, <a class="el" href="diff__context_8h_source.html#l00336">libMesh::DiffContext::get_dof_indices()</a>, <a class="el" href="diff__context_8h_source.html#l00102">libMesh::DiffContext::get_elem_solution()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="libmesh_8h_source.html#l00254">libMesh::invalid_uint</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a> , 以及 <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a>.</p>
<div class="fragment"><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;{</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="comment">// This function makes no sense unless we&#39;ve already picked out some</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  <span class="comment">// variable(s) to reflect mesh position coordinates</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  libmesh_error_msg_if(!<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a>, <span class="stringliteral">&quot;_mesh_sys was nullptr!&quot;</span>);</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="comment">// We currently assume mesh variables are in our own system</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a> != <span class="keyword">this</span>)</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    libmesh_not_implemented();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">// Loop over every active mesh element on this processor</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  std::unique_ptr&lt;DiffContext&gt; con = this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">build_context</a>();</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp; _femcontext = cast_ref&lt;FEMContext &amp;&gt;(*con);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">init_context</a>(_femcontext);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="comment">// Get the solution&#39;s mesh variables from every element</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_local_element_ptr_range())</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">pre_fe_reinit</a>(*<span class="keyword">this</span>, elem);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#a7a6f5aef1fe3a5ac355ae93c9d0d179e">elem_position_get</a>();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a> != <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;insert(_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a>),</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                               _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a>) );</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a> != <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;insert(_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a>),</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                               _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a>));</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a> != <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;insert(_femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a>),</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                               _femcontext.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a>));</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// And make sure the current_local_solution is up to date too</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">System::update</a>();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a4125b3fcf1dd38b4f1a70e56bac0e2fc"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">libMesh::DifferentiablePhysics::_mesh_x_var</a></div><div class="ttdeci">unsigned int _mesh_x_var</div><div class="ttdoc">Variables from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_aabfa05497cde713f0dd351b537630ae5"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">libMesh::DiffContext::get_elem_solution</a></div><div class="ttdeci">const DenseVector&lt; Number &gt; &amp; get_elem_solution() const </div><div class="ttdoc">访问器用于单元解。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00102">diff_context.h:102</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a4bc0ad51d8939df5b9ac3caa84136408"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">libMesh::FEMContext::pre_fe_reinit</a></div><div class="ttdeci">virtual void pre_fe_reinit(const System &amp;, const Elem *e)</div><div class="ttdoc">Reinitializes local data vectors/matrices on the current geometric element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8C_source.html#l01675">fem_context.C:1675</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a5588f6411946120c9d917450ab73e2e2"><div class="ttname"><a href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a></div><div class="ttdeci">const unsigned int invalid_uint</div><div class="ttdoc">A number which is used quite often to represent an invalid or uninitialized value for an unsigned int...</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8h_source.html#l00254">libmesh.h:254</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a505f5de95b7a4dd1e5bde01079bb9a75"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">libMesh::DiffContext::get_dof_indices</a></div><div class="ttdeci">const std::vector&lt; dof_id_type &gt; &amp; get_dof_indices() const </div><div class="ttdoc">获取元素自由度（Degree of Freedom，简称dof）索引的访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00336">diff_context.h:336</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a3102589faec7aa5752b4f605d5e2283e"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">libMesh::DifferentiablePhysics::_mesh_y_var</a></div><div class="ttdeci">unsigned int _mesh_y_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a7a6f5aef1fe3a5ac355ae93c9d0d179e"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a7a6f5aef1fe3a5ac355ae93c9d0d179e">libMesh::FEMContext::elem_position_get</a></div><div class="ttdeci">void elem_position_get()</div><div class="ttdoc">Uses the geometry of elem to set the coordinate data specified by mesh_*_position configuration...</div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8C_source.html#l01518">fem_context.C:1518</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a081fe25766a214bc0d22f86d114258c4"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">libMesh::DifferentiablePhysics::_mesh_z_var</a></div><div class="ttdeci">unsigned int _mesh_z_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html">libMesh::FEMContext</a></div><div class="ttdoc">This class provides all data required for a physics package (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00062">fem_context.h:62</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab9d81ac9c1787c43fb87cf13d37741ee"><div class="ttname"><a href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">libMesh::System::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Update the local values to reflect the solution on neighboring processors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00492">system.C:492</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a30e9242b511c664a3c93afb61d927d7e"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">libMesh::FEMSystem::init_context</a></div><div class="ttdeci">virtual void init_context(DiffContext &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01370">fem_system.C:1370</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4a97785fa8239fc92e6577e62599a82d"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">libMesh::FEMSystem::build_context</a></div><div class="ttdeci">virtual std::unique_ptr&lt; DiffContext &gt; build_context() override</div><div class="ttdoc">Builds a FEMContext object with enough information to do evaluations on each element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01346">fem_system.C:1346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2efde0dcca62566606f1a259d7de53eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::mesh_position_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> to set the mesh nodal coordinates which should correspond to degree of freedom coefficients. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01087">1087</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="fem__context_8C_source.html#l01469">libMesh::FEMContext::elem_fe_reinit()</a>, <a class="el" href="fem__context_8h_source.html#l01270">libMesh::FEMContext::elem_position_set()</a>, <a class="el" href="fem__context_8h_source.html#l00908">libMesh::FEMContext::get_elem()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="elem_8h_source.html#l02792">libMesh::Elem::has_children()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a> , 以及 <a class="el" href="parallel__ghost__sync_8h_source.html#l00357">libMesh::Parallel::sync_dofobject_data_by_id()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01076">libMesh::FEMSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">// If we don&#39;t need to move the mesh, we&#39;re done</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a> != <span class="keyword">this</span>)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  std::unique_ptr&lt;DiffContext&gt; con = this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">build_context</a>();</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp; _femcontext = cast_ref&lt;FEMContext &amp;&gt;(*con);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">init_context</a>(_femcontext);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// Move every mesh element we can</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_local_element_ptr_range())</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="comment">// We need the algebraic data</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">pre_fe_reinit</a>(*<span class="keyword">this</span>, elem);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="comment">// And when asserts are on, we also need the FE so</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="comment">// we can assert that the mesh data is of the right type.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="preprocessor"></span>      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#aa71dede9188bb3875ab18ebd404436bf">elem_fe_reinit</a>();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// This code won&#39;t handle moving subactive elements</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!_femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">get_elem</a>().<a class="code" href="classlibMesh_1_1Elem.html#ac6316ca5f7b962a8a806ac385d6c0236">has_children</a>());</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      _femcontext.<a class="code" href="classlibMesh_1_1FEMContext.html#a8e1184906e1ececc08b33c3530f1a4a0">elem_position_set</a>(1.);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">// We&#39;ve now got positions set on all local nodes (and some</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="comment">// semilocal nodes); let&#39;s request positions for non-local nodes</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// from their processors.</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="structlibMesh_1_1SyncNodalPositions.html">SyncNodalPositions</a> sync_object(mesh);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">Parallel::sync_dofobject_data_by_id</a></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>(), mesh.nodes_begin(), mesh.nodes_end(), sync_object);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1Elem_html_ac6316ca5f7b962a8a806ac385d6c0236"><div class="ttname"><a href="classlibMesh_1_1Elem.html#ac6316ca5f7b962a8a806ac385d6c0236">libMesh::Elem::has_children</a></div><div class="ttdeci">bool has_children() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02792">elem.h:2792</a></div></div>
<div class="ttc" id="structlibMesh_1_1SyncNodalPositions_html"><div class="ttname"><a href="structlibMesh_1_1SyncNodalPositions.html">libMesh::SyncNodalPositions</a></div><div class="ttdef"><b>Definition:</b> <a href="parallel__ghost__sync_8h_source.html#l00808">parallel_ghost_sync.h:808</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a8e1184906e1ececc08b33c3530f1a4a0"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a8e1184906e1ececc08b33c3530f1a4a0">libMesh::FEMContext::elem_position_set</a></div><div class="ttdeci">void elem_position_set(Real theta)</div><div class="ttdoc">Uses the coordinate data specified by mesh_*_position configuration to set the geometry of elem to th...</div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l01270">fem_context.h:1270</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_a4bc0ad51d8939df5b9ac3caa84136408"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#a4bc0ad51d8939df5b9ac3caa84136408">libMesh::FEMContext::pre_fe_reinit</a></div><div class="ttdeci">virtual void pre_fe_reinit(const System &amp;, const Elem *e)</div><div class="ttdoc">Reinitializes local data vectors/matrices on the current geometric element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8C_source.html#l01675">fem_context.C:1675</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_aa8b842159e010a67ec1b5d99eac72950"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">libMesh::FEMContext::get_elem</a></div><div class="ttdeci">const Elem &amp; get_elem() const </div><div class="ttdoc">Accessor for current Elem object. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00908">fem_context.h:908</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_aa71dede9188bb3875ab18ebd404436bf"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#aa71dede9188bb3875ab18ebd404436bf">libMesh::FEMContext::elem_fe_reinit</a></div><div class="ttdeci">virtual void elem_fe_reinit(const std::vector&lt; Point &gt; *const pts=nullptr)</div><div class="ttdoc">Reinitializes interior FE objects on the current geometric element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8C_source.html#l01469">fem_context.C:1469</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html">libMesh::FEMContext</a></div><div class="ttdoc">This class provides all data required for a physics package (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00062">fem_context.h:62</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Parallel_html_ac7d4f06bb34625465942e6b8d10f135e"><div class="ttname"><a href="namespacelibMesh_1_1Parallel.html#ac7d4f06bb34625465942e6b8d10f135e">libMesh::Parallel::sync_dofobject_data_by_id</a></div><div class="ttdeci">void sync_dofobject_data_by_id(const Communicator &amp;comm, const Iterator &amp;range_begin, const Iterator &amp;range_end, SyncFunctor &amp;sync)</div><div class="ttdoc">Request data about a range of ghost dofobjects uniquely identified by their id. </div><div class="ttdef"><b>Definition:</b> <a href="parallel__ghost__sync_8h_source.html#l00357">parallel_ghost_sync.h:357</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a30e9242b511c664a3c93afb61d927d7e"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a30e9242b511c664a3c93afb61d927d7e">libMesh::FEMSystem::init_context</a></div><div class="ttdeci">virtual void init_context(DiffContext &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01370">fem_system.C:1370</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4a97785fa8239fc92e6577e62599a82d"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4a97785fa8239fc92e6577e62599a82d">libMesh::FEMSystem::build_context</a></div><div class="ttdeci">virtual std::unique_ptr&lt; DiffContext &gt; build_context() override</div><div class="ttdoc">Builds a FEMContext object with enough information to do evaluations on each element. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01346">fem_system.C:1346</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b7b5bfe3979ffccc49e013590b4cfa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::System::n_active_dofs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of active degrees of freedom for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02461">2461</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00119">libMesh::System::n_constrained_dofs()</a> , 以及 <a class="el" href="system_8C_source.html#l00112">libMesh::System::n_dofs()</a>.</p>
<div class="fragment"><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;{</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>() - this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3244b511caa986cb90536628f4bf8eff">n_constrained_dofs</a>();</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3244b511caa986cb90536628f4bf8eff"><div class="ttname"><a href="classlibMesh_1_1System.html#a3244b511caa986cb90536628f4bf8eff">libMesh::System::n_constrained_dofs</a></div><div class="ttdeci">dof_id_type n_constrained_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00119">system.C:119</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f572f472e767adada89af6b82547ddd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_components </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The total number of scalar components in the system's variables. This will equal <code><a class="el" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars()</a></code> in the case of all scalar-valued variables. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02365">2365</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>, <a class="el" href="variable_8h_source.html#l00134">libMesh::Variable::first_scalar_number()</a> , 以及 <a class="el" href="variable_8h_source.html#l00146">libMesh::Variable::n_components()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;{</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.empty())</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keyword">const</span> Variable &amp; last = <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.back();</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">return</span> last.first_scalar_number() + last.n_components();</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3244b511caa986cb90536628f4bf8eff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::System::n_constrained_dofs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The total number of constrained degrees of freedom in the system. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00119">119</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="system_8h_source.html#l02461">libMesh::System::n_active_dofs()</a> , 以及 <a class="el" href="eigen__system_8C_source.html#l00209">libMesh::EigenSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;n_constrained_dofs();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57de7c4f37f7ca24fbf185d3d07054cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::System::n_dofs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of degrees of freedom in the system </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00112">112</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00042">libMesh::SecondOrderUnsteadySolver::init_data()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00089">libMesh::UnsteadySolver::init_data()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="optimization__system_8C_source.html#l00083">libMesh::OptimizationSystem::initialize_equality_constraints_storage()</a>, <a class="el" href="optimization__system_8C_source.html#l00119">libMesh::OptimizationSystem::initialize_inequality_constraints_storage()</a>, <a class="el" href="system_8h_source.html#l02461">libMesh::System::n_active_dofs()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00075">libMesh::CondensedEigenSystem::n_global_non_condensed_dofs()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00060">libMesh::SecondOrderUnsteadySolver::reinit()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00104">libMesh::UnsteadySolver::reinit()</a> , 以及 <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;n_dofs();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17c0cdd1dc6cf29034cba6b4236fceec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::System::n_local_constrained_dofs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of constrained degrees of freedom on this processor. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00134">134</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;n_local_constrained_dofs();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a069a96e414fd05d292e3bb3a1a475602"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> libMesh::System::n_local_dofs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of degrees of freedom local to this processor </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00149">149</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a> , 以及 <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00713">libMesh::PetscDMWrapper::build_section()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00042">libMesh::SecondOrderUnsteadySolver::init_data()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00089">libMesh::UnsteadySolver::init_data()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="optimization__system_8C_source.html#l00083">libMesh::OptimizationSystem::initialize_equality_constraints_storage()</a>, <a class="el" href="optimization__system_8C_source.html#l00119">libMesh::OptimizationSystem::initialize_inequality_constraints_storage()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00060">libMesh::SecondOrderUnsteadySolver::reinit()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00104">libMesh::UnsteadySolver::reinit()</a> , 以及 <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;n_dofs_on_processor (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17680e6b4bf7abfb50c8d36e0c8bb59d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_matrices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of matrices handled by this system. This is the size of the <code>_matrices</code> map </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02594">2594</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00086">libMesh::ImplicitSystem::add_matrices()</a> , 以及 <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;{</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(<a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.size());</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50e74641afc6e2870c9e1ce412f8c44f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int libMesh::ReferenceCounter::n_objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the number of outstanding (created, but not yet destroyed) objects. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00085">85</a> 行定义.</p>

<p>参考 <a class="el" href="reference__counter_8h_source.html#l00132">libMesh::ReferenceCounter::_n_objects</a>.</p>

<p>参考自 <a class="el" href="libmesh_8C_source.html#l00668">libMesh::LibMeshInit::~LibMeshInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1ReferenceCounter.html#ad2c30f0f71dcd00f00faa8e46aa3e043">_n_objects</a>; }</div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_ad2c30f0f71dcd00f00faa8e46aa3e043"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#ad2c30f0f71dcd00f00faa8e46aa3e043">libMesh::ReferenceCounter::_n_objects</a></div><div class="ttdeci">static Threads::atomic&lt; unsigned int &gt; _n_objects</div><div class="ttdoc">The number of objects. </div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00132">reference_counter.h:132</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50719f74165b613ab929afd29b6d5f4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> libMesh::ParallelObject::n_processors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of processors in the group. </dd></dl>

<p>在文件 <a class="el" href="parallel__object_8h_source.html">parallel_object.h</a> 第 <a class="el" href="parallel__object_8h_source.html#l00103">103</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00120">libMesh::ParallelObject::_communicator</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="parmetis__partitioner_8C_source.html#l00110">libMesh::ParmetisPartitioner::_do_repartition()</a>, <a class="el" href="partitioner_8C_source.html#l01067">libMesh::Partitioner::_find_global_index_by_pid_map()</a>, <a class="el" href="boundary__info_8C_source.html#l03032">libMesh::BoundaryInfo::_find_id_maps()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l05349">libMesh::DofMap::add_constraints_to_send_list()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00961">libMesh::PetscDMWrapper::add_dofs_to_section()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00532">libMesh::DistributedMesh::add_elem()</a>, <a class="el" href="dof__map_8C_source.html#l01544">libMesh::DofMap::add_neighbors_to_send_list()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00799">libMesh::DistributedMesh::add_node()</a>, <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="mesh__smoother__laplace_8C_source.html#l00289">libMesh::LaplaceMeshSmoother::allgather_graph()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03708">libMesh::DofMap::allgather_recursive_constraints()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="nemesis__io_8C_source.html#l00161">libMesh::Nemesis_IO::assert_symmetric_cmaps()</a>, <a class="el" href="trilinos__aztec__linear__solver_8C_source.html#l00041">libMesh::AztecLinearSolver&lt; T &gt;::AztecLinearSolver()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00989">libMesh::DistributedMesh::clear()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01022">libMesh::DistributedMesh::clear_elems()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01793">libMesh::Nemesis_IO_Helper::compute_border_node_ids()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02791">libMesh::Nemesis_IO_Helper::construct_nemesis_filename()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l00939">libMesh::UnstructuredMesh::create_pid_mesh()</a>, <a class="el" href="mesh__tools_8C_source.html#l00637">libMesh::MeshTools::create_processor_bounding_box()</a>, <a class="el" href="dof__map_8C_source.html#l00927">libMesh::DofMap::distribute_dofs()</a>, <a class="el" href="dof__map_8C_source.html#l01394">libMesh::DofMap::distribute_scalar_dofs()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00195">libMesh::DistributedMesh::DistributedMesh()</a>, <a class="el" href="ensight__io_8C_source.html#l00065">libMesh::EnsightIO::EnsightIO()</a>, <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00103">libMesh::SystemSubsetBySubdomain::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="parmetis__partitioner_8C_source.html#l00241">libMesh::ParmetisPartitioner::initialize()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00735">libMesh::Nemesis_IO_Helper::initialize()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02182">libMesh::ExodusII_IO_Helper::initialize()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00654">libMesh::DistributedMesh::insert_elem()</a>, <a class="el" href="mesh__tools_8C_source.html#l01266">libMesh::MeshTools::libmesh_assert_contiguous_dof_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01894">libMesh::MeshTools::libmesh_assert_parallel_consistent_new_node_procids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01846">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Elem &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01932">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Node &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01352">libMesh::MeshTools::libmesh_assert_topology_consistent_procids&lt; Node &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l01534">libMesh::MeshTools::libmesh_assert_valid_boundary_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01704">libMesh::MeshTools::libmesh_assert_valid_dof_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l02034">libMesh::MeshTools::libmesh_assert_valid_neighbors()</a>, <a class="el" href="mesh__tools_8C_source.html#l01987">libMesh::MeshTools::libmesh_assert_valid_refinement_flags()</a>, <a class="el" href="dof__map_8C_source.html#l01109">libMesh::DofMap::local_variable_indices()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00779">libMesh::MeshRefinement::make_coarsening_compatible()</a>, <a class="el" href="mesh__base_8C_source.html#l00987">libMesh::MeshBase::n_active_elem_on_proc()</a>, <a class="el" href="mesh__base_8C_source.html#l00974">libMesh::MeshBase::n_elem_on_proc()</a>, <a class="el" href="mesh__base_8C_source.html#l00961">libMesh::MeshBase::n_nodes_on_proc()</a>, <a class="el" href="partitioner_8C_source.html#l00188">libMesh::Partitioner::partition()</a>, <a class="el" href="mesh__base_8h_source.html#l01135">libMesh::MeshBase::partition()</a>, <a class="el" href="partitioner_8C_source.html#l00344">libMesh::Partitioner::partition_unpartitioned_elements()</a>, <a class="el" href="petsc__linear__solver_8C_source.html#l00094">libMesh::PetscLinearSolver&lt; T &gt;::PetscLinearSolver()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="dof__map_8C_source.html#l01692">libMesh::DofMap::prepare_send_list()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l02262">libMesh::DofMap::print_dof_constraints()</a>, <a class="el" href="namebased__io_8C_source.html#l00080">libMesh::NameBasedIO::read()</a>, <a class="el" href="nemesis__io_8C_source.html#l00198">libMesh::Nemesis_IO::read()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00814">libMesh::CheckpointIO::read()</a>, <a class="el" href="checkpoint__io_8C_source.html#l01127">libMesh::CheckpointIO::read_connectivity()</a>, <a class="el" href="xdr__io_8C_source.html#l01552">libMesh::XdrIO::read_header()</a>, <a class="el" href="checkpoint__io_8C_source.html#l01033">libMesh::CheckpointIO::read_nodes()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01200">libMesh::DistributedMesh::renumber_dof_objects()</a>, <a class="el" href="partitioner_8C_source.html#l00255">libMesh::Partitioner::repartition()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l04643">libMesh::DofMap::scatter_constraints()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00357">libMesh::DistributedMesh::set_next_unique_id()</a>, <a class="el" href="dof__map_8C_source.html#l00356">libMesh::DofMap::set_nonlocal_dof_objects()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01709">libMesh::MeshRefinement::uniformly_coarsen()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00255">libMesh::DistributedMesh::update_parallel_id_counts()</a>, <a class="el" href="gmv__io_8C_source.html#l01221">libMesh::GMVIO::write_binary()</a>, <a class="el" href="gmv__io_8C_source.html#l01539">libMesh::GMVIO::write_discontinuous_gmv()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02379">libMesh::ExodusII_IO_Helper::write_nodal_coordinates()</a>, <a class="el" href="exodusII__io_8C_source.html#l01790">libMesh::ExodusII_IO::write_nodal_data()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l02062">libMesh::System::write_SCALAR_dofs()</a>, <a class="el" href="xdr__io_8C_source.html#l01163">libMesh::XdrIO::write_serialized_bcs_helper()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__io_8C_source.html#l00330">libMesh::XdrIO::write_serialized_connectivity()</a>, <a class="el" href="xdr__io_8C_source.html#l00692">libMesh::XdrIO::write_serialized_nodes()</a> , 以及 <a class="el" href="xdr__io_8C_source.html#l01306">libMesh::XdrIO::write_serialized_nodesets()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> returnval =</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      cast_int&lt;processor_id_type&gt;(<a class="code" href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">_communicator</a>.size());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(returnval); <span class="comment">// We never have an empty comm</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> returnval;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a1ffb5b08919ab435109a302f94a7b3eb"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">libMesh::ParallelObject::_communicator</a></div><div class="ttdeci">const Parallel::Communicator &amp; _communicator</div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00120">parallel_object.h:120</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a993ffd888b690f4af0e1dd5a3df49b3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_qois </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of currently active quantities of interest. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02516">2516</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a> , 以及 <a class="el" href="system_8h_source.html#l01619">libMesh::System::qoi_error_estimates</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="implicit__system_8C_source.html#l00490">libMesh::ImplicitSystem::adjoint_qoi_parameter_sensitivity()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00170">libMesh::SensitivityData::allocate_data()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00191">libMesh::SensitivityData::allocate_hessian_data()</a>, <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a>, <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>, <a class="el" href="diff__context_8C_source.html#l00032">libMesh::DiffContext::DiffContext()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="file__solution__history_8C_source.html#l00036">libMesh::FileSolutionHistory::FileSolutionHistory()</a>, <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00068">libMesh::UnsteadySolver::init_adjoints()</a>, <a class="el" href="time__solver_8C_source.html#l00083">libMesh::TimeSolver::init_adjoints()</a>, <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00400">libMesh::TwostepTimeSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler2__solver_8C_source.html#l00264">libMesh::Euler2Solver::integrate_qoi_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00341">libMesh::TwostepTimeSolver::integrate_qoi_timestep()</a>, <a class="el" href="euler__solver_8C_source.html#l00196">libMesh::EulerSolver::integrate_qoi_timestep()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>, <a class="el" href="file__solution__history_8C_source.html#l00116">libMesh::FileSolutionHistory::retrieve()</a>, <a class="el" href="qoi__set_8C_source.html#l00035">libMesh::QoISet::size()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00037">libMesh::UnsteadySolver::UnsteadySolver()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;{</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;<span class="preprocessor">#ifndef LIBMESH_ENABLE_DEPRECATED</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;<span class="preprocessor"></span>  libmesh_assert_equal_to(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.size(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>.size());</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.size());</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9e1ccd968b663b1e1e1632b04f355230"><div class="ttname"><a href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">libMesh::System::qoi_error_estimates</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi_error_estimates</div><div class="ttdoc">Vector to hold error estimates for qois, either from a steady state calculation, or from a single uns...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01619">system.h:1619</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45f610871e1ffd907872018e6e1164f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_variable_groups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> variable groups in the system </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02357">2357</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02145">libMesh::System::_variable_groups</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a> , 以及 <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;{</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(<a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.size());</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a97be87516ee1398a45ee99d0320e1fd7"><div class="ttname"><a href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">libMesh::System::_variable_groups</a></div><div class="ttdeci">std::vector&lt; VariableGroup &gt; _variable_groups</div><div class="ttdoc">The VariableGroup in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02145">system.h:2145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4cf032eda109fe32a7fcde672ef5726e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of variables in the system </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02349">2349</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l01019">libMesh::PetscDMWrapper::add_dofs_helper()</a>, <a class="el" href="diff__context_8C_source.html#l00125">libMesh::DiffContext::add_localized_vector()</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="fem__context_8C_source.html#l00124">libMesh::FEMContext::attach_quadrature_rules()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00713">libMesh::PetscDMWrapper::build_section()</a>, <a class="el" href="system_8C_source.html#l01671">libMesh::System::calculate_norm()</a>, <a class="el" href="dg__fem__context_8C_source.html#l00029">libMesh::DGFEMContext::DGFEMContext()</a>, <a class="el" href="diff__context_8C_source.html#l00032">libMesh::DiffContext::DiffContext()</a>, <a class="el" href="jump__error__estimator_8C_source.html#l00056">libMesh::JumpErrorEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="error__estimator_8C_source.html#l00093">libMesh::ErrorEstimator::estimate_errors()</a>, <a class="el" href="exact__solution_8C_source.html#l00045">libMesh::ExactSolution::ExactSolution()</a>, <a class="el" href="fem__context_8C_source.html#l00085">libMesh::FEMContext::find_hardest_fe_type()</a>, <a class="el" href="equation__systems_8C_source.html#l01046">libMesh::EquationSystems::find_variable_numbers()</a>, <a class="el" href="system_8C_source.html#l01564">libMesh::System::get_all_variable_numbers()</a>, <a class="el" href="system_8C_source.html#l00188">libMesh::System::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="fem__context_8C_source.html#l00195">libMesh::FEMContext::init_internal_data()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00211">libMesh::PatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="system_8C_source.html#l00515">libMesh::System::re_update()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02165">libMesh::System::read_serialized_vectors()</a>, <a class="el" href="system_8C_source.html#l00303">libMesh::System::reinit_mesh()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00137">libMesh::HPCoarsenTest::select_refinement()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00089">libMesh::SystemSubsetBySubdomain::set_var_nums()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a>, <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02259">libMesh::System::write_serialized_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l01615">libMesh::System::zero_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;{</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(<a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.size());</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46bd8cfb070bab2dc814c33749c8c21b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::n_vectors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The number of vectors (in addition to the solution) handled by this system This is the size of the <code>_vectors</code> map </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02477">2477</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>

<p>参考自 <a class="el" href="explicit__system_8C_source.html#l00094">libMesh::ExplicitSystem::add_system_rhs()</a>, <a class="el" href="system_8C_source.html#l00600">libMesh::System::compare()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a> , 以及 <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;{</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="keywordflow">return</span> cast_int&lt;unsigned int&gt;(<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size());</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af80f6b2e508821ebd9c8fcb78d443f18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; libMesh::System::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The system name. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02261">2261</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02130">libMesh::System::_sys_name</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00600">libMesh::System::compare()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00232">DMlibMeshSetUpName_Private()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="exact__solution_8C_source.html#l00045">libMesh::ExactSolution::ExactSolution()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="newton__solver_8C_source.html#l00255">libMesh::NewtonSolver::init()</a>, <a class="el" href="time__solver_8C_source.html#l00097">libMesh::TimeSolver::init_data()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="time__solver_8C_source.html#l00054">libMesh::TimeSolver::reinit()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00342">libMesh::PetscDiffSolver::setup_petsc_data()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00173">libMesh::NonlinearImplicitSystem::solve()</a>, <a class="el" href="system_8C_source.html#l02219">libMesh::System::user_assembly()</a>, <a class="el" href="system_8C_source.html#l02233">libMesh::System::user_constrain()</a>, <a class="el" href="system_8C_source.html#l02205">libMesh::System::user_initialization()</a>, <a class="el" href="system_8C_source.html#l02247">libMesh::System::user_QOI()</a>, <a class="el" href="system_8C_source.html#l02261">libMesh::System::user_QOI_derivative()</a>, <a class="el" href="system_8C_source.html#l01556">libMesh::System::variable_number()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a> , 以及 <a class="el" href="system__io_8C_source.html#l01668">libMesh::System::write_serialized_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;{</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#aa6ed4b98503185caee2e333148b8f457">_sys_name</a>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aa6ed4b98503185caee2e333148b8f457"><div class="ttname"><a href="classlibMesh_1_1System.html#aa6ed4b98503185caee2e333148b8f457">libMesh::System::_sys_name</a></div><div class="ttdeci">const std::string _sys_name</div><div class="ttdoc">A name associated with this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02130">system.h:2130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ffc6b599db2eda744da5af375548ee6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::nonlocal_constraint </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds any nonlocal constraint contributions (e.g. </p>
<p>some components of constraints in scalar variable equations) to elem_residual</p>
<p>If this method receives request_jacobian = true, then it should also modify elem_jacobian and return true if possible. If the Jacobian changes have not been computed then the method should return false.</p>
<p>Users may need to reimplement this for PDEs on systems to which SCALAR variables with non-transient equations have been added. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00233">233</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00085">libMesh::EulerSolver::nonlocal_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00057">libMesh::SteadySolver::nonlocal_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00086">libMesh::Euler2Solver::nonlocal_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00217">libMesh::EigenTimeSolver::nonlocal_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00189">libMesh::NewmarkSolver::nonlocal_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acfbc9391cdd815aa99a97e96a8228bcf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::nonlocal_damping_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts any nonlocal damping vector contributions (e.g. </p>
<p>any first time derivative coefficients in scalar variable equations) from elem_residual</p>
<p>If this method receives request_jacobian = true, then it should also modify elem_jacobian and return true if possible. If the Jacobian changes have not been computed then the method should return false. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00394">394</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00085">libMesh::EulerSolver::nonlocal_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00086">libMesh::Euler2Solver::nonlocal_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00189">libMesh::NewmarkSolver::nonlocal_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4a653ad59e812a9dc76ddff3beef7aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::nonlocal_mass_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts any nonlocal mass vector contributions (e.g. </p>
<p>any time derivative coefficients in scalar variable equations) from elem_residual</p>
<p>If this method receives request_jacobian = true, then it should also modify elem_jacobian and return true if possible. If the Jacobian changes have not been computed then the method should return false.</p>
<p>Many problems can use the reimplementation in <a class="el" href="classlibMesh_1_1FEMPhysics.html#ab37ebf0a6d46d64d3adbf4169079684d" title="Subtracts a mass vector contribution on elem from elem_residual. ">FEMPhysics::mass_residual</a> which subtracts (du/dt,v) for each transient scalar variable u; users with more complicated transient scalar variable equations will need to reimplement this themselves. </p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00085">libMesh::EulerSolver::nonlocal_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00086">libMesh::Euler2Solver::nonlocal_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00217">libMesh::EigenTimeSolver::nonlocal_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00189">libMesh::NewmarkSolver::nonlocal_residual()</a>.</p>

</div>
</div>
<a class="anchor" id="abbe254dbb92afb6b42d83315e3b50b93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::nonlocal_time_derivative </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds any nonlocal time derivative contributions (e.g. </p>
<p>some components of time derivatives in scalar variable equations) to elem_residual</p>
<p>If this method receives request_jacobian = true, then it should also modify elem_jacobian and return true if possible. If the Jacobian changes have not been computed then the method should return false.</p>
<p>Users may need to reimplement this for PDEs on systems to which SCALAR variables have been added. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00214">214</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00085">libMesh::EulerSolver::nonlocal_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00057">libMesh::SteadySolver::nonlocal_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00086">libMesh::Euler2Solver::nonlocal_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00217">libMesh::EigenTimeSolver::nonlocal_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00189">libMesh::NewmarkSolver::nonlocal_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee5caacb487b070842733f1c84b9a2fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::number </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The system number. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02269">2269</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02135">libMesh::System::_sys_number</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l01019">libMesh::PetscDMWrapper::add_dofs_helper()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01670">libMesh::Nemesis_IO::copy_nodal_solution()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="equation__systems_8C_source.html#l01046">libMesh::EquationSystems::find_variable_numbers()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a>, <a class="el" href="generic__projector_8h_source.html#l01468">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SortAndCopy::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02002">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectVertices::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02326">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectEdges::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02493">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectSides::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02682">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectInteriors::operator()()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="hp__coarsentest_8C_source.html#l00137">libMesh::HPCoarsenTest::select_refinement()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a> , 以及 <a class="el" href="system_8C_source.html#l01615">libMesh::System::zero_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;{</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a1ea531a98e00c4ddbcc170529561d72e">_sys_number</a>;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1ea531a98e00c4ddbcc170529561d72e"><div class="ttname"><a href="classlibMesh_1_1System.html#a1ea531a98e00c4ddbcc170529561d72e">libMesh::System::_sys_number</a></div><div class="ttdeci">const unsigned int _sys_number</div><div class="ttdoc">The number associated with this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02135">system.h:2135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a315de41d5b7826c38d6a653f6700837b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::numerical_elem_jacobian </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the results of multiple element_residual() calls to numerically differentiate the corresponding jacobian on an element. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01322">1322</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1TimeSolver.html#ae93a1e73cc5e4bea79942c738d038dd5">libMesh::TimeSolver::element_residual()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a>.</p>
<div class="fragment"><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;{</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;numerical_elem_jacobian()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">numerical_jacobian</a>(&amp;<a class="code" href="classlibMesh_1_1TimeSolver.html#ae93a1e73cc5e4bea79942c738d038dd5">TimeSolver::element_residual</a>, context);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4ce8525010231020fa26f1c3b487c8d6"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">libMesh::FEMSystem::numerical_jacobian</a></div><div class="ttdeci">void numerical_jacobian(TimeSolverResPtr res, FEMContext &amp;context) const </div><div class="ttdoc">Uses the results of multiple res calls to numerically differentiate the corresponding jacobian...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01210">fem_system.C:1210</a></div></div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_ae93a1e73cc5e4bea79942c738d038dd5"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#ae93a1e73cc5e4bea79942c738d038dd5">libMesh::TimeSolver::element_residual</a></div><div class="ttdeci">virtual bool element_residual(bool request_jacobian, DiffContext &amp;)=0</div><div class="ttdoc">This method uses the DifferentiablePhysics element_time_derivative(), element_constraint(), and mass_residual() to build a full residual on an element. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ce8525010231020fa26f1c3b487c8d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::numerical_jacobian </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMSystem.html#a1b0309d81e51a657209482a80e4a9047">TimeSolverResPtr</a>&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the results of multiple <code>res</code> calls to numerically differentiate the corresponding jacobian. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01210">1210</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_x_var</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_y_var</a>, <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_z_var</a>, <a class="el" href="diff__context_8h_source.html#l00336">libMesh::DiffContext::get_dof_indices()</a>, <a class="el" href="fem__context_8h_source.html#l00908">libMesh::FEMContext::get_elem()</a>, <a class="el" href="diff__context_8h_source.html#l00252">libMesh::DiffContext::get_elem_jacobian()</a>, <a class="el" href="diff__context_8h_source.html#l00222">libMesh::DiffContext::get_elem_residual()</a>, <a class="el" href="diff__context_8h_source.html#l00102">libMesh::DiffContext::get_elem_solution()</a>, <a class="el" href="elem_8C_source.html#l00511">libMesh::Elem::hmin()</a>, <a class="el" href="libmesh_8h_source.html#l00254">libMesh::invalid_uint</a>, <a class="el" href="libmesh__common_8h_source.html#l00185">libMesh::libmesh_real()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="diff__context_8h_source.html#l00090">libMesh::DiffContext::n_vars()</a>, <a class="el" href="fem__system_8h_source.html#l00187">libMesh::FEMSystem::numerical_jacobian_h</a>, <a class="el" href="fem__system_8h_source.html#l00265">libMesh::FEMSystem::numerical_jacobian_h_for_var()</a>, <a class="el" href="elem_8h_source.html#l02253">libMesh::Elem::point()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a> , 以及 <a class="el" href="dense__vector_8h_source.html#l00428">libMesh::DenseVector&lt; T &gt;::zero()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01322">libMesh::FEMSystem::numerical_elem_jacobian()</a>, <a class="el" href="fem__system_8C_source.html#l01338">libMesh::FEMSystem::numerical_nonlocal_jacobian()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01330">libMesh::FEMSystem::numerical_side_jacobian()</a>.</p>
<div class="fragment"><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;{</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// Logging is done by numerical_elem_jacobian</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">// or numerical_side_jacobian</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="classlibMesh_1_1DenseVector.html">DenseVector&lt;Number&gt;</a> original_residual(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>());</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <a class="code" href="classlibMesh_1_1DenseVector.html">DenseVector&lt;Number&gt;</a> backwards_residual(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>());</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <a class="code" href="classlibMesh_1_1DenseMatrix.html">DenseMatrix&lt;Number&gt;</a> numeric_jacobian(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlibMesh_1_1DenseMatrix.html">DenseMatrix&lt;Number&gt;</a> old_jacobian(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> numerical_point_h = 0.;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a> == <span class="keyword">this</span>)</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    numerical_point_h = <a class="code" href="classlibMesh_1_1FEMSystem.html#a73b4c7f9f81fc10f215caf1f4799664a">numerical_jacobian_h</a> * context.<a class="code" href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">get_elem</a>().<a class="code" href="classlibMesh_1_1Elem.html#af7712d01779f053ea14d49b017c54828">hmin</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a> =</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    cast_int&lt;unsigned int&gt;(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>().size());</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> v : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a3808511b30f01331b0d05b8e5172c205">n_vars</a>()))</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> my_h = this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a47a6ff41c4810ce77b9597de9915f339">numerical_jacobian_h_for_var</a>(v);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j_offset = <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">if</span> (!context.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(v).empty())</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(n_dofs))</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <span class="keywordflow">if</span> (context.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>()[i] ==</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                context.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(v)[0])</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;              j_offset = i;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;          libmesh_assert_not_equal_to(j_offset, <a class="code" href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> j : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(context.<a class="code" href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">get_dof_indices</a>(v).size()))</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_j = j + j_offset;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          <span class="comment">// Take the &quot;minus&quot; side of a central differenced first derivative</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;          <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> original_solution = context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;          context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j) -= my_h;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          <span class="comment">// Make sure to catch any moving mesh terms</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;          <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> * coord = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a> == <span class="keyword">this</span>)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a> == v)</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                coord = &amp;(context.<a class="code" href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">get_elem</a>().<a class="code" href="classlibMesh_1_1Elem.html#a2cb5212bd36caff163c65e3ccff273f0">point</a>(j)(0));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a> == v)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                coord = &amp;(context.<a class="code" href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">get_elem</a>().<a class="code" href="classlibMesh_1_1Elem.html#a2cb5212bd36caff163c65e3ccff273f0">point</a>(j)(1));</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a> == v)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                coord = &amp;(context.<a class="code" href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">get_elem</a>().<a class="code" href="classlibMesh_1_1Elem.html#a2cb5212bd36caff163c65e3ccff273f0">point</a>(j)(2));</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;          <span class="keywordflow">if</span> (coord)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;              <span class="comment">// We have enough information to scale the perturbations</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;              <span class="comment">// here appropriately</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;              context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j) = original_solution - numerical_point_h;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;              *coord = <a class="code" href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libmesh_real</a>(context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j));</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            }</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;          context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>().<a class="code" href="classlibMesh_1_1DenseVector.html#ac40e5ec4725e0247b64f26c115facbd5">zero</a>();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;          ((*time_solver).*(res))(<span class="keyword">false</span>, context);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="preprocessor"></span>          libmesh_assert_equal_to (old_jacobian, context.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="preprocessor"></span>          backwards_residual = context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>();</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;          <span class="comment">// Take the &quot;plus&quot; side of a central differenced first derivative</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;          context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j) = original_solution + my_h;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          <span class="keywordflow">if</span> (coord)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;              context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>()(j) = original_solution + numerical_point_h;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;              *coord = <a class="code" href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libmesh_real</a>(context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j));</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>().<a class="code" href="classlibMesh_1_1DenseVector.html#ac40e5ec4725e0247b64f26c115facbd5">zero</a>();</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;          ((*time_solver).*(res))(<span class="keyword">false</span>, context);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="preprocessor"></span>          libmesh_assert_equal_to (old_jacobian, context.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>());</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;          context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j) = original_solution;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;          <span class="keywordflow">if</span> (coord)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;              *coord = <a class="code" href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libmesh_real</a>(context.<a class="code" href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">get_elem_solution</a>(v)(j));</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;              <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(n_dofs))</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                  numeric_jacobian(i,total_j) =</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                    (context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>()(i) - backwards_residual(i)) /</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                    2. / numerical_point_h;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;              <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(n_dofs))</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                  numeric_jacobian(i,total_j) =</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                    (context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>()(i) - backwards_residual(i)) /</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                    2. / my_h;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  context.<a class="code" href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">get_elem_residual</a>() = original_residual;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  context.<a class="code" href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">get_elem_jacobian</a>() = numeric_jacobian;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f64766e155cef44a8f66b8411b3725a"><div class="ttname"><a href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libMesh::libmesh_real</a></div><div class="ttdeci">T libmesh_real(T a)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00185">libmesh_common.h:185</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a4125b3fcf1dd38b4f1a70e56bac0e2fc"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">libMesh::DifferentiablePhysics::_mesh_x_var</a></div><div class="ttdeci">unsigned int _mesh_x_var</div><div class="ttdoc">Variables from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a47a6ff41c4810ce77b9597de9915f339"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a47a6ff41c4810ce77b9597de9915f339">libMesh::FEMSystem::numerical_jacobian_h_for_var</a></div><div class="ttdeci">Real numerical_jacobian_h_for_var(unsigned int var_num) const </div><div class="ttdoc">If numerical_jacobian_h_for_var(var_num) is changed from its default value (numerical_jacobian_h), the FEMSystem will perturb solution vector entries for variable var_num by that amount when calculating finite differences with respect to that variable. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00265">fem_system.h:265</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_aabfa05497cde713f0dd351b537630ae5"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#aabfa05497cde713f0dd351b537630ae5">libMesh::DiffContext::get_elem_solution</a></div><div class="ttdeci">const DenseVector&lt; Number &gt; &amp; get_elem_solution() const </div><div class="ttdoc">访问器用于单元解。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00102">diff_context.h:102</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a5588f6411946120c9d917450ab73e2e2"><div class="ttname"><a href="namespacelibMesh.html#a5588f6411946120c9d917450ab73e2e2">libMesh::invalid_uint</a></div><div class="ttdeci">const unsigned int invalid_uint</div><div class="ttdoc">A number which is used quite often to represent an invalid or uninitialized value for an unsigned int...</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8h_source.html#l00254">libmesh.h:254</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a73b4c7f9f81fc10f215caf1f4799664a"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a73b4c7f9f81fc10f215caf1f4799664a">libMesh::FEMSystem::numerical_jacobian_h</a></div><div class="ttdeci">Real numerical_jacobian_h</div><div class="ttdoc">If calculating numeric jacobians is required, the FEMSystem will perturb each solution vector entry b...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00187">fem_system.h:187</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a505f5de95b7a4dd1e5bde01079bb9a75"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a505f5de95b7a4dd1e5bde01079bb9a75">libMesh::DiffContext::get_dof_indices</a></div><div class="ttdeci">const std::vector&lt; dof_id_type &gt; &amp; get_dof_indices() const </div><div class="ttdoc">获取元素自由度（Degree of Freedom，简称dof）索引的访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00336">diff_context.h:336</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_af7712d01779f053ea14d49b017c54828"><div class="ttname"><a href="classlibMesh_1_1Elem.html#af7712d01779f053ea14d49b017c54828">libMesh::Elem::hmin</a></div><div class="ttdeci">virtual Real hmin() const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8C_source.html#l00511">elem.C:511</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a3102589faec7aa5752b4f605d5e2283e"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">libMesh::DifferentiablePhysics::_mesh_y_var</a></div><div class="ttdeci">unsigned int _mesh_y_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a02979c5b814868a6657b5b146bcc1763"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a02979c5b814868a6657b5b146bcc1763">libMesh::DiffContext::get_elem_residual</a></div><div class="ttdeci">const DenseVector&lt; Number &gt; &amp; get_elem_residual() const </div><div class="ttdoc">元素残差的常量访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00222">diff_context.h:222</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMContext_html_aa8b842159e010a67ec1b5d99eac72950"><div class="ttname"><a href="classlibMesh_1_1FEMContext.html#aa8b842159e010a67ec1b5d99eac72950">libMesh::FEMContext::get_elem</a></div><div class="ttdeci">const Elem &amp; get_elem() const </div><div class="ttdoc">Accessor for current Elem object. </div><div class="ttdef"><b>Definition:</b> <a href="fem__context_8h_source.html#l00908">fem_context.h:908</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a07d41dee2024383b2fa1b449d167936a"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a07d41dee2024383b2fa1b449d167936a">libMesh::DiffContext::get_elem_jacobian</a></div><div class="ttdeci">const DenseMatrix&lt; Number &gt; &amp; get_elem_jacobian() const </div><div class="ttdoc">元素雅可比矩阵的常量访问器。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00252">diff_context.h:252</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a081fe25766a214bc0d22f86d114258c4"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">libMesh::DifferentiablePhysics::_mesh_z_var</a></div><div class="ttdeci">unsigned int _mesh_z_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseVector_html_ac40e5ec4725e0247b64f26c115facbd5"><div class="ttname"><a href="classlibMesh_1_1DenseVector.html#ac40e5ec4725e0247b64f26c115facbd5">libMesh::DenseVector::zero</a></div><div class="ttdeci">virtual void zero() overridefinal</div><div class="ttdoc">将向量中的每个元素设置为0。由于派生类中的存储方法可能不同，需要将其声明为纯虚函数。 </div><div class="ttdef"><b>Definition:</b> <a href="dense__vector_8h_source.html#l00428">dense_vector.h:428</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1Elem_html_a2cb5212bd36caff163c65e3ccff273f0"><div class="ttname"><a href="classlibMesh_1_1Elem.html#a2cb5212bd36caff163c65e3ccff273f0">libMesh::Elem::point</a></div><div class="ttdeci">const Point &amp; point(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="elem_8h_source.html#l02253">elem.h:2253</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseVector_html"><div class="ttname"><a href="classlibMesh_1_1DenseVector.html">libMesh::DenseVector&lt; Number &gt;</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1DenseMatrix_html"><div class="ttname"><a href="classlibMesh_1_1DenseMatrix.html">libMesh::DenseMatrix&lt; Number &gt;</a></div></div>
<div class="ttc" id="classlibMesh_1_1DiffContext_html_a3808511b30f01331b0d05b8e5172c205"><div class="ttname"><a href="classlibMesh_1_1DiffContext.html#a3808511b30f01331b0d05b8e5172c205">libMesh::DiffContext::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdoc">解决方案中的变量数。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__context_8h_source.html#l00090">diff_context.h:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47a6ff41c4810ce77b9597de9915f339"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::FEMSystem::numerical_jacobian_h_for_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var_num</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If numerical_jacobian_h_for_var(var_num) is changed from its default value (numerical_jacobian_h), the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will perturb solution vector entries for variable var_num by that amount when calculating finite differences with respect to that variable. </p>
<p>This is useful in multiphysics problems which have not been normalized. </p>

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00265">265</a> 行定义.</p>

<p>参考 <a class="el" href="fem__system_8h_source.html#l00258">libMesh::FEMSystem::_numerical_jacobian_h_for_var</a>, <a class="el" href="fem__system_8h_source.html#l00187">libMesh::FEMSystem::numerical_jacobian_h</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> ((var_num &gt;= <a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>.size()) ||</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>[var_num] == <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>(0))</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1FEMSystem.html#a73b4c7f9f81fc10f215caf1f4799664a">numerical_jacobian_h</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>[var_num];</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a73b4c7f9f81fc10f215caf1f4799664a"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a73b4c7f9f81fc10f215caf1f4799664a">libMesh::FEMSystem::numerical_jacobian_h</a></div><div class="ttdeci">Real numerical_jacobian_h</div><div class="ttdoc">If calculating numeric jacobians is required, the FEMSystem will perturb each solution vector entry b...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00187">fem_system.h:187</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_ae3419230ef71475ff853f3bef53a55e2"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">libMesh::FEMSystem::_numerical_jacobian_h_for_var</a></div><div class="ttdeci">std::vector&lt; Real &gt; _numerical_jacobian_h_for_var</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00258">fem_system.h:258</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa70d5f5a0428b9b563106bab8fa888cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::numerical_nonlocal_jacobian </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the results of multiple side_residual() calls to numerically differentiate the corresponding jacobian on nonlocal DoFs. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01338">1338</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1TimeSolver.html#ac87cad8b666f2eff12966d7769ae6950">libMesh::TimeSolver::nonlocal_residual()</a> , 以及 <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>
<div class="fragment"><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;numerical_nonlocal_jacobian()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">numerical_jacobian</a>(&amp;<a class="code" href="classlibMesh_1_1TimeSolver.html#ac87cad8b666f2eff12966d7769ae6950">TimeSolver::nonlocal_residual</a>, context);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4ce8525010231020fa26f1c3b487c8d6"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">libMesh::FEMSystem::numerical_jacobian</a></div><div class="ttdeci">void numerical_jacobian(TimeSolverResPtr res, FEMContext &amp;context) const </div><div class="ttdoc">Uses the results of multiple res calls to numerically differentiate the corresponding jacobian...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01210">fem_system.C:1210</a></div></div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_ac87cad8b666f2eff12966d7769ae6950"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#ac87cad8b666f2eff12966d7769ae6950">libMesh::TimeSolver::nonlocal_residual</a></div><div class="ttdeci">virtual bool nonlocal_residual(bool request_jacobian, DiffContext &amp;)=0</div><div class="ttdoc">This method uses the DifferentiablePhysics nonlocal_time_derivative(), nonlocal_constraint(), and nonlocal_mass_residual() to build a full residual of non-local terms. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33da347e7276cc3d789c566654a5e27c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::numerical_side_jacobian </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMContext.html">FEMContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the results of multiple side_residual() calls to numerically differentiate the corresponding jacobian on an element's side. </p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01330">1330</a> 行定义.</p>

<p>参考 <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="classlibMesh_1_1TimeSolver.html#afe6b041195b7c116b534ff31b60b2214">libMesh::TimeSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;{</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;numerical_side_jacobian()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">numerical_jacobian</a>(&amp;<a class="code" href="classlibMesh_1_1TimeSolver.html#afe6b041195b7c116b534ff31b60b2214">TimeSolver::side_residual</a>, context);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_afe6b041195b7c116b534ff31b60b2214"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#afe6b041195b7c116b534ff31b60b2214">libMesh::TimeSolver::side_residual</a></div><div class="ttdeci">virtual bool side_residual(bool request_jacobian, DiffContext &amp;)=0</div><div class="ttdoc">This method uses the DifferentiablePhysics side_time_derivative(), side_constraint(), and side_mass_residual() to build a full residual on an element&amp;#39;s side. </div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_a4ce8525010231020fa26f1c3b487c8d6"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#a4ce8525010231020fa26f1c3b487c8d6">libMesh::FEMSystem::numerical_jacobian</a></div><div class="ttdeci">void numerical_jacobian(TimeSolverResPtr res, FEMContext &amp;context) const </div><div class="ttdoc">Uses the results of multiple res calls to numerically differentiate the corresponding jacobian...</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l01210">fem_system.C:1210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a785309d11e57a7bd7c837a2c028a5c9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a>&amp; libMesh::ContinuationSystem::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa3ec31469c8a5bf2dc9e8f9f0cc10a09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a>&amp; libMesh::ContinuationSystem::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1ContinuationSystem.html">ContinuationSystem</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d75169be800a31d3ab9443d1b46e66c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::parallel_op </td>
          <td>(</td>
          <td class="paramtype">const Parallel::Communicator &amp;&#160;</td>
          <td class="paramname"><em>communicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>sys_qoi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>local_qoi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to populate system qoi data structure with process-local qoi. </p>
<p>By default, simply sums process qois into system qoi. </p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>.</p>

</div>
</div>
<a class="anchor" id="a63c35d2269fdf58a67c35243406d5cc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> libMesh::System::point_gradient </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>insist_on_success</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The gradient of the solution variable <code>var</code> at the physical point <code>p</code> in the mesh, similarly to point_value. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02458">2458</a> 行定义.</p>

<p>参考 <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1PointLocatorBase.html#a5263b7467954ceda7d7de43cc1d76cbf">libMesh::PointLocatorBase::enable_out_of_mesh_mode()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="mesh__base_8C_source.html#l01558">libMesh::MeshBase::sub_point_locator()</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l02585">libMesh::System::point_gradient()</a>.</p>
<div class="fragment"><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;{</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <span class="comment">// This function must be called on every processor; there&#39;s no</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="comment">// telling where in the partition p falls.</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="comment">// And every processor had better agree about which point we&#39;re</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;  <span class="comment">// looking for</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(0)));</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="preprocessor">#if LIBMESH_DIM &gt; 1</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(1)));</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if LIBMESH_DIM &gt; 2</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(2)));</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif // NDEBUG</span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="comment">// Get a reference to the mesh object associated with the system object that calls this function</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;  <span class="keyword">const</span> MeshBase &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  <span class="comment">// Use an existing PointLocator or create a new one</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  std::unique_ptr&lt;PointLocatorBase&gt; locator_ptr = mesh.sub_point_locator();</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  PointLocatorBase &amp; locator = *locator_ptr;</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordflow">if</span> (!insist_on_success || !mesh.is_serial())</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    locator.enable_out_of_mesh_mode();</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <span class="comment">// Get a pointer to an element that contains p and allows us to</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;  <span class="comment">// evaluate var</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; &amp; raw_subdomains =</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">active_subdomains</a>();</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; * implicit_subdomains =</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    raw_subdomains.empty() ? <span class="keyword">nullptr</span> : &amp;raw_subdomains;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keyword">const</span> Elem * e = locator(p, implicit_subdomains);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <a class="code" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> grad_u;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="keywordflow">if</span> (e &amp;&amp; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().is_evaluable(*e, var))</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    grad_u = <a class="code" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient</a>(var, p, *e, sol);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <span class="comment">// If I have an element containing p, then let&#39;s let everyone know</span></div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> lowest_owner =</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    (e &amp;&amp; (e-&gt;processor_id() == this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())) ?</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() : this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>();</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(lowest_owner);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  <span class="comment">// Everybody should get their value from a processor that was able</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <span class="comment">// to compute it.</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <span class="comment">// If nobody admits owning the point, we may have a problem.</span></div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <span class="keywordflow">if</span> (lowest_owner != this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>())</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(grad_u, lowest_owner);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!insist_on_success);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  <span class="keywordflow">return</span> grad_u;</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4b46bf2d57c1815051b6684921702ef2"><div class="ttname"><a href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">libMesh::Gradient</a></div><div class="ttdeci">NumberVectorValue Gradient</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00050">exact_solution.h:50</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a3476ae77bc771ef27229d2e44e937194"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">libMesh::Variable::active_subdomains</a></div><div class="ttdeci">const std::set&lt; subdomain_id_type &gt; &amp; active_subdomains() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00171">variable.h:171</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a63c35d2269fdf58a67c35243406d5cc6"><div class="ttname"><a href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">libMesh::System::point_gradient</a></div><div class="ttdeci">Gradient point_gradient(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02458">system.C:2458</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48dffd057337bcc38139c90b1c71a6bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> libMesh::System::point_gradient </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The gradient of the solution variable <code>var</code> at the physical point <code>p</code> in local <a class="el" href="classlibMesh_1_1Elem.html" title="This is the base class from which all geometric element types are derived. ">Elem</a> <code>e</code> in the mesh, similarly to point_value. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02520">2520</a> 行定义.</p>

<p>参考 <a class="el" href="fe__interface_8C_source.html#l02094">libMesh::FEInterface::compute_data()</a>, <a class="el" href="elem_8C_source.html#l02373">libMesh::Elem::contains_point()</a>, <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="classlibMesh_1_1Elem.html#a90a7ca1f28a92f659ab6f8cdef91d806">libMesh::Elem::dim()</a>, <a class="el" href="dof__map_8C_source.html#l01992">libMesh::DofMap::dof_indices()</a>, <a class="el" href="fe__compute__data_8h_source.html#l00086">libMesh::FEComputeData::dshape</a>, <a class="el" href="fe__compute__data_8C_source.html#l00071">libMesh::FEComputeData::enable_derivative()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l00730">libMesh::System::get_equation_systems()</a>, <a class="el" href="fe__map_8C_source.html#l01626">libMesh::FEMap::inverse_map()</a>, <a class="el" href="dof__map_8C_source.html#l02609">libMesh::DofMap::is_evaluable()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="fe__compute__data_8h_source.html#l00096">libMesh::FEComputeData::local_transform</a> , 以及 <a class="el" href="dof__map_8h_source.html#l02141">libMesh::DofMap::variable_type()</a>.</p>
<div class="fragment"><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;{</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="comment">// Ensuring that the given point is really in the element is an</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// expensive assert, but as long as debugging is turned on we might</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="comment">// as well try to catch a particularly nasty potential error</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (e.contains_point(p));</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <span class="keywordflow">if</span> (!sol)</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    sol = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>.get();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">// Get the dof map to get the proper indices for our computation</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="comment">// write the element dimension into a separate variable.</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim = e.dim();</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="comment">// Make sure we can evaluate on this element.</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (dof_map.is_evaluable(e, var));</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  <span class="comment">// Need dof_indices for phi[i][j]</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  std::vector&lt;dof_id_type&gt; dof_indices;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="comment">// Fill in the dof_indices for our element</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  dof_map.dof_indices (&amp;e, dof_indices, var);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="comment">// Get the no of dofs associated with this point</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_dofs = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    (dof_indices.size());</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;  FEType fe_type = dof_map.variable_type(var);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <span class="comment">// Map the physical co-ordinates to the master co-ordinates</span></div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  Point coor = <a class="code" href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">FEMap::inverse_map</a>(dim, &amp;e, p);</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="comment">// get the shape function value via the FEInterface to also handle the case</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;  <span class="comment">// of infinite elements correctly, the shape function is not fe-&gt;phi().</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  FEComputeData fe_data(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">get_equation_systems</a>(), coor);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  fe_data.enable_derivative();</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <a class="code" href="classlibMesh_1_1FEInterface.html#a73ff41d651b8412ccca780cf0b8c356d">FEInterface::compute_data</a>(dim, fe_type, &amp;e, fe_data);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="comment">// Get ready to accumulate a gradient</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;  <a class="code" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> grad_u;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;num_dofs; l++)</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    {</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;      <span class="comment">// Chartesian coordinates have always LIBMESH_DIM entries,</span></div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <span class="comment">// local coordinates have as many coordinates as the element has.</span></div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <span class="keywordflow">for</span> (std::size_t v=0; v&lt;dim; v++)</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;        <span class="keywordflow">for</span> (std::size_t xyz=0; xyz&lt;LIBMESH_DIM; xyz++)</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;          {</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;            <span class="comment">// FIXME: this needs better syntax: It is matrix-vector multiplication.</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;            grad_u(xyz) += fe_data.local_transform[v][xyz]</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;              * fe_data.dshape[l](v)</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;              * (*sol)(dof_indices[l]);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;          }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    }</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  <span class="keywordflow">return</span> grad_u;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMap_html_ab1c33e2c2078d7b474470fed4a58d0af"><div class="ttname"><a href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">libMesh::FEMap::inverse_map</a></div><div class="ttdeci">static Point inverse_map(const unsigned int dim, const Elem *elem, const Point &amp;p, const Real tolerance=TOLERANCE, const bool secure=true, const bool extra_checks=true)</div><div class="ttdoc">返回位于物理空间中的点 p 在参考单元上的位置。 </div><div class="ttdef"><b>Definition:</b> <a href="fe__map_8C_source.html#l01626">fe_map.C:1626</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEInterface_html_a73ff41d651b8412ccca780cf0b8c356d"><div class="ttname"><a href="classlibMesh_1_1FEInterface.html#a73ff41d651b8412ccca780cf0b8c356d">libMesh::FEInterface::compute_data</a></div><div class="ttdeci">static void compute_data(const unsigned int dim, const FEType &amp;fe_t, const Elem *elem, FEComputeData &amp;data)</div><div class="ttdoc">Lets the appropriate child of FEBase compute the requested data for the input specified in data...</div><div class="ttdef"><b>Definition:</b> <a href="fe__interface_8C_source.html#l02094">fe_interface.C:2094</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4b46bf2d57c1815051b6684921702ef2"><div class="ttname"><a href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">libMesh::Gradient</a></div><div class="ttdeci">NumberVectorValue Gradient</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00050">exact_solution.h:50</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5ca6b1f3adcfac56982982e90dc905b"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">libMesh::System::get_equation_systems</a></div><div class="ttdeci">const EquationSystems &amp; get_equation_systems() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00730">system.h:730</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a445b62a34b81751d50bb800302d8764f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> libMesh::System::point_gradient </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a> which takes a reference. </p>
<p>This function exists only to prevent people from calling the version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a> that has a boolean third argument, which would result in unnecessary PointLocator calls. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02585">2585</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>.</p>
<div class="fragment"><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;{</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(e);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient</a>(var, p, *e);</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a63c35d2269fdf58a67c35243406d5cc6"><div class="ttname"><a href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">libMesh::System::point_gradient</a></div><div class="ttdeci">Gradient point_gradient(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02458">system.C:2458</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81271f1aa0d210df10c6b176e4f78787"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> libMesh::System::point_gradient </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a>. </p>
<p>This function exists only to prevent people from accidentally calling the version of <a class="el" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient()</a> that has a boolean third argument, which would result in incorrect output. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02593">2593</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>.</p>
<div class="fragment"><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;{</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">point_gradient</a>(var, p, <span class="keyword">true</span>, sol);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a63c35d2269fdf58a67c35243406d5cc6"><div class="ttname"><a href="classlibMesh_1_1System.html#a63c35d2269fdf58a67c35243406d5cc6">libMesh::System::point_gradient</a></div><div class="ttdeci">Gradient point_gradient(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02458">system.C:2458</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6409dc341216274e1f8d43ea16f1f152"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> libMesh::System::point_hessian </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>insist_on_success</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The second derivative tensor of the solution variable <code>var</code> at the physical point <code>p</code> in the mesh, similarly to point_value. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02602">2602</a> 行定义.</p>

<p>参考 <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1PointLocatorBase.html#a5263b7467954ceda7d7de43cc1d76cbf">libMesh::PointLocatorBase::enable_out_of_mesh_mode()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="mesh__base_8C_source.html#l01558">libMesh::MeshBase::sub_point_locator()</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l02723">libMesh::System::point_hessian()</a>.</p>
<div class="fragment"><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;{</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <span class="comment">// This function must be called on every processor; there&#39;s no</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="comment">// telling where in the partition p falls.</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  <span class="comment">// And every processor had better agree about which point we&#39;re</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;  <span class="comment">// looking for</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(0)));</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="preprocessor">#if LIBMESH_DIM &gt; 1</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(1)));</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if LIBMESH_DIM &gt; 2</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(2)));</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif // NDEBUG</span></div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  <span class="comment">// Get a reference to the mesh object associated with the system object that calls this function</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="keyword">const</span> MeshBase &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">// Use an existing PointLocator or create a new one</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  std::unique_ptr&lt;PointLocatorBase&gt; locator_ptr = mesh.sub_point_locator();</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  PointLocatorBase &amp; locator = *locator_ptr;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;  <span class="keywordflow">if</span> (!insist_on_success || !mesh.is_serial())</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    locator.enable_out_of_mesh_mode();</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="comment">// Get a pointer to an element that contains p and allows us to</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;  <span class="comment">// evaluate var</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; &amp; raw_subdomains =</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">active_subdomains</a>();</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; * implicit_subdomains =</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    raw_subdomains.empty() ? <span class="keyword">nullptr</span> : &amp;raw_subdomains;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keyword">const</span> Elem * e = locator(p, implicit_subdomains);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;  <a class="code" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> hess_u;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordflow">if</span> (e &amp;&amp; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().is_evaluable(*e, var))</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    hess_u = <a class="code" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian</a>(var, p, *e, sol);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <span class="comment">// If I have an element containing p, then let&#39;s let everyone know</span></div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> lowest_owner =</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    (e &amp;&amp; (e-&gt;processor_id() == this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())) ?</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() : this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>();</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(lowest_owner);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// Everybody should get their value from a processor that was able</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="comment">// to compute it.</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// If nobody admits owning the point, we may have a problem.</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordflow">if</span> (lowest_owner != this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>())</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(hess_u, lowest_owner);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!insist_on_success);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  <span class="keywordflow">return</span> hess_u;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6409dc341216274e1f8d43ea16f1f152"><div class="ttname"><a href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">libMesh::System::point_hessian</a></div><div class="ttdeci">Tensor point_hessian(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02602">system.C:2602</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a5f437145a24acdee8c954a449f6389af"><div class="ttname"><a href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">libMesh::Tensor</a></div><div class="ttdeci">NumberTensorValue Tensor</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00048">exact_solution.h:48</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a3476ae77bc771ef27229d2e44e937194"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">libMesh::Variable::active_subdomains</a></div><div class="ttdeci">const std::set&lt; subdomain_id_type &gt; &amp; active_subdomains() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00171">variable.h:171</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ac195d544153c6ddff2d76979303b62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> libMesh::System::point_hessian </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The second derivative tensor of the solution variable <code>var</code> at the physical point <code>p</code> in local <a class="el" href="classlibMesh_1_1Elem.html" title="This is the base class from which all geometric element types are derived. ">Elem</a> <code>e</code> in the mesh, similarly to point_value. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02663">2663</a> 行定义.</p>

<p>参考 <a class="el" href="type__tensor_8h_source.html#l00941">libMesh::TypeTensor&lt; T &gt;::add_scaled()</a>, <a class="el" href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">libMesh::FEGenericBase&lt; T &gt;::build()</a>, <a class="el" href="elem_8C_source.html#l02373">libMesh::Elem::contains_point()</a>, <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="classlibMesh_1_1Elem.html#a90a7ca1f28a92f659ab6f8cdef91d806">libMesh::Elem::dim()</a>, <a class="el" href="dof__map_8C_source.html#l01992">libMesh::DofMap::dof_indices()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="classlibMesh_1_1Elem.html#af5eecb2e1afee8bc7ebf8632da91e4ff">libMesh::Elem::infinite()</a>, <a class="el" href="fe__map_8C_source.html#l01626">libMesh::FEMap::inverse_map()</a>, <a class="el" href="dof__map_8C_source.html#l02609">libMesh::DofMap::is_evaluable()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="dof__map_8h_source.html#l02141">libMesh::DofMap::variable_type()</a>.</p>
<div class="fragment"><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;{</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  <span class="comment">// Ensuring that the given point is really in the element is an</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <span class="comment">// expensive assert, but as long as debugging is turned on we might</span></div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="comment">// as well try to catch a particularly nasty potential error</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (e.contains_point(p));</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <span class="keywordflow">if</span> (!sol)</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    sol = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>.get();</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">if</span> (e.infinite())</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    libmesh_not_implemented();</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="comment">// Get the dof map to get the proper indices for our computation</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="comment">// Make sure we can evaluate on this element.</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (dof_map.is_evaluable(e, var));</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="comment">// Need dof_indices for phi[i][j]</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;  std::vector&lt;dof_id_type&gt; dof_indices;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="comment">// Fill in the dof_indices for our element</span></div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;  dof_map.dof_indices (&amp;e, dof_indices, var);</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="comment">// Get the no of dofs associated with this point</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_dofs = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    (dof_indices.size());</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;  FEType fe_type = dof_map.variable_type(var);</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  <span class="comment">// Build a FE again so we can calculate u(p)</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  std::unique_ptr&lt;FEBase&gt; fe (<a class="code" href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">FEBase::build</a>(e.dim(), fe_type));</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="comment">// Map the physical co-ordinates to the master co-ordinates</span></div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <span class="comment">// Build a vector of point co-ordinates to send to reinit</span></div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  std::vector&lt;Point&gt; coor(1, <a class="code" href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">FEMap::inverse_map</a>(e.dim(), &amp;e, p));</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  <span class="comment">// Get the values of the shape function derivatives</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;  <span class="keyword">const</span> std::vector&lt;std::vector&lt;RealTensor&gt;&gt; &amp;  d2phi = fe-&gt;get_d2phi();</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="comment">// Reinitialize the element and compute the shape function values at coor</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  fe-&gt;reinit (&amp;e, &amp;coor);</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="comment">// Get ready to accumulate a hessian</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <a class="code" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> hess_u;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;num_dofs; l++)</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      hess_u.<a class="code" href="classlibMesh_1_1TypeTensor.html#abfc7f022dcb7b486270c1ba7d8c05b56">add_scaled</a> (d2phi[l][0], (*sol)(dof_indices[l]));</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordflow">return</span> hess_u;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1TypeTensor_html_abfc7f022dcb7b486270c1ba7d8c05b56"><div class="ttname"><a href="classlibMesh_1_1TypeTensor.html#abfc7f022dcb7b486270c1ba7d8c05b56">libMesh::TypeTensor::add_scaled</a></div><div class="ttdeci">void add_scaled(const TypeTensor&lt; T2 &gt; &amp;, const T &amp;scale)</div><div class="ttdoc">在不创建临时 Tensor 的情况下将一个缩放的 Tensor 加到该 Tensor 上。 </div><div class="ttdef"><b>Definition:</b> <a href="type__tensor_8h_source.html#l00941">type_tensor.h:941</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMap_html_ab1c33e2c2078d7b474470fed4a58d0af"><div class="ttname"><a href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">libMesh::FEMap::inverse_map</a></div><div class="ttdeci">static Point inverse_map(const unsigned int dim, const Elem *elem, const Point &amp;p, const Real tolerance=TOLERANCE, const bool secure=true, const bool extra_checks=true)</div><div class="ttdoc">返回位于物理空间中的点 p 在参考单元上的位置。 </div><div class="ttdef"><b>Definition:</b> <a href="fe__map_8C_source.html#l01626">fe_map.C:1626</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a5f437145a24acdee8c954a449f6389af"><div class="ttname"><a href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">libMesh::Tensor</a></div><div class="ttdeci">NumberTensorValue Tensor</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00048">exact_solution.h:48</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEGenericBase_html_ac21e9cefbb91aecf68a6a9526a38f5e0"><div class="ttname"><a href="classlibMesh_1_1FEGenericBase.html#ac21e9cefbb91aecf68a6a9526a38f5e0">libMesh::FEGenericBase::build</a></div><div class="ttdeci">static std::unique_ptr&lt; FEGenericBase &gt; build(const unsigned int dim, const FEType &amp;type)</div><div class="ttdoc">Builds a specific finite element type. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadaf986b9da86669089dbab71634878e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> libMesh::System::point_hessian </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a> which takes a reference. </p>
<p>This function exists only to prevent people from calling the version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a> that has a boolean third argument, which would result in unnecessary PointLocator calls. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02723">2723</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>.</p>
<div class="fragment"><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;{</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(e);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian</a>(var, p, *e);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6409dc341216274e1f8d43ea16f1f152"><div class="ttname"><a href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">libMesh::System::point_hessian</a></div><div class="ttdeci">Tensor point_hessian(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02602">system.C:2602</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9dbcf5be115df75e2c7d8517276d1fc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a5f437145a24acdee8c954a449f6389af">Tensor</a> libMesh::System::point_hessian </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a>. </p>
<p>This function exists only to prevent people from accidentally calling the version of <a class="el" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian()</a> that has a boolean third argument, which would result in incorrect output. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02731">2731</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>.</p>
<div class="fragment"><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;{</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">point_hessian</a>(var, p, <span class="keyword">true</span>, sol);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6409dc341216274e1f8d43ea16f1f152"><div class="ttname"><a href="classlibMesh_1_1System.html#a6409dc341216274e1f8d43ea16f1f152">libMesh::System::point_hessian</a></div><div class="ttdeci">Tensor point_hessian(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02602">system.C:2602</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32dc23729dbda0930043a703e489aabe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::point_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>insist_on_success</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The value of the solution variable <code>var</code> at the physical point <code>p</code> in the mesh, without knowing a priori which element contains <code>p</code>, using the degree of freedom coefficients in <code>sol</code> (or in <code>current_local_solution</code> if <code>sol</code> is left null).</dd></dl>
<dl class="section note"><dt>注解</dt><dd>This function uses <code><a class="el" href="classlibMesh_1_1MeshBase.html#a5057a11d4b30ab7757a76ac3c7e3017b">MeshBase::sub_point_locator()</a></code>; users may or may not want to call <code><a class="el" href="classlibMesh_1_1MeshBase.html#acc11230de16adce50cbd3edabe8b778a" title="Releases the current PointLocator object. ">MeshBase::clear_point_locator()</a></code> afterward. Also, point_locator() is expensive (N log N for initial construction, log N for evaluations). Avoid using this function in any context where you are already looping over elements.</dd></dl>
<p>Because the element containing <code>p</code> may lie on any processor, this function is parallel-only.</p>
<p>By default this method expects the point to reside inside the domain and will abort if no element can be found which contains <code>p</code>. The optional parameter <code>insist_on_success</code> can be set to false to allow the method to return 0 when the point is not located. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02329">2329</a> 行定义.</p>

<p>参考 <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="classlibMesh_1_1PointLocatorBase.html#a5263b7467954ceda7d7de43cc1d76cbf">libMesh::PointLocatorBase::enable_out_of_mesh_mode()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="mesh__base_8h_source.html#l00201">libMesh::MeshBase::is_serial()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="dof__object_8h_source.html#l00898">libMesh::DofObject::processor_id()</a>, <a class="el" href="mesh__base_8C_source.html#l01558">libMesh::MeshBase::sub_point_locator()</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l02442">libMesh::System::point_value()</a>.</p>
<div class="fragment"><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;{</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <span class="comment">// This function must be called on every processor; there&#39;s no</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <span class="comment">// telling where in the partition p falls.</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  <span class="comment">// And every processor had better agree about which point we&#39;re</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  <span class="comment">// looking for</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(0)));</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="preprocessor">#if LIBMESH_DIM &gt; 1</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(1)));</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if LIBMESH_DIM &gt; 2</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().verify(p(2)));</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif // NDEBUG</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <span class="comment">// Get a reference to the mesh object associated with the system object that calls this function</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keyword">const</span> MeshBase &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="comment">// Use an existing PointLocator or create a new one</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;  std::unique_ptr&lt;PointLocatorBase&gt; locator_ptr = mesh.sub_point_locator();</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  PointLocatorBase &amp; locator = *locator_ptr;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <span class="keywordflow">if</span> (!insist_on_success || !mesh.is_serial())</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    locator.enable_out_of_mesh_mode();</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="comment">// Get a pointer to an element that contains p and allows us to</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="comment">// evaluate var</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; &amp; raw_subdomains =</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">active_subdomains</a>();</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; * implicit_subdomains =</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    raw_subdomains.empty() ? <span class="keyword">nullptr</span> : &amp;raw_subdomains;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  <span class="keyword">const</span> Elem * e = locator(p, implicit_subdomains);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> u = 0;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <span class="keywordflow">if</span> (e &amp;&amp; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().is_evaluable(*e, var))</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    u = <a class="code" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value</a>(var, p, *e, sol);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="comment">// If I have an element containing p, then let&#39;s let everyone know</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <a class="code" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> lowest_owner =</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    (e &amp;&amp; (e-&gt;processor_id() == this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>())) ?</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() : this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>();</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().min(lowest_owner);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <span class="comment">// Everybody should get their value from a processor that was able</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="comment">// to compute it.</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="comment">// If nobody admits owning the point, we have a problem.</span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">if</span> (lowest_owner != this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>())</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(u, lowest_owner);</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!insist_on_success);</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordflow">return</span> u;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af18245d4f872c36a41fc74086bda3e80"><div class="ttname"><a href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">libMesh::processor_id_type</a></div><div class="ttdeci">uint8_t processor_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00104">id_types.h:104</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a32dc23729dbda0930043a703e489aabe"><div class="ttname"><a href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">libMesh::System::point_value</a></div><div class="ttdeci">Number point_value(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02329">system.C:2329</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a3476ae77bc771ef27229d2e44e937194"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">libMesh::Variable::active_subdomains</a></div><div class="ttdeci">const std::set&lt; subdomain_id_type &gt; &amp; active_subdomains() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00171">variable.h:171</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16cbd4827285c18d03a0716b34074dc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::point_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The value of the solution variable <code>var</code> at the physical point <code>p</code> contained in local <a class="el" href="classlibMesh_1_1Elem.html" title="This is the base class from which all geometric element types are derived. ">Elem</a> <code>e</code>, using the degree of freedom coefficients in <code>sol</code> (or in <code>current_local_solution</code> if <code>sol</code> is left null).</dd></dl>
<p>This version of point_value can be run in serial, but assumes <code>e</code> is in the local mesh partition or is algebraically ghosted. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02390">2390</a> 行定义.</p>

<p>参考 <a class="el" href="fe__interface_8C_source.html#l02094">libMesh::FEInterface::compute_data()</a>, <a class="el" href="elem_8C_source.html#l02373">libMesh::Elem::contains_point()</a>, <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="classlibMesh_1_1Elem.html#a90a7ca1f28a92f659ab6f8cdef91d806">libMesh::Elem::dim()</a>, <a class="el" href="dof__map_8C_source.html#l01992">libMesh::DofMap::dof_indices()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l00730">libMesh::System::get_equation_systems()</a>, <a class="el" href="fe__map_8C_source.html#l01626">libMesh::FEMap::inverse_map()</a>, <a class="el" href="dof__map_8C_source.html#l02609">libMesh::DofMap::is_evaluable()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="dof__map_8h_source.html#l02141">libMesh::DofMap::variable_type()</a>.</p>
<div class="fragment"><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;{</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="comment">// Ensuring that the given point is really in the element is an</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="comment">// expensive assert, but as long as debugging is turned on we might</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="comment">// as well try to catch a particularly nasty potential error</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (e.contains_point(p));</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <span class="keywordflow">if</span> (!sol)</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    sol = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>.get();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="comment">// Get the dof map to get the proper indices for our computation</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="comment">// Make sure we can evaluate on this element.</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (dof_map.is_evaluable(e, var));</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="comment">// Need dof_indices for phi[i][j]</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  std::vector&lt;dof_id_type&gt; dof_indices;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="comment">// Fill in the dof_indices for our element</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  dof_map.dof_indices (&amp;e, dof_indices, var);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="comment">// Get the no of dofs associated with this point</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_dofs = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    (dof_indices.size());</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  FEType fe_type = dof_map.variable_type(var);</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="comment">// Map the physical co-ordinates to the master co-ordinates</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  Point coor = <a class="code" href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">FEMap::inverse_map</a>(e.dim(), &amp;e, p);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="comment">// get the shape function value via the FEInterface to also handle the case</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <span class="comment">// of infinite elements correctly, the shape function is not fe-&gt;phi().</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;  FEComputeData fe_data(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">get_equation_systems</a>(), coor);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <a class="code" href="classlibMesh_1_1FEInterface.html#a73ff41d651b8412ccca780cf0b8c356d">FEInterface::compute_data</a>(e.dim(), fe_type, &amp;e, fe_data);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// Get ready to accumulate a value</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> u = 0;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l&lt;num_dofs; l++)</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    {</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      u += fe_data.shape[l] * (*sol)(dof_indices[l]);</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">return</span> u;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMap_html_ab1c33e2c2078d7b474470fed4a58d0af"><div class="ttname"><a href="classlibMesh_1_1FEMap.html#ab1c33e2c2078d7b474470fed4a58d0af">libMesh::FEMap::inverse_map</a></div><div class="ttdeci">static Point inverse_map(const unsigned int dim, const Elem *elem, const Point &amp;p, const Real tolerance=TOLERANCE, const bool secure=true, const bool extra_checks=true)</div><div class="ttdoc">返回位于物理空间中的点 p 在参考单元上的位置。 </div><div class="ttdef"><b>Definition:</b> <a href="fe__map_8C_source.html#l01626">fe_map.C:1626</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEInterface_html_a73ff41d651b8412ccca780cf0b8c356d"><div class="ttname"><a href="classlibMesh_1_1FEInterface.html#a73ff41d651b8412ccca780cf0b8c356d">libMesh::FEInterface::compute_data</a></div><div class="ttdeci">static void compute_data(const unsigned int dim, const FEType &amp;fe_t, const Elem *elem, FEComputeData &amp;data)</div><div class="ttdoc">Lets the appropriate child of FEBase compute the requested data for the input specified in data...</div><div class="ttdef"><b>Definition:</b> <a href="fe__interface_8C_source.html#l02094">fe_interface.C:2094</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5ca6b1f3adcfac56982982e90dc905b"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">libMesh::System::get_equation_systems</a></div><div class="ttdeci">const EquationSystems &amp; get_equation_systems() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00730">system.h:730</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60cfe486b33aae1df441ab89dc7ad06a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::point_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Elem.html">Elem</a> *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a> which takes a reference. </p>
<p>This function exists only to prevent people from calling the version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a> that has a boolean third argument, which would result in unnecessary PointLocator calls. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02442">2442</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>.</p>
<div class="fragment"><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;{</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(e);</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value</a>(var, p, *e);</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a32dc23729dbda0930043a703e489aabe"><div class="ttname"><a href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">libMesh::System::point_value</a></div><div class="ttdeci">Number point_value(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02329">system.C:2329</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04f3cd2f1b27b09d8a435e27de8e52a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> libMesh::System::point_value </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Point.html">Point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>sol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the parallel version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a>. </p>
<p>This function exists only to prevent people from accidentally calling the version of <a class="el" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value()</a> that has a boolean third argument, which would result in incorrect output. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02450">2450</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>.</p>
<div class="fragment"><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;{</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">point_value</a>(var, p, <span class="keyword">true</span>, sol);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a32dc23729dbda0930043a703e489aabe"><div class="ttname"><a href="classlibMesh_1_1System.html#a32dc23729dbda0930043a703e489aabe">libMesh::System::point_value</a></div><div class="ttdeci">Number point_value(unsigned int var, const Point &amp;p, const bool insist_on_success=true, const NumericVector&lt; Number &gt; *sol=nullptr) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02329">system.C:2329</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24569db75612034e6e76da10503723bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::pop_physics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从堆栈中弹出一个物理对象。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00409">409</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a>, <a class="el" href="implicit__system_8C_source.html#l00105">libMesh::ImplicitSystem::disable_cache()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty());</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.pop();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// If the physics has been changed, we will reassemble</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// the matrix from scratch before doing an adjoint solve</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// rather than just transposing</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">disable_cache</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a741883b7f26a17f565f2f74e78f3397b"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">libMesh::ImplicitSystem::disable_cache</a></div><div class="ttdeci">virtual void disable_cache() override</div><div class="ttdoc">Avoids use of any cached data that might affect any solve result. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00105">implicit_system.C:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71156cbaca0860bd51bff2d21149b7b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::postprocess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs a postprocessing loop over all elements, and if <code>postprocess_sides</code> is true over all sides. </p>

<p>重载 <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#a07f06d22377b6668eeb79b73679be943">libMesh::DifferentiableSystem</a> .</p>

<p>在文件 <a class="el" href="fem__system_8C_source.html">fem_system.C</a> 第 <a class="el" href="fem__system_8C_source.html#l01127">1127</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="diff__system_8h_source.html#l00409">libMesh::DifferentiableSystem::get_time_solver()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="threads__none_8h_source.html#l00073">libMesh::Threads::parallel_for()</a>, <a class="el" href="time__solver_8h_source.html#l00284">libMesh::TimeSolver::set_is_adjoint()</a> , 以及 <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a>.</p>
<div class="fragment"><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;postprocess()&quot;</span>, <span class="stringliteral">&quot;FEMSystem&quot;</span>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keyword">const</span> <a class="code" href="classlibMesh_1_1MeshBase.html">MeshBase</a> &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// Get the time solver object associated with the system, and tell it that</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// we are not solving the adjoint problem</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">get_time_solver</a>().<a class="code" href="classlibMesh_1_1TimeSolver.html#a0c67591fc3ee089d9a673c11d5fe7c30">set_is_adjoint</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// Loop over every active mesh element on this processor</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">Threads::parallel_for</a> (elem_range.reset(mesh.active_local_elements_begin(),</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                          mesh.active_local_elements_end()),</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                         PostprocessContributions(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a97dcd01ff677ad850c3c9f6d8380dba2"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a97dcd01ff677ad850c3c9f6d8380dba2">libMesh::Threads::parallel_for</a></div><div class="ttdeci">void parallel_for(const Range &amp;range, const Body &amp;body)</div><div class="ttdoc">Execute the provided function object in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00073">threads_none.h:73</a></div></div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html">libMesh::MeshBase</a></div><div class="ttdoc">This is the MeshBase class. </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8h_source.html#l00070">mesh_base.h:70</a></div></div>
<div class="ttc" id="classlibMesh_1_1TimeSolver_html_a0c67591fc3ee089d9a673c11d5fe7c30"><div class="ttname"><a href="classlibMesh_1_1TimeSolver.html#a0c67591fc3ee089d9a673c11d5fe7c30">libMesh::TimeSolver::set_is_adjoint</a></div><div class="ttdeci">void set_is_adjoint(bool _is_adjoint_value)</div><div class="ttdoc">Accessor for setting whether we need to do a primal or adjoint solve. </div><div class="ttdef"><b>Definition:</b> <a href="time__solver_8h_source.html#l00284">time_solver.h:284</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab9d81ac9c1787c43fb87cf13d37741ee"><div class="ttname"><a href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">libMesh::System::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Update the local values to reflect the solution on neighboring processors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00492">system.C:492</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ab483909038f728046821a7974b686742"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ab483909038f728046821a7974b686742">libMesh::DifferentiableSystem::get_time_solver</a></div><div class="ttdeci">TimeSolver &amp; get_time_solver()</div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00409">diff_system.h:409</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13ce734a14ffd1dbb6496dab702da8e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ReferenceCounter::print_info </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out_stream</em> = <code><a class="el" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the reference information, by default to <code><a class="el" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></code>. </p>

<p>在文件 <a class="el" href="reference__counter_8C_source.html">reference_counter.C</a> 第 <a class="el" href="reference__counter_8C_source.html#l00081">81</a> 行定义.</p>

<p>参考 <a class="el" href="reference__counter_8h_source.html#l00143">libMesh::ReferenceCounter::_enable_print_counter</a> , 以及 <a class="el" href="reference__counter_8C_source.html#l00047">libMesh::ReferenceCounter::get_info()</a>.</p>

<p>参考自 <a class="el" href="libmesh_8C_source.html#l00668">libMesh::LibMeshInit::~LibMeshInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">_enable_print_counter</a>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    out_stream &lt;&lt; <a class="code" href="classlibMesh_1_1ReferenceCounter.html#a103b37125ae9eaaadf6f7854df17faa2">ReferenceCounter::get_info</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a103b37125ae9eaaadf6f7854df17faa2"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a103b37125ae9eaaadf6f7854df17faa2">libMesh::ReferenceCounter::get_info</a></div><div class="ttdeci">static std::string get_info()</div><div class="ttdoc">Gets a string containing the reference information. </div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8C_source.html#l00047">reference_counter.C:47</a></div></div>
<div class="ttc" id="classlibMesh_1_1ReferenceCounter_html_a8f75e8a4a280f2c41636f2ae1307a311"><div class="ttname"><a href="classlibMesh_1_1ReferenceCounter.html#a8f75e8a4a280f2c41636f2ae1307a311">libMesh::ReferenceCounter::_enable_print_counter</a></div><div class="ttdeci">static bool _enable_print_counter</div><div class="ttdoc">Flag to control whether reference count information is printed when print_info is called...</div><div class="ttdef"><b>Definition:</b> <a href="reference__counter_8h_source.html#l00143">reference_counter.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae1e7d1a1118f63d9889a761c27433bbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a> libMesh::ParallelObject::processor_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The rank of this processor in the group. </dd></dl>

<p>在文件 <a class="el" href="parallel__object_8h_source.html">parallel_object.h</a> 第 <a class="el" href="parallel__object_8h_source.html#l00114">114</a> 行定义.</p>

<p>参考 <a class="el" href="parallel__object_8h_source.html#l00120">libMesh::ParallelObject::_communicator</a>.</p>

<p>参考自 <a class="el" href="boundary__info_8C_source.html#l03032">libMesh::BoundaryInfo::_find_id_maps()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00961">libMesh::PetscDMWrapper::add_dofs_to_section()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00532">libMesh::DistributedMesh::add_elem()</a>, <a class="el" href="boundary__info_8C_source.html#l00620">libMesh::BoundaryInfo::add_elements()</a>, <a class="el" href="dof__map_8C_source.html#l01544">libMesh::DofMap::add_neighbors_to_send_list()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00799">libMesh::DistributedMesh::add_node()</a>, <a class="el" href="mesh__modification_8C_source.html#l00333">libMesh::MeshTools::Modification::all_tri()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03708">libMesh::DofMap::allgather_recursive_constraints()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="nemesis__io_8C_source.html#l00161">libMesh::Nemesis_IO::assert_symmetric_cmaps()</a>, <a class="el" href="partitioner_8C_source.html#l01334">libMesh::Partitioner::assign_partitioning()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01630">libMesh::Nemesis_IO_Helper::build_element_and_node_maps()</a>, <a class="el" href="partitioner_8C_source.html#l01111">libMesh::Partitioner::build_graph()</a>, <a class="el" href="inf__elem__builder_8C_source.html#l00041">libMesh::InfElemBuilder::build_inf_elem()</a>, <a class="el" href="boundary__info_8C_source.html#l02309">libMesh::BoundaryInfo::build_node_list_from_side_list()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="dof__map_8C_source.html#l00064">libMesh::DofMap::build_sparsity()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00989">libMesh::DistributedMesh::clear()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01022">libMesh::DistributedMesh::clear_elems()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l01752">libMesh::ExodusII_IO_Helper::close()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01793">libMesh::Nemesis_IO_Helper::compute_border_node_ids()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01110">libMesh::Nemesis_IO_Helper::compute_communication_map_parameters()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01188">libMesh::Nemesis_IO_Helper::compute_internal_and_border_elems_and_internal_nodes()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01038">libMesh::Nemesis_IO_Helper::compute_node_communication_maps()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01530">libMesh::Nemesis_IO_Helper::compute_num_global_elem_blocks()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01419">libMesh::Nemesis_IO_Helper::compute_num_global_nodesets()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01326">libMesh::Nemesis_IO_Helper::compute_num_global_sidesets()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02791">libMesh::Nemesis_IO_Helper::construct_nemesis_filename()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="mesh__tools_8C_source.html#l02222">libMesh::MeshTools::correct_node_proc_ids()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02125">libMesh::ExodusII_IO_Helper::create()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00711">libMesh::DistributedMesh::delete_elem()</a>, <a class="el" href="mesh__communication_8C_source.html#l01976">libMesh::MeshCommunication::delete_remote_elements()</a>, <a class="el" href="dof__map_8C_source.html#l00927">libMesh::DofMap::distribute_dofs()</a>, <a class="el" href="dof__map_8C_source.html#l01196">libMesh::DofMap::distribute_local_dofs_node_major()</a>, <a class="el" href="dof__map_8C_source.html#l01299">libMesh::DofMap::distribute_local_dofs_var_major()</a>, <a class="el" href="dof__map_8C_source.html#l01394">libMesh::DofMap::distribute_scalar_dofs()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00195">libMesh::DistributedMesh::DistributedMesh()</a>, <a class="el" href="dof__map_8h_source.html#l00711">libMesh::DofMap::end_dof()</a>, <a class="el" href="dof__map_8h_source.html#l00734">libMesh::DofMap::end_old_dof()</a>, <a class="el" href="ensight__io_8C_source.html#l00065">libMesh::EnsightIO::EnsightIO()</a>, <a class="el" href="generic__projector_8h_source.html#l02829">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SubFunctor::find_dofs_to_send()</a>, <a class="el" href="mesh__function_8C_source.html#l00648">libMesh::MeshFunction::find_element()</a>, <a class="el" href="mesh__function_8C_source.html#l00692">libMesh::MeshFunction::find_elements()</a>, <a class="el" href="unstructured__mesh_8C_source.html#l00530">libMesh::UnstructuredMesh::find_neighbors()</a>, <a class="el" href="dof__map_8h_source.html#l00687">libMesh::DofMap::first_dof()</a>, <a class="el" href="dof__map_8h_source.html#l00697">libMesh::DofMap::first_old_dof()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00369">libMesh::Nemesis_IO_Helper::get_cmap_params()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00223">libMesh::Nemesis_IO_Helper::get_eb_info_global()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00454">libMesh::Nemesis_IO_Helper::get_elem_cmap()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00301">libMesh::Nemesis_IO_Helper::get_elem_map()</a>, <a class="el" href="mesh__base_8C_source.html#l01020">libMesh::MeshBase::get_info()</a>, <a class="el" href="dof__map_8C_source.html#l02922">libMesh::DofMap::get_info()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00132">libMesh::Nemesis_IO_Helper::get_init_global()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00252">libMesh::Nemesis_IO_Helper::get_init_info()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00271">libMesh::Nemesis_IO_Helper::get_loadbal_param()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l02288">libMesh::DofMap::get_local_constraints()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00412">libMesh::Nemesis_IO_Helper::get_node_cmap()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00332">libMesh::Nemesis_IO_Helper::get_node_map()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00191">libMesh::Nemesis_IO_Helper::get_ns_param_global()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00155">libMesh::Nemesis_IO_Helper::get_ss_param_global()</a>, <a class="el" href="sparsity__pattern_8C_source.html#l00111">libMesh::SparsityPattern::Build::handle_vi_vj()</a>, <a class="el" href="mesh__smoother__laplace_8C_source.html#l00159">libMesh::LaplaceMeshSmoother::init()</a>, <a class="el" href="system__subset__by__subdomain_8C_source.html#l00103">libMesh::SystemSubsetBySubdomain::init()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="parmetis__partitioner_8C_source.html#l00241">libMesh::ParmetisPartitioner::initialize()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02182">libMesh::ExodusII_IO_Helper::initialize()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03206">libMesh::ExodusII_IO_Helper::initialize_element_variables()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03301">libMesh::ExodusII_IO_Helper::initialize_global_variables()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03273">libMesh::ExodusII_IO_Helper::initialize_nodal_variables()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00654">libMesh::DistributedMesh::insert_elem()</a>, <a class="el" href="dof__map_8C_source.html#l02609">libMesh::DofMap::is_evaluable()</a>, <a class="el" href="sparsity__pattern_8C_source.html#l00363">libMesh::SparsityPattern::Build::join()</a>, <a class="el" href="mesh__tools_8C_source.html#l01783">libMesh::MeshTools::libmesh_assert_consistent_distributed()</a>, <a class="el" href="mesh__tools_8C_source.html#l01813">libMesh::MeshTools::libmesh_assert_consistent_distributed_nodes()</a>, <a class="el" href="mesh__tools_8C_source.html#l01266">libMesh::MeshTools::libmesh_assert_contiguous_dof_ids()</a>, <a class="el" href="mesh__tools_8C_source.html#l01846">libMesh::MeshTools::libmesh_assert_parallel_consistent_procids&lt; Elem &gt;()</a>, <a class="el" href="mesh__tools_8C_source.html#l02034">libMesh::MeshTools::libmesh_assert_valid_neighbors()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01083">libMesh::DistributedMesh::libmesh_assert_valid_parallel_object_ids()</a>, <a class="el" href="dof__map_8C_source.html#l01109">libMesh::DofMap::local_variable_indices()</a>, <a class="el" href="mesh__refinement_8C_source.html#l00779">libMesh::MeshRefinement::make_coarsening_compatible()</a>, <a class="el" href="mesh__triangle__holes_8C_source.html#l00451">libMesh::TriangulatorInterface::MeshedHole::MeshedHole()</a>, <a class="el" href="mesh__base_8h_source.html#l00540">libMesh::MeshBase::n_active_local_elem()</a>, <a class="el" href="boundary__info_8C_source.html#l02171">libMesh::BoundaryInfo::n_boundary_conds()</a>, <a class="el" href="boundary__info_8C_source.html#l02192">libMesh::BoundaryInfo::n_edge_conds()</a>, <a class="el" href="dof__map_8h_source.html#l00669">libMesh::DofMap::n_local_dofs()</a>, <a class="el" href="system_8C_source.html#l00149">libMesh::System::n_local_dofs()</a>, <a class="el" href="mesh__base_8h_source.html#l00523">libMesh::MeshBase::n_local_elem()</a>, <a class="el" href="mesh__base_8h_source.html#l00417">libMesh::MeshBase::n_local_nodes()</a>, <a class="el" href="boundary__info_8C_source.html#l02236">libMesh::BoundaryInfo::n_nodeset_conds()</a>, <a class="el" href="boundary__info_8C_source.html#l02214">libMesh::BoundaryInfo::n_shellface_conds()</a>, <a class="el" href="periodic__boundaries_8C_source.html#l00059">libMesh::PeriodicBoundaries::neighbor()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="sparsity__pattern_8C_source.html#l00238">libMesh::SparsityPattern::Build::operator()()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00211">libMesh::PatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00785">libMesh::DistributedMesh::own_node()</a>, <a class="el" href="boundary__info_8C_source.html#l02489">libMesh::BoundaryInfo::parallel_sync_node_ids()</a>, <a class="el" href="boundary__info_8C_source.html#l02433">libMesh::BoundaryInfo::parallel_sync_side_ids()</a>, <a class="el" href="metis__partitioner_8C_source.html#l00068">libMesh::MetisPartitioner::partition_range()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l02262">libMesh::DofMap::print_dof_constraints()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l01898">libMesh::DofMap::process_mesh_constraint_rows()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00620">libMesh::Nemesis_IO_Helper::put_cmap_params()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00700">libMesh::Nemesis_IO_Helper::put_elem_cmap()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00721">libMesh::Nemesis_IO_Helper::put_elem_map()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00594">libMesh::Nemesis_IO_Helper::put_loadbal_param()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00639">libMesh::Nemesis_IO_Helper::put_node_cmap()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l00683">libMesh::Nemesis_IO_Helper::put_node_map()</a>, <a class="el" href="namebased__io_8C_source.html#l00080">libMesh::NameBasedIO::read()</a>, <a class="el" href="nemesis__io_8C_source.html#l00198">libMesh::Nemesis_IO::read()</a>, <a class="el" href="xdr__io_8C_source.html#l01420">libMesh::XdrIO::read()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00814">libMesh::CheckpointIO::read()</a>, <a class="el" href="equation__systems__io_8C_source.html#l00089">libMesh::EquationSystems::read()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l01453">libMesh::ExodusII_IO_Helper::read_elem_num_map()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04623">libMesh::ExodusII_IO_Helper::read_global_values()</a>, <a class="el" href="exodusII__io_8C_source.html#l00894">libMesh::ExodusII_IO::read_header()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00893">libMesh::CheckpointIO::read_header()</a>, <a class="el" href="xdr__io_8C_source.html#l01552">libMesh::XdrIO::read_header()</a>, <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="dyna__io_8C_source.html#l00177">libMesh::DynaIO::read_mesh()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l00877">libMesh::ExodusII_IO_Helper::read_node_num_map()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="xdr__io_8C_source.html#l02371">libMesh::XdrIO::read_serialized_bc_names()</a>, <a class="el" href="xdr__io_8C_source.html#l02192">libMesh::XdrIO::read_serialized_bcs_helper()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__io_8C_source.html#l01727">libMesh::XdrIO::read_serialized_connectivity()</a>, <a class="el" href="system__io_8C_source.html#l00680">libMesh::System::read_serialized_data()</a>, <a class="el" href="xdr__io_8C_source.html#l01968">libMesh::XdrIO::read_serialized_nodes()</a>, <a class="el" href="xdr__io_8C_source.html#l02307">libMesh::XdrIO::read_serialized_nodesets()</a>, <a class="el" href="xdr__io_8C_source.html#l01664">libMesh::XdrIO::read_serialized_subdomain_names()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02165">libMesh::System::read_serialized_vectors()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02763">libMesh::Nemesis_IO_Helper::read_var_names_impl()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01200">libMesh::DistributedMesh::renumber_dof_objects()</a>, <a class="el" href="distributed__mesh_8C_source.html#l01454">libMesh::DistributedMesh::renumber_nodes_and_elements()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l04643">libMesh::DofMap::scatter_constraints()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00188">libMesh::CheckpointIO::select_split_config()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00357">libMesh::DistributedMesh::set_next_unique_id()</a>, <a class="el" href="dof__map_8C_source.html#l00356">libMesh::DofMap::set_nonlocal_dof_objects()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="mesh__tools_8C_source.html#l00413">libMesh::MeshTools::total_weight()</a>, <a class="el" href="mesh__refinement_8C_source.html#l01709">libMesh::MeshRefinement::uniformly_coarsen()</a>, <a class="el" href="parallel__node_8C_source.html#l00182">libMesh::Parallel::Packing&lt; Node * &gt;::unpack()</a>, <a class="el" href="parallel__elem_8C_source.html#l00411">libMesh::Parallel::Packing&lt; Elem * &gt;::unpack()</a>, <a class="el" href="distributed__mesh_8C_source.html#l00255">libMesh::DistributedMesh::update_parallel_id_counts()</a>, <a class="el" href="mesh__tools_8h_source.html#l00078">libMesh::MeshTools::weight()</a>, <a class="el" href="namebased__io_8C_source.html#l00308">libMesh::NameBasedIO::write()</a>, <a class="el" href="xdr__io_8C_source.html#l00111">libMesh::XdrIO::write()</a>, <a class="el" href="checkpoint__io_8C_source.html#l00283">libMesh::CheckpointIO::write()</a>, <a class="el" href="equation__systems__io_8C_source.html#l00350">libMesh::EquationSystems::write()</a>, <a class="el" href="gmv__io_8C_source.html#l01539">libMesh::GMVIO::write_discontinuous_gmv()</a>, <a class="el" href="exodusII__io_8C_source.html#l01330">libMesh::ExodusII_IO::write_element_data()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04303">libMesh::ExodusII_IO_Helper::write_element_values()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04388">libMesh::ExodusII_IO_Helper::write_element_values_element_major()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02516">libMesh::ExodusII_IO_Helper::write_elements()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03884">libMesh::ExodusII_IO_Helper::write_elemset_data()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03390">libMesh::ExodusII_IO_Helper::write_elemsets()</a>, <a class="el" href="exodusII__io_8C_source.html#l01956">libMesh::ExodusII_IO::write_global_data()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04591">libMesh::ExodusII_IO_Helper::write_global_values()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="exodusII__io_8C_source.html#l01943">libMesh::ExodusII_IO::write_information_records()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04553">libMesh::ExodusII_IO_Helper::write_information_records()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02379">libMesh::ExodusII_IO_Helper::write_nodal_coordinates()</a>, <a class="el" href="ucd__io_8C_source.html#l00333">libMesh::UCDIO::write_nodal_data()</a>, <a class="el" href="exodusII__io_8C_source.html#l01790">libMesh::ExodusII_IO::write_nodal_data()</a>, <a class="el" href="exodusII__io_8C_source.html#l02257">libMesh::ExodusII_IO::write_nodal_data_common()</a>, <a class="el" href="exodusII__io_8C_source.html#l02179">libMesh::ExodusII_IO::write_nodal_data_discontinuous()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l04525">libMesh::ExodusII_IO_Helper::write_nodal_values()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03779">libMesh::ExodusII_IO_Helper::write_nodeset_data()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l01915">libMesh::Nemesis_IO_Helper::write_nodesets()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03102">libMesh::ExodusII_IO_Helper::write_nodesets()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l02062">libMesh::System::write_SCALAR_dofs()</a>, <a class="el" href="xdr__io_8C_source.html#l01380">libMesh::XdrIO::write_serialized_bc_names()</a>, <a class="el" href="xdr__io_8C_source.html#l01163">libMesh::XdrIO::write_serialized_bcs_helper()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__io_8C_source.html#l00330">libMesh::XdrIO::write_serialized_connectivity()</a>, <a class="el" href="system__io_8C_source.html#l01668">libMesh::System::write_serialized_data()</a>, <a class="el" href="xdr__io_8C_source.html#l00692">libMesh::XdrIO::write_serialized_nodes()</a>, <a class="el" href="xdr__io_8C_source.html#l01306">libMesh::XdrIO::write_serialized_nodesets()</a>, <a class="el" href="xdr__io_8C_source.html#l00291">libMesh::XdrIO::write_serialized_subdomain_names()</a>, <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02259">libMesh::System::write_serialized_vectors()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03487">libMesh::ExodusII_IO_Helper::write_sideset_data()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02066">libMesh::Nemesis_IO_Helper::write_sidesets()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l02978">libMesh::ExodusII_IO_Helper::write_sidesets()</a>, <a class="el" href="exodusII__io_8C_source.html#l01988">libMesh::ExodusII_IO::write_timestep()</a>, <a class="el" href="exodusII__io__helper_8C_source.html#l03367">libMesh::ExodusII_IO_Helper::write_timestep()</a> , 以及 <a class="el" href="exodusII__io_8C_source.html#l00188">libMesh::ExodusII_IO::write_timestep_discontinuous()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  { <span class="keywordflow">return</span> cast_int&lt;processor_id_type&gt;(<a class="code" href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">_communicator</a>.rank()); }</div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a1ffb5b08919ab435109a302f94a7b3eb"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a1ffb5b08919ab435109a302f94a7b3eb">libMesh::ParallelObject::_communicator</a></div><div class="ttdeci">const Parallel::Communicator &amp; _communicator</div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00120">parallel_object.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af08e7a5855675d3704cd64326e7b7604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_solution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto the current solution. </p>
<p>This method projects an arbitrary function onto the solution via L2 projections and nodal interpolations on each element.</p>
<p>The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01032">1032</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;{</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a>(*<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>, f, g);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize(*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>, <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list());</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea2f96dfc66ef7168badd470ff642749"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_solution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto the current solution. </p>
<p>This method projects an arbitrary function onto the solution via L2 projections and nodal interpolations on each element.</p>
<p>The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01045">1045</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;{</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a>(*<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>, f, g);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize(*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>, <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list());</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfca9f795aecad69938879a00396ff59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_solution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>fptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>gptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method projects an arbitrary function onto the solution via L2 projections and nodal interpolations on each element. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01018">1018</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;{</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  WrappedFunction&lt;Number&gt; f(*<span class="keyword">this</span>, fptr, &amp;parameters);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  WrappedFunction&lt;Gradient&gt; g(*<span class="keyword">this</span>, gptr, &amp;parameters);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#af08e7a5855675d3704cd64326e7b7604">project_solution</a>(&amp;f, &amp;g);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_af08e7a5855675d3704cd64326e7b7604"><div class="ttname"><a href="classlibMesh_1_1System.html#af08e7a5855675d3704cd64326e7b7604">libMesh::System::project_solution</a></div><div class="ttdeci">void project_solution(FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr) const </div><div class="ttdoc">Projects arbitrary functions onto the current solution. </div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01032">system_projection.C:1032</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04a93003e559fb4b266738e81fa52585"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool&amp; libMesh::System::project_solution_on_reinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> whether or not to project the solution vector onto new grids when the system is reinitialized. </p>
<p>The solution will be projected unless <a class="el" href="classlibMesh_1_1System.html#a04a93003e559fb4b266738e81fa52585" title="Tells the System whether or not to project the solution vector onto new grids when the system is rein...">project_solution_on_reinit()</a> = false is called. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00821">821</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02198">libMesh::System::_solution_projection</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a> , 以及 <a class="el" href="memory__history__data_8C_source.html#l00076">libMesh::MemoryHistoryData::store_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  { <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a711acee387038ac906783a0d39d8e840">_solution_projection</a>; }</div>
<div class="ttc" id="classlibMesh_1_1System_html_a711acee387038ac906783a0d39d8e840"><div class="ttname"><a href="classlibMesh_1_1System.html#a711acee387038ac906783a0d39d8e840">libMesh::System::_solution_projection</a></div><div class="ttdeci">bool _solution_projection</div><div class="ttdoc">Holds true if the solution vector should be projected onto a changed grid, false if it should be zero...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02198">system.h:2198</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84735c2ddbecdfee79afe438100ef580"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FunctionBase.html">FunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary function via L2 projections and nodal interpolations on each element.</p>
<p>The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01073">1073</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="newmark__solver_8C_source.html#l00133">libMesh::NewmarkSolver::project_initial_accel()</a>, <a class="el" href="second__order__unsteady__solver_8C_source.html#l00098">libMesh::SecondOrderUnsteadySolver::project_initial_rate()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;{</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;project_vector(FunctionBase)&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(f);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  WrappedFunctor&lt;Number&gt; f_fem(*f);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">if</span> (g)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      WrappedFunctor&lt;Gradient&gt; g_fem(*g);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a>(new_vector, &amp;f_fem, &amp;g_fem, is_adjoint);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a>(new_vector, &amp;f_fem, <span class="keyword">nullptr</span>, is_adjoint);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afc54c26bf5805d5aadcebcefe482eaea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1FEMFunctionBase.html">FEMFunctionBase</a>&lt; <a class="el" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a> &gt; *&#160;</td>
          <td class="paramname"><em>g</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary function via L2 projections and nodal interpolations on each element.</p>
<p>The function value <code>f</code> and its gradient <code>g</code> are user-provided cloneable functors. A gradient <code>g</code> is only required/used for projecting onto finite element spaces with continuous derivatives. If non-default <code><a class="el" href="classlibMesh_1_1Parameters.html" title="This class provides the ability to map between arbitrary, user-defined strings and several data types...">Parameters</a></code> are to be used, they can be provided in the <code>parameters</code> argument.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01099">1099</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="fem__function__base_8h_source.html#l00141">libMesh::FEMFunctionBase&lt; Output &gt;::component()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="utility_8h_source.html#l00229">libMesh::Utility::iota()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="libmesh__common_8h_source.html#l00516">libMesh::libmesh_ignore()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="tecplot__io_8C_source.html#l00068">n_vars</a>, <a class="el" href="enum__elem__type_8h_source.html#l00066">libMesh::NODEELEM</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00066">libMesh::RATIONAL_BERNSTEIN</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dof__map_8C_source.html#l02544">libMesh::DofMap::SCALAR_dof_indices()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">libMesh::NumericVector&lt; T &gt;::set()</a> , 以及 <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a>.</p>
<div class="fragment"><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;{</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;project_fem_vector()&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (f);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <a class="code" href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">ConstElemRange</a> active_local_range</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_begin(),</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;     this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_end() );</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  VectorSetAction&lt;Number&gt; setter(new_vector);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_variables = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  std::vector&lt;unsigned int&gt; vars(n_variables);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">std::iota</a>(vars.begin(), vars.end(), 0);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// Use a typedef to make the calling sequence for parallel_for() a bit more readable</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="keyword">typedef</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    GenericProjector&lt;FEMFunctionWrapper&lt;Number&gt;, FEMFunctionWrapper&lt;Gradient&gt;,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                     <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>, VectorSetAction&lt;Number&gt;&gt; FEMProjector;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  FEMFunctionWrapper&lt;Number&gt; fw(*f);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">if</span> (g)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      FEMFunctionWrapper&lt;Gradient&gt; gw(*g);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      FEMProjector projector(*<span class="keyword">this</span>, fw, &amp;gw, setter, vars);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      projector.project(active_local_range);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      FEMProjector projector(*<span class="keyword">this</span>, fw, <span class="keyword">nullptr</span>, setter, vars);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      projector.project(active_local_range);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// Also, load values into the SCALAR dofs</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// Note: We assume that all SCALAR dofs are on the</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">// processor with highest ID</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="comment">// FIXME: Do we want to first check for SCALAR vars before building this? [PB]</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      FEMContext context( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="comment">// FIXME: We reinit with an arbitrary element in case the user</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="comment">//        doesn&#39;t override FEMFunctionBase::component. Is there</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="comment">//        any use case we&#39;re missing? [PB]</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            context.pre_fe_reinit(*<span class="keyword">this</span>, *(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_begin()));</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            std::vector&lt;dof_id_type&gt; SCALAR_indices;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            dof_map.SCALAR_dof_indices (SCALAR_indices, var);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_SCALAR_dofs =</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;              cast_int&lt;unsigned int&gt;(SCALAR_indices.size());</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_SCALAR_dofs; i++)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;              {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> global_index = SCALAR_indices[i];</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> component_index =</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a8b51e2e5f42614e581f13540e2dda4aa">variable_scalar_number</a>(var,i);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                new_vector.<a class="code" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">set</a>(global_index, f-&gt;component(context, component_index, Point(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a90b0537fa503134bfa91865a6995742e">time</a>));</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;              }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;          }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  new_vector.<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// Look for spline bases, in which case we need to backtrack</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// to calculate the spline DoF values.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  std::vector&lt;const Variable *&gt; rational_vars;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> varnum : vars)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keyword">const</span> Variable &amp; var = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ab36a0dc3c2c457fa8c01c1b0ba37facc">variable</a>(varnum);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">if</span> (var.type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dad56ffe838554ca55e8cbdafea29f6f58">RATIONAL_BERNSTEIN</a>)</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        rational_vars.push_back(&amp;var);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">// Okay, but are we really using any *spline* bases, or just</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">// unconstrained rational bases?</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordtype">bool</span> using_spline_bases = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (!rational_vars.empty())</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="comment">// Look for a spline node: a NodeElem with a rational variable</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="comment">// on it.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : active_local_range)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">if</span> (elem-&gt;type() == <a class="code" href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659">NODEELEM</a>)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> rational_var : rational_vars)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <span class="keywordflow">if</span> (rational_var-&gt;active_on_subdomain(elem-&gt;subdomain_id()))</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;              {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                using_spline_bases = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                <span class="keywordflow">goto</span> checked_on_splines;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;              }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;checked_on_splines:</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// Not every processor may have a NodeElem, especially while</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// we&#39;re not partitioning them efficiently yet.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().max(using_spline_bases);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">if</span> (using_spline_bases)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9ee8088ef0e46ed7ca407c9a1054a405">solve_for_unconstrained_dofs</a>(new_vector, is_adjoint);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">if</span> (is_adjoint == -1)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a>(*<span class="keyword">this</span>, &amp;new_vector);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_adjoint &gt;= 0)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">enforce_adjoint_constraints_exactly</a>(new_vector,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                                            is_adjoint);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="preprocessor"></span>  <a class="code" href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libmesh_ignore</a>(is_adjoint);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a90b0537fa503134bfa91865a6995742e"><div class="ttname"><a href="classlibMesh_1_1System.html#a90b0537fa503134bfa91865a6995742e">libMesh::System::time</a></div><div class="ttdeci">Real time</div><div class="ttdoc">For time-dependent problems, this is the time t at the beginning of the current timestep. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01595">system.h:1595</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9ee8088ef0e46ed7ca407c9a1054a405"><div class="ttname"><a href="classlibMesh_1_1System.html#a9ee8088ef0e46ed7ca407c9a1054a405">libMesh::System::solve_for_unconstrained_dofs</a></div><div class="ttdeci">void solve_for_unconstrained_dofs(NumericVector&lt; Number &gt; &amp;, int is_adjoint=-1) const </div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l02032">system_projection.C:2032</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_ab36a0dc3c2c457fa8c01c1b0ba37facc"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#ab36a0dc3c2c457fa8c01c1b0ba37facc">libMesh::DofMap::variable</a></div><div class="ttdeci">const Variable &amp; variable(const unsigned int c) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l02111">dof_map.h:2111</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Utility_html_a5bf73702428d6738e175c810554b96c9"><div class="ttname"><a href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">libMesh::Utility::iota</a></div><div class="ttdeci">void iota(ForwardIter first, ForwardIter last, T value)</div><div class="ttdoc">Utility::iota was created back when std::iota was just an SGI STL extension. </div><div class="ttdef"><b>Definition:</b> <a href="utility_8h_source.html#l00229">utility.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2c62e678c8ac27e51286fa5c38b0f3c9"><div class="ttname"><a href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">libMesh::ConstElemRange</a></div><div class="ttdeci">StoredRange&lt; MeshBase::const_element_iterator, const Elem * &gt; ConstElemRange</div><div class="ttdef"><b>Definition:</b> <a href="elem__range_8h_source.html#l00034">elem_range.h:34</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a43f45640aab1af26176e69592c666432"><div class="ttname"><a href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libMesh::libmesh_ignore</a></div><div class="ttdeci">void libmesh_ignore(const Args &amp;...)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00516">libmesh_common.h:516</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2dad56ffe838554ca55e8cbdafea29f6f58"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dad56ffe838554ca55e8cbdafea29f6f58">libMesh::RATIONAL_BERNSTEIN</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00066">enum_fe_family.h:66</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8b51e2e5f42614e581f13540e2dda4aa"><div class="ttname"><a href="classlibMesh_1_1System.html#a8b51e2e5f42614e581f13540e2dda4aa">libMesh::System::variable_scalar_number</a></div><div class="ttdeci">unsigned int variable_scalar_number(std::string_view var, unsigned int component) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02408">system.h:2408</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a083d7b5e0efa633986bcd2b38bc0b053"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">libMesh::NumericVector::set</a></div><div class="ttdeci">virtual void set(const numeric_index_type i, const T value)=0</div><div class="ttdoc">设置 v(i) = value 。 请注意，此方法的库实现是线程安全的， 例如，将在写入向量之前锁定 _numeric_vector_mutex 。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_acef530b92074c6876bcb892f5f7fc1a5"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">libMesh::DofMap::enforce_adjoint_constraints_exactly</a></div><div class="ttdeci">void enforce_adjoint_constraints_exactly(NumericVector&lt; Number &gt; &amp;v, unsigned int q) const </div><div class="ttdoc">Heterogeneously constrains the numeric vector v, which represents an adjoint solution defined on the ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03285">dof_map_constraints.C:3285</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659"><div class="ttname"><a href="namespacelibMesh.html#a3f482b3acb4beb528f0ce89f161ff967a1f8d81ecfa314b68c0a3f4872a525659">libMesh::NODEELEM</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__elem__type_8h_source.html#l00066">enum_elem_type.h:66</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2698aa30831e4f5785e33ebeb21b4f53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#ae762e359a9b2b6256dfcd38c77eb85c2">ValueFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>fptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html#a2c79ca1fa9506883de9be0d335b8674f">GradientFunctionPointer</a>&#160;</td>
          <td class="paramname"><em>gptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1Parameters.html">Parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects arbitrary functions onto a vector of degree of freedom values for the current system. </p>
<p>This method projects an arbitrary function via L2 projections and nodal interpolations on each element.</p>
<p>The function value <code>fptr</code> and its gradient <code>gptr</code> are represented by function pointers. A gradient <code>gptr</code> is only required/used for projecting onto finite element spaces with continuous derivatives.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l01058">1058</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  WrappedFunction&lt;Number&gt; f(*<span class="keyword">this</span>, fptr, &amp;parameters);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  WrappedFunction&lt;Gradient&gt; g(*<span class="keyword">this</span>, gptr, &amp;parameters);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a>(new_vector, &amp;f, &amp;g, is_adjoint);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada599d8cfdcd469200bb7171ec0a6b40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects the vector defined on the old mesh onto the new mesh. </p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l00247">247</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">libMesh::NumericVector&lt; T &gt;::clone()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Create a copy of the vector, which currently</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// contains the old data.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    old_vector (vector.<a class="code" href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">clone</a>());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Project the old vector to the new vector</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a> (*old_vector, vector, is_adjoint);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_ad7db3ddd8d2fa15518621468614fc1f6"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">libMesh::NumericVector::clone</a></div><div class="ttdeci">virtual std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; clone() const =0</div><div class="ttdoc">返回一个包装了此向量副本的智能指针。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78dacd4d53717cf92a7d592fe9588250"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::project_vector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>old_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>new_v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Projects the vector defined on the old mesh onto the new mesh. </p>
<p>This method projects the vector via L2 projections or nodal interpolations on each element.</p>
<p>The original vector is unchanged and the new vector is passed through the second argument.</p>
<p>Constrain the new vector using the requested adjoint rather than primal constraints if is_adjoint is non-negative. </p>
<p>This method projects a solution from an old mesh to a current, refined mesh. The input vector <code>old_v</code> gives the solution on the old mesh, while the <code>new_v</code> gives the solution (to be computed) on the new mesh.</p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l00265">265</a> 行定义.</p>

<p>参考 <a class="el" href="numeric__vector_8h_source.html#l01002">libMesh::NumericVector&lt; T &gt;::clear()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="numeric__vector_8h_source.html#l01012">libMesh::NumericVector&lt; T &gt;::get()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00037">libMesh::GHOSTED</a>, <a class="el" href="int__range_8h_source.html#l00111">libMesh::index_range()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a65629e33f21a3f1823405c82abe292d0">libMesh::NumericVector&lt; T &gt;::init()</a>, <a class="el" href="utility_8h_source.html#l00229">libMesh::Utility::iota()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="libmesh__common_8h_source.html#l00516">libMesh::libmesh_ignore()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector&lt; T &gt;::local_size()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">libMesh::NumericVector&lt; T &gt;::localize()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="tecplot__io_8C_source.html#l00068">n_vars</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00036">libMesh::PARALLEL</a>, <a class="el" href="threads__none_8h_source.html#l00101">libMesh::Threads::parallel_reduce()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dof__map_8C_source.html#l02544">libMesh::DofMap::SCALAR_dof_indices()</a>, <a class="el" href="system__projection_8C_source.html#l00181">libMesh::BuildProjectionList::send_list</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00035">libMesh::SERIAL</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">libMesh::NumericVector&lt; T &gt;::set()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector&lt; T &gt;::size()</a>, <a class="el" href="numeric__vector_8h_source.html#l00166">libMesh::NumericVector&lt; T &gt;::type()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00099">libMesh::TYPE_SCALAR</a> , 以及 <a class="el" href="system__projection_8C_source.html#l01316">libMesh::BuildProjectionList::unique()</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;project_vector(old,new)&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a1d68d128b5e80a75fea7c24b7f3bcb5b">clear</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Resize the new vector and get a serial version.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * new_vector_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; new_vector_built;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * local_old_vector;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; local_old_vector_built;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * old_vector_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">ConstElemRange</a> active_local_elem_range</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_begin(),</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;     this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_end());</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// If the old vector was uniprocessor, make the new</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// vector uniprocessor</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">SERIAL</a>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a65629e33f21a3f1823405c82abe292d0">init</a> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">SERIAL</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      new_vector_ptr = &amp;new_v;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      old_vector_ptr = &amp;old_v;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// Otherwise it is a parallel, distributed vector, which</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// we need to localize.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="comment">// Build a send list for efficient localization</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      BuildProjectionList projection_list(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (active_local_elem_range,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                projection_list);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="comment">// Create a sorted, unique send_list</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      projection_list.unique();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a65629e33f21a3f1823405c82abe292d0">init</a> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      new_vector_built = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      local_old_vector_built = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      new_vector_ptr = new_vector_built.get();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      local_old_vector = local_old_vector_built.get();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      new_vector_ptr-&gt;init(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                           this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().get_send_list(), <span class="keyword">false</span>,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                           <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      local_old_vector-&gt;init(old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">size</a>(), old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">local_size</a>(),</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                             projection_list.send_list, <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">localize</a>(*local_old_vector, projection_list.send_list);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      local_old_vector-&gt;close();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      old_vector_ptr = local_old_vector;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">// Build a send list for efficient localization</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      BuildProjectionList projection_list(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">Threads::parallel_reduce</a> (active_local_elem_range,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                projection_list);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="comment">// Create a sorted, unique send_list</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      projection_list.unique();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a65629e33f21a3f1823405c82abe292d0">init</a> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(),</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().get_send_list(), <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      local_old_vector_built = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      new_vector_ptr = &amp;new_v;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      local_old_vector = local_old_vector_built.<a class="code" href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">get</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      local_old_vector-&gt;init(old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">size</a>(), old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">local_size</a>(),</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                             projection_list.send_list, <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">localize</a>(*local_old_vector, projection_list.send_list);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      local_old_vector-&gt;close();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      old_vector_ptr = local_old_vector;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// unknown old_v.type()</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    libmesh_error_msg(<span class="stringliteral">&quot;ERROR: Unknown old_v.type() == &quot;</span> &lt;&lt; old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// Note that the above will have zeroed the new_vector.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// Just to be sure, assert that new_vector_ptr and old_vector_ptr</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// were successfully set before trying to deref them.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(new_vector_ptr);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(old_vector_ptr);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; new_vector = *new_vector_ptr;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; old_vector = *old_vector_ptr;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_variables = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (n_variables)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      std::vector&lt;unsigned int&gt; vars(n_variables);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">std::iota</a>(vars.begin(), vars.end(), 0);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      std::vector&lt;unsigned int&gt; regular_vars, vector_vars;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : vars)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1FEInterface.html#a5f39b00497c7673cf1f477c620c6bb46">FEInterface::field_type</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(var)) == <a class="code" href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760">TYPE_SCALAR</a>)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          regular_vars.push_back(var);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          vector_vars.push_back(var);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="comment">// Use a typedef to make the calling sequence for parallel_for() a bit more readable</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keyword">typedef</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        GenericProjector&lt;OldSolutionValue&lt;Number,   &amp;FEMContext::point_value&gt;,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                         OldSolutionValue&lt;Gradient, &amp;FEMContext::point_gradient&gt;,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                         <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>, VectorSetAction&lt;Number&gt;&gt; FEMProjector;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      OldSolutionValue&lt;Number,   &amp;FEMContext::point_value&gt;    f(*<span class="keyword">this</span>, old_vector, &amp;regular_vars);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      OldSolutionValue&lt;Gradient, &amp;FEMContext::point_gradient&gt; g(*<span class="keyword">this</span>, old_vector, &amp;regular_vars);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      VectorSetAction&lt;Number&gt; setter(new_vector);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      FEMProjector projector(*<span class="keyword">this</span>, f, &amp;g, setter, regular_vars);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      projector.project(active_local_elem_range);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keyword">typedef</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        GenericProjector&lt;OldSolutionValue&lt;Gradient,   &amp;FEMContext::point_value&gt;,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                         OldSolutionValue&lt;Tensor, &amp;FEMContext::point_gradient&gt;,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                         <a class="code" href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">Gradient</a>, VectorSetAction&lt;Number&gt;&gt; FEMVectorProjector;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      OldSolutionValue&lt;Gradient, &amp;FEMContext::point_value&gt; f_vector(*<span class="keyword">this</span>, old_vector, &amp;vector_vars);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      OldSolutionValue&lt;Tensor, &amp;FEMContext::point_gradient&gt; g_vector(*<span class="keyword">this</span>, old_vector, &amp;vector_vars);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      FEMVectorProjector vector_projector(*<span class="keyword">this</span>, f_vector, &amp;g_vector, setter, vector_vars);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      vector_projector.project(active_local_elem_range);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="comment">// Copy the SCALAR dofs from old_vector to new_vector</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="comment">// Note: We assume that all SCALAR dofs are on the</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="comment">// processor with highest ID</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;              {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="comment">// We can just map SCALAR dofs directly across</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                std::vector&lt;dof_id_type&gt; new_SCALAR_indices, old_SCALAR_indices;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                dof_map.SCALAR_dof_indices (new_SCALAR_indices, var, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                dof_map.SCALAR_dof_indices (old_SCALAR_indices, var, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a26e38c0dc87c05a5e8df7e26bfed543b">index_range</a>(new_SCALAR_indices))</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                  new_vector.set(new_SCALAR_indices[i], old_vector(old_SCALAR_indices[i]));</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;              }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  new_vector.close();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// If the old vector was serial, we probably need to send our values</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// to other processors</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// FIXME: I&#39;m not sure how to make a NumericVector do that without</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// creating a temporary parallel vector to use localize! - RHS</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">if</span> (old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">SERIAL</a>)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; dist_v = <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      dist_v-&gt;init(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      dist_v-&gt;close();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(dist_v-&gt;size()))</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (new_vector(i) != 0.0)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          dist_v-&gt;set(i, new_vector(i));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      dist_v-&gt;close();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      dist_v-&gt;localize (new_v, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().get_send_list());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// If the old vector was parallel, we need to update it</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// and free the localized copies</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">type</a>() == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// We may have to set dof values that this processor doesn&#39;t</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="comment">// own in certain special cases, like LAGRANGE FIRST or</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="comment">// HERMITE THIRD elements on second-order meshes?</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      new_v = new_vector;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      new_v.<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">// Apply constraints only if we we are asked to</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">project_with_constraints</a>)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (is_adjoint == -1)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a>(*<span class="keyword">this</span>, &amp;new_v);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_adjoint &gt;= 0)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">enforce_adjoint_constraints_exactly</a>(new_v,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                                            is_adjoint);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// AMR is disabled: simply copy the vector</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  new_v = old_v;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libmesh_ignore</a>(is_adjoint);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">#endif // #ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="namespacelibMesh_html_a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760"><div class="ttname"><a href="namespacelibMesh.html#a354ba8d7698a213772f215eab6b08fc1a792c1ed72ad92716410e715094ec7760">libMesh::TYPE_SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00099">enum_fe_family.h:99</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">libMesh::PARALLEL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00036">enum_parallel_type.h:36</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a90f2918648bb3c65d88978bd5d0a19bf"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector::size</a></div><div class="ttdeci">virtual numeric_index_type size() const =0</div><div class="ttdoc">获取向量的大小。 </div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEInterface_html_a5f39b00497c7673cf1f477c620c6bb46"><div class="ttname"><a href="classlibMesh_1_1FEInterface.html#a5f39b00497c7673cf1f477c620c6bb46">libMesh::FEInterface::field_type</a></div><div class="ttdeci">static FEFieldType field_type(const FEType &amp;fe_type)</div><div class="ttdef"><b>Definition:</b> <a href="fe__interface_8C_source.html#l02847">fe_interface.C:2847</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab321ab954fa1284069a647b311ff6d17"><div class="ttname"><a href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">libMesh::System::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02427">system.h:2427</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a65629e33f21a3f1823405c82abe292d0"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a65629e33f21a3f1823405c82abe292d0">libMesh::NumericVector::init</a></div><div class="ttdeci">virtual void init(const numeric_index_type n, const numeric_index_type n_local, const bool fast=false, const ParallelType ptype=AUTOMATIC)=0</div><div class="ttdoc">更改向量的维度为 n 。如果可能的话 ，该向量的保留内存保持不变。 如果 n==0 ，所有内存都将被释放。因此，如果要调整向量的大小并释放不需要的内存， 必须首先调用 init(0) ，然后调用 ini...</div></div>
<div class="ttc" id="namespacelibMesh_1_1Utility_html_a5bf73702428d6738e175c810554b96c9"><div class="ttname"><a href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">libMesh::Utility::iota</a></div><div class="ttdeci">void iota(ForwardIter first, ForwardIter last, T value)</div><div class="ttdoc">Utility::iota was created back when std::iota was just an SGI STL extension. </div><div class="ttdef"><b>Definition:</b> <a href="utility_8h_source.html#l00229">utility.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2c62e678c8ac27e51286fa5c38b0f3c9"><div class="ttname"><a href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">libMesh::ConstElemRange</a></div><div class="ttdeci">StoredRange&lt; MeshBase::const_element_iterator, const Elem * &gt; ConstElemRange</div><div class="ttdef"><b>Definition:</b> <a href="elem__range_8h_source.html#l00034">elem_range.h:34</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a43f45640aab1af26176e69592c666432"><div class="ttname"><a href="namespacelibMesh.html#a43f45640aab1af26176e69592c666432">libMesh::libmesh_ignore</a></div><div class="ttdeci">void libmesh_ignore(const Args &amp;...)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00516">libmesh_common.h:516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa538bc63becff09f368e6f930e423391f">libMesh::SERIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00035">enum_parallel_type.h:35</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">libMesh::GHOSTED</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00037">enum_parallel_type.h:37</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4b46bf2d57c1815051b6684921702ef2"><div class="ttname"><a href="namespacelibMesh.html#a4b46bf2d57c1815051b6684921702ef2">libMesh::Gradient</a></div><div class="ttdeci">NumberVectorValue Gradient</div><div class="ttdef"><b>Definition:</b> <a href="exact__solution_8h_source.html#l00050">exact_solution.h:50</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ada8bf9316c319b832b279ae93871403c"><div class="ttname"><a href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">libMesh::System::project_with_constraints</a></div><div class="ttdeci">bool project_with_constraints</div><div class="ttdoc">Do we want to apply constraints while projecting vectors ? </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02253">system.h:2253</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_adba4a30965537656bb3b0c6f924ff040"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">libMesh::NumericVector::build</a></div><div class="ttdeci">static std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">构建一个 NumericVector 对象。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00050">numeric_vector.C:50</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a069a96e414fd05d292e3bb3a1a475602"><div class="ttname"><a href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">libMesh::System::n_local_dofs</a></div><div class="ttdeci">dof_id_type n_local_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00149">system.C:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a8eac3a527f0194feae3a9dd80c878df1"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">libMesh::NumericVector::get</a></div><div class="ttdeci">virtual void get(const std::vector&lt; numeric_index_type &gt; &amp;index, T *values) const </div><div class="ttdoc">一次访问多个组件。 values 将 *不会* 重新分配空间；它应该已经具有足够的空间。 默认实现对每个索引调用 operator() ，但某些实现可能在此处提供更快的方法。 ...</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8h_source.html#l01012">numeric_vector.h:1012</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_acf9a23a820fdd20bf1a0213de8166287"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector::local_size</a></div><div class="ttdeci">virtual numeric_index_type local_size() const =0</div><div class="ttdoc">获取向量的本地大小，即 index_stop - index_start。 </div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a3b6bc13960a5d0022beea138c4e86dc4"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a3b6bc13960a5d0022beea138c4e86dc4">libMesh::NumericVector::type</a></div><div class="ttdeci">ParallelType type() const </div><div class="ttdoc">获取向量的类型。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8h_source.html#l00166">numeric_vector.h:166</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Threads_html_a8295c6919b44a664d2fe13288cd334e5"><div class="ttname"><a href="namespacelibMesh_1_1Threads.html#a8295c6919b44a664d2fe13288cd334e5">libMesh::Threads::parallel_reduce</a></div><div class="ttdeci">void parallel_reduce(const Range &amp;range, Body &amp;body)</div><div class="ttdoc">Execute the provided reduction operation in parallel on the specified range. </div><div class="ttdef"><b>Definition:</b> <a href="threads__none_8h_source.html#l00101">threads_none.h:101</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a1d68d128b5e80a75fea7c24b7f3bcb5b"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a1d68d128b5e80a75fea7c24b7f3bcb5b">libMesh::NumericVector::clear</a></div><div class="ttdeci">virtual void clear()</div><div class="ttdoc">将 NumericVector&amp;lt;T&amp;gt; 恢复到原始状态。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8h_source.html#l01002">numeric_vector.h:1002</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a26e38c0dc87c05a5e8df7e26bfed543b"><div class="ttname"><a href="namespacelibMesh.html#a26e38c0dc87c05a5e8df7e26bfed543b">libMesh::index_range</a></div><div class="ttdeci">auto index_range(const T &amp;sizable)</div><div class="ttdoc">Helper function that returns an IntRange&amp;lt;std::size_t&amp;gt; representing all the indices of the passed-in v...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00111">int_range.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_acef530b92074c6876bcb892f5f7fc1a5"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#acef530b92074c6876bcb892f5f7fc1a5">libMesh::DofMap::enforce_adjoint_constraints_exactly</a></div><div class="ttdeci">void enforce_adjoint_constraints_exactly(NumericVector&lt; Number &gt; &amp;v, unsigned int q) const </div><div class="ttdoc">Heterogeneously constrains the numeric vector v, which represents an adjoint solution defined on the ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03285">dof_map_constraints.C:3285</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7348b5b027adf716016354847e0df0b6"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7348b5b027adf716016354847e0df0b6">libMesh::NumericVector::localize</a></div><div class="ttdeci">virtual void localize(std::vector&lt; T &gt; &amp;v_local) const =0</div><div class="ttdoc">创建全局向量的副本并存储在本地向量 v_local 中。 </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0df496ef8cd4d60eadfb9a42294cf72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::projection_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>proj_mat</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method creates a projection matrix which corresponds to the operation of project_vector between old and new solution spaces. </p>
<p>Heterogeneous Dirichlet boundary conditions are <em>not</em> taken into account here; if this matrix is used for prolongation (mesh refinement) on a side with a heterogeneous BC, the newly created degrees of freedom on that side will still match the coarse grid approximation of the BC, not the fine grid approximation. </p>

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l00952">952</a> 行定义.</p>

<p>参考 <a class="el" href="utility_8h_source.html#l00229">libMesh::Utility::iota()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="tecplot__io_8C_source.html#l00068">n_vars</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dof__map_8C_source.html#l02544">libMesh::DofMap::SCALAR_dof_indices()</a> , 以及 <a class="el" href="classlibMesh_1_1SparseMatrix.html#ae363ff83d354c71a13b9559be471274b">libMesh::SparseMatrix&lt; T &gt;::set()</a>.</p>

<p>参考自 <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;{</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  LOG_SCOPE (<span class="stringliteral">&quot;projection_matrix()&quot;</span>, <span class="stringliteral">&quot;System&quot;</span>);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_variables = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">if</span> (n_variables)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">ConstElemRange</a> active_local_elem_range</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_begin(),</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;         this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_local_elements_end());</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      std::vector&lt;unsigned int&gt; vars(n_variables);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">std::iota</a>(vars.begin(), vars.end(), 0);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <span class="comment">// Use a typedef to make the calling sequence for parallel_for() a bit more readable</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keyword">typedef</span> OldSolutionCoefs&lt;Real, &amp;FEMContext::point_value&gt; OldSolutionValueCoefs;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keyword">typedef</span> OldSolutionCoefs&lt;RealGradient, &amp;FEMContext::point_gradient&gt; OldSolutionGradientCoefs;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keyword">typedef</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        GenericProjector&lt;OldSolutionValueCoefs,</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                         OldSolutionGradientCoefs,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                         DynamicSparseNumberArray&lt;Real,dof_id_type&gt;,</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                         MatrixFillAction&lt;Real, Number&gt; &gt; ProjMatFiller;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      OldSolutionValueCoefs    f(*<span class="keyword">this</span>, &amp;vars);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      OldSolutionGradientCoefs g(*<span class="keyword">this</span>, &amp;vars);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      MatrixFillAction&lt;Real, Number&gt; setter(proj_mat);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      ProjMatFiller mat_filler(*<span class="keyword">this</span>, f, &amp;g, setter, vars);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      mat_filler.project(active_local_elem_range);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="comment">// Set the SCALAR dof transfer entries too.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="comment">// Note: We assume that all SCALAR dofs are on the</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="comment">// processor with highest ID</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;              {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                <span class="comment">// We can just map SCALAR dofs directly across</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                std::vector&lt;dof_id_type&gt; new_SCALAR_indices, old_SCALAR_indices;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                dof_map.SCALAR_dof_indices (new_SCALAR_indices, var, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                dof_map.SCALAR_dof_indices (old_SCALAR_indices, var, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> new_n_dofs =</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                  cast_int&lt;unsigned int&gt;(new_SCALAR_indices.size());</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;new_n_dofs; i++)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                  {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    proj_mat.<a class="code" href="classlibMesh_1_1SparseMatrix.html#ae363ff83d354c71a13b9559be471274b">set</a>( new_SCALAR_indices[i],</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                  old_SCALAR_indices[i], 1);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                  }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;              }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1Utility_html_a5bf73702428d6738e175c810554b96c9"><div class="ttname"><a href="namespacelibMesh_1_1Utility.html#a5bf73702428d6738e175c810554b96c9">libMesh::Utility::iota</a></div><div class="ttdeci">void iota(ForwardIter first, ForwardIter last, T value)</div><div class="ttdoc">Utility::iota was created back when std::iota was just an SGI STL extension. </div><div class="ttdef"><b>Definition:</b> <a href="utility_8h_source.html#l00229">utility.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2c62e678c8ac27e51286fa5c38b0f3c9"><div class="ttname"><a href="namespacelibMesh.html#a2c62e678c8ac27e51286fa5c38b0f3c9">libMesh::ConstElemRange</a></div><div class="ttdeci">StoredRange&lt; MeshBase::const_element_iterator, const Elem * &gt; ConstElemRange</div><div class="ttdef"><b>Definition:</b> <a href="elem__range_8h_source.html#l00034">elem_range.h:34</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_ae363ff83d354c71a13b9559be471274b"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#ae363ff83d354c71a13b9559be471274b">libMesh::SparseMatrix::set</a></div><div class="ttdeci">virtual void set(const numeric_index_type i, const numeric_index_type j, const T value)=0</div><div class="ttdoc">设置元素 (i,j) 为 value . </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55667d016781687feed399872671c963"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::prolong_vectors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prolong vectors after the mesh has refined. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00435">435</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>.</p>

<p>参考自 <a class="el" href="equation__systems_8C_source.html#l00144">libMesh::EquationSystems::reinit_solutions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Currently project_vector handles both restriction and prolongation</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a78af7f915ad5c678e3629ddced200967">restrict_vectors</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a78af7f915ad5c678e3629ddced200967"><div class="ttname"><a href="classlibMesh_1_1System.html#a78af7f915ad5c678e3629ddced200967">libMesh::System::restrict_vectors</a></div><div class="ttdeci">virtual void restrict_vectors()</div><div class="ttdoc">Restrict vectors after the mesh has coarsened. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00377">system.C:377</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38b05cf0200a65a10db9de1f1b987e17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::push_physics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> &amp;&#160;</td>
          <td class="paramname"><em>new_physics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将一个新的物理对象的克隆推送到堆栈上，覆盖当前的物理对象， 直到新的物理对象被弹出（或直到有其他东西被推到它的顶部）。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00397">397</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#ab1cbb37f319b3bb0be9d87fb50bac970">libMesh::DifferentiablePhysics::clone_physics()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00105">libMesh::ImplicitSystem::disable_cache()</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.push(new_physics.clone_physics());</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// If the physics has been changed, we will reassemble</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// the matrix from scratch before doing an adjoint solve</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// rather than just transposing</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">disable_cache</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a741883b7f26a17f565f2f74e78f3397b"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">libMesh::ImplicitSystem::disable_cache</a></div><div class="ttdeci">virtual void disable_cache() override</div><div class="ttdoc">Avoids use of any cached data that might affect any solve result. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00105">implicit_system.C:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac845783660befc16fdc2a76b66439e97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::qoi_parameter_hessian </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;&#160;</td>
          <td class="paramname"><em>hessian</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each of the system's quantities of interest q in <code>qoi</code>[qoi_indices], and for a vector of parameters p, the parameter sensitivity Hessian H_ij is defined as H_ij = (d^2 q)/(d p_i d p_j) This Hessian is the output of this method, where for each q_i, H_jk is stored in <code>hessian.second_derivative(i,j,k)</code>. </p>
<p>Note that in some cases only <a class="el" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a> is used during assembly, and, therefore, if <a class="el" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> has been altered without <a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a> being called, then the user must call <a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update()</a> before calling this function. </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a941661b0198ad8fe5f9d62cfc5f9a03b">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00895">895</a> 行定义.</p>

<p>参考 <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00191">libMesh::SensitivityData::allocate_hessian_data()</a>, <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l01192">libMesh::System::get_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l02294">libMesh::System::get_qoi_value()</a>, <a class="el" href="system_8C_source.html#l02301">libMesh::System::get_qoi_values()</a>, <a class="el" href="system_8C_source.html#l01139">libMesh::System::get_sensitivity_solution()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="system_8h_source.html#l00406">libMesh::System::is_adjoint_already_solved()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="sensitivity__data_8h_source.html#l00238">libMesh::SensitivityData::second_derivative()</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>, <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a> , 以及 <a class="el" href="sparse__matrix_8C_source.html#l00195">libMesh::SparseMatrix&lt; T &gt;::vector_mult()</a>.</p>
<div class="fragment"><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// We currently get partial derivatives via finite differencing</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p = <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// We&#39;ll use one temporary vector for matrix-vector-vector products</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; tempvec = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;zero_clone();</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// And another temporary vector to hold a copy of the true solution</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// so we can safely perturb this-&gt;solution.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; oldsolution = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;clone();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Np = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    (parameters.size());</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nq = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// For each quantity of interest q, the parameter sensitivity</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// Hessian is defined as q&#39;&#39;_{kl} = {d^2 q}/{d p_k d p_l}.</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// We calculate it from values and partial derivatives of the</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// quantity of interest function Q, solution u, adjoint solution z,</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// and residual R, as:</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">// q&#39;&#39;_{kl} =</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">// Q&#39;&#39;_{kl} + Q&#39;&#39;_{uk}(u)*u&#39;_l + Q&#39;&#39;_{ul}(u) * u&#39;_k +</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// Q&#39;&#39;_{uu}(u)*u&#39;_k*u&#39;_l -</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// R&#39;&#39;_{kl}(u,z) -</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// R&#39;&#39;_{uk}(u,z)*u&#39;_l - R&#39;&#39;_{ul}(u,z)*u&#39;_k -</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// R&#39;&#39;_{uu}(u,z)*u&#39;_k*u&#39;_l</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// See the adjoints model document for more details.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// We first do an adjoint solve to get z for each quantity of</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">// interest</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// if we haven&#39;t already or dont have an initial condition for the adjoint</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">is_adjoint_already_solved</a>())</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">adjoint_solve</a>(qoi_indices);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    }</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// And a sensitivity solve to get u_k for each parameter</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#ac659d63f5c1dcbd434571de5ee5e293d">sensitivity_solve</a>(parameters);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="comment">// Get ready to fill in second derivatives:</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  sensitivities.allocate_hessian_data(qoi_indices, *<span class="keyword">this</span>, parameters);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k != Np; ++k)</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameterk = *parameters[k];</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <span class="comment">// The Hessian is symmetric, so we just calculate the lower</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// triangle and the diagonal, and we get the upper triangle from</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="comment">// the transpose of the lower</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l != k+1; ++l)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          <span class="comment">// The second partial derivatives with respect to parameters</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;          <span class="comment">// are all calculated via a central finite difference</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;          <span class="comment">// stencil:</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;          <span class="comment">// F&#39;&#39;_{kl} ~= (F(p+dp*e_k+dp*e_l) - F(p+dp*e_k-dp*e_l) -</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;          <span class="comment">//              F(p-dp*e_k+dp*e_l) + F(p-dp*e_k-dp*e_l))/(4*dp^2)</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          <span class="comment">// We will add Q&#39;&#39;_{kl}(u) and subtract R&#39;&#39;_{kl}(u,z) at the</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;          <span class="comment">// same time.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;          <span class="comment">// We have to be careful with the perturbations to handle</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;          <span class="comment">// the k=l case</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;          <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameterl = *parameters[l];</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;          *parameters[k] += delta_p;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;          *parameters[l] += delta_p;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          std::vector&lt;Number&gt; partial2q_term = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;          std::vector&lt;Number&gt; partial2R_term(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>());</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;              partial2R_term[i] = this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;get_adjoint_solution(i));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          *parameters[l] -= 2.*delta_p;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;              {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                partial2q_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                partial2R_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;              }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          *parameters[k] -= 2.*delta_p;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;              {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                partial2q_term[i] += this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                partial2R_term[i] += this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;              }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          *parameters[l] += 2.*delta_p;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;              {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                partial2q_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                partial2R_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                partial2q_term[i] /= (4. * delta_p * delta_p);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                partial2R_term[i] /= (4. * delta_p * delta_p);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;              }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;              {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> current_terms = partial2q_term[i] - partial2R_term[i];</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                sensitivities.second_derivative(i,k,l) += current_terms;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                <span class="keywordflow">if</span> (k != l)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                  sensitivities.second_derivative(i,l,k) += current_terms;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;              }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;          <span class="comment">// Don&#39;t leave the parameters perturbed</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          *parameters[l] = old_parameterl;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          *parameters[k] = old_parameterk;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="comment">// We get (partial q / partial u) and</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="comment">// (partial R / partial u) from the user, but centrally</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="comment">// difference to get q_uk and R_uk terms:</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="comment">// (partial^2 q / partial u partial k)</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="comment">// q_uk*u&#39;_l = (q_u(p+dp*e_k)*u&#39;_l - q_u(p-dp*e_k)*u&#39;_l)/(2*dp)</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="comment">// R_uk*z*u&#39;_l = (R_u(p+dp*e_k)*z*u&#39;_l - R_u(p-dp*e_k)*z*u&#39;_l)/(2*dp)</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="comment">// To avoid creating Nq temporary vectors, we add these</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="comment">// subterms to the sensitivities output one by one.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="comment">// FIXME: this is probably a bad order of operations for</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <span class="comment">// controlling floating point error.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      *parameters[k] = old_parameterk + delta_p;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l != Np; ++l)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l));</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;              {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> current_terms =</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                  (this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l)) -</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                   tempvec-&gt;dot(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i))) / (2.*delta_p);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                sensitivities.second_derivative(i,k,l) += current_terms;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                <span class="comment">// We use the _uk terms twice; symmetry lets us reuse</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <span class="comment">// these calculations for the _ul terms.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                sensitivities.second_derivative(i,l,k) += current_terms;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;              }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      *parameters[k] = old_parameterk - delta_p;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l != Np; ++l)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l));</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;              {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> current_terms =</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                  (-this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l)) +</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                   tempvec-&gt;dot(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i))) / (2.*delta_p);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                sensitivities.second_derivative(i,k,l) += current_terms;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                <span class="comment">// We use the _uk terms twice; symmetry lets us reuse</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                <span class="comment">// these calculations for the _ul terms.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                sensitivities.second_derivative(i,l,k) += current_terms;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;              }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="comment">// Don&#39;t leave the parameter perturbed</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      *parameters[k] = old_parameterk;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="comment">// Our last remaining terms are -R_uu(u,z)*u_k*u_l and</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="comment">// Q_uu(u)*u_k*u_l</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <span class="comment">// We take directional central finite differences of R_u and Q_u</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="comment">// to approximate these terms, e.g.:</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="comment">// Q_uu(u)*u_k ~= (Q_u(u+dp*u_k) - Q_u(u-dp*u_k))/(2*dp)</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(k);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> *= delta_p;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> += *oldsolution;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="comment">// We&#39;ve modified solution, so we need to update before calling</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// assembly since assembly may only use current_local_solution</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="comment">// The Hessian is symmetric, so we just calculate the lower</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="comment">// triangle and the diagonal, and we get the upper triangle from</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="comment">// the transpose of the lower</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="comment">// Note that, because we took the directional finite difference</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <span class="comment">// with respect to k and not l, we&#39;ve added an O(delta_p^2)</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="comment">// error to any permutational symmetry in the Hessian...</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l != k+1; ++l)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l));</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;              {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> current_terms =</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                  (this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l)) -</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                   tempvec-&gt;dot(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i))) / (2.*delta_p);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                sensitivities.second_derivative(i,k,l) += current_terms;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                <span class="keywordflow">if</span> (k != l)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                  sensitivities.second_derivative(i,l,k) += current_terms;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;              }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(k);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> *= -delta_p;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> += *oldsolution;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="comment">// We&#39;ve modified solution, so we need to update before calling</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="comment">// assembly since assembly may only use current_local_solution</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l=0; l != k+1; ++l)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;              {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> current_terms =</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                  (-this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(l)) +</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                   tempvec-&gt;dot(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i))) / (2.*delta_p);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                sensitivities.second_derivative(i,k,l) += current_terms;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordflow">if</span> (k != l)</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                  sensitivities.second_derivative(i,l,k) += current_terms;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;              }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="comment">// Don&#39;t leave the solution perturbed</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a> = *oldsolution;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// All parameters have been reset.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">// Don&#39;t leave the qoi or system changed - principle of least</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// surprise.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// We&#39;ve modified solution, so we need to update before calling</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">// assembly since assembly may only use current_local_solution</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">update</a>();</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a920173d7f09d6f17b4451f354b7bccac"><div class="ttname"><a href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">libMesh::System::get_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_sensitivity_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01139">system.C:1139</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_adaccc5857f1a5d5ca264ded0b8bfb986"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">libMesh::SparseMatrix::vector_mult</a></div><div class="ttdeci">void vector_mult(NumericVector&lt; T &gt; &amp;dest, const NumericVector&lt; T &gt; &amp;arg) const </div><div class="ttdoc">将矩阵乘以 NumericVector arg 并将结果存储在 NumericVector dest 中。 </div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00195">sparse_matrix.C:195</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_ac659d63f5c1dcbd434571de5ee5e293d"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#ac659d63f5c1dcbd434571de5ee5e293d">libMesh::ImplicitSystem::sensitivity_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; sensitivity_solve(const ParameterVector &amp;parameters) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system(s) (dR/du)*u_p = -dR/dp, for those parameters contained within p...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00113">implicit_system.C:113</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a88c5418c5d5d97916264d40dd425a9ab"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">libMesh::ImplicitSystem::adjoint_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; adjoint_solve(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system (dR/du)^T*z = dq/du, for those quantities of interest q specifie...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00169">implicit_system.C:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_abbaff444a42dd4ce946b4dc46554f41d"><div class="ttname"><a href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">libMesh::System::get_qoi_value</a></div><div class="ttdeci">Number get_qoi_value(unsigned int qoi_index) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02294">system.C:2294</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5cd5ab35b28e4e0f56fc164d6898fe4"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">libMesh::System::is_adjoint_already_solved</a></div><div class="ttdeci">bool is_adjoint_already_solved() const </div><div class="ttdoc">Accessor for the adjoint_already_solved boolean. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00406">system.h:406</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab9d81ac9c1787c43fb87cf13d37741ee"><div class="ttname"><a href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee">libMesh::System::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Update the local values to reflect the solution on neighboring processors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00492">system.C:492</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a8b151463899cb0fbf0938e039491ffad"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">libMesh::ExplicitSystem::assemble_qoi</a></div><div class="ttdeci">virtual void assemble_qoi(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Prepares qoi for quantity of interest assembly, then calls user qoi function. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00054">explicit_system.C:54</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a45adb17458ea92c61b7ec53836ef1ef8"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">libMesh::ExplicitSystem::assemble_qoi_derivative</a></div><div class="ttdeci">virtual void assemble_qoi_derivative(const QoISet &amp;qoi_indices=QoISet(), bool include_liftfunc=true, bool apply_constraints=true) override</div><div class="ttdoc">Prepares adjoint_rhs for quantity of interest derivative assembly, then calls user qoi derivative fun...</div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00067">explicit_system.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aeaf02ff714b2d9b6aca4e8d696856529"><div class="ttname"><a href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">libMesh::System::get_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01192">system.C:1192</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9b23ab84ecbb678fe65e76fc29567c8b"><div class="ttname"><a href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">libMesh::System::get_qoi_values</a></div><div class="ttdeci">std::vector&lt; Number &gt; get_qoi_values() const </div><div class="ttdoc">Returns a copy of qoi, not a reference. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02301">system.C:2301</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe988921e219358881c49d1fa7303507"><div class="ttname"><a href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">libMesh::System::get_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01254">system.C:1254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ecd1677e33dd1e7f9a2eb9afbc0396f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;&#160;</td>
          <td class="paramname"><em>product</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For each of the system's quantities of interest q in <code>qoi</code>[qoi_indices], and for a vector of parameters p, the parameter sensitivity Hessian H_ij is defined as H_ij = (d^2 q)/(d p_i d p_j) The Hessian-vector product, for a vector v_k in parameter space, is S_j = H_jk v_k This product is the output of this method, where for each q_i, S_j is stored in <code>sensitivities</code>[i][j]. </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a24bec5dc18f42bc87ad135a06aada457">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00690">690</a> 行定义.</p>

<p>参考 <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="sensitivity__data_8h_source.html#l00170">libMesh::SensitivityData::allocate_data()</a>, <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1ParameterVector.html#aacf06a1971b30b2328c9d3013df2af5c">libMesh::ParameterVector::deep_copy()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l01192">libMesh::System::get_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l02294">libMesh::System::get_qoi_value()</a>, <a class="el" href="system_8C_source.html#l02301">libMesh::System::get_qoi_values()</a>, <a class="el" href="system_8C_source.html#l01224">libMesh::System::get_weighted_sensitivity_adjoint_solution()</a>, <a class="el" href="system_8C_source.html#l01166">libMesh::System::get_weighted_sensitivity_solution()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="system_8h_source.html#l00406">libMesh::System::is_adjoint_already_solved()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>, <a class="el" href="parameter__vector_8C_source.html#l00075">libMesh::ParameterVector::value_copy()</a>, <a class="el" href="sparse__matrix_8C_source.html#l00195">libMesh::SparseMatrix&lt; T &gt;::vector_mult()</a>, <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// We currently get partial derivatives via finite differencing</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p = <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// We&#39;ll use a single temporary vector for matrix-vector-vector products</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; tempvec = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;zero_clone();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Np = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    (parameters.size());</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nq = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">// For each quantity of interest q, the parameter sensitivity</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// Hessian is defined as q&#39;&#39;_{kl} = {d^2 q}/{d p_k d p_l}.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// Given a vector of parameter perturbation weights w_l, this</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// function evaluates the hessian-vector product sum_l(q&#39;&#39;_{kl}*w_l)</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// We calculate it from values and partial derivatives of the</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// quantity of interest function Q, solution u, adjoint solution z,</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="comment">// parameter sensitivity adjoint solutions z^l, and residual R, as:</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// sum_l(q&#39;&#39;_{kl}*w_l) =</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="comment">// sum_l(w_l * Q&#39;&#39;_{kl}) + Q&#39;&#39;_{uk}(u)*(sum_l(w_l u&#39;_l)) -</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="comment">// R&#39;_k(u, sum_l(w_l*z^l)) - R&#39;_{uk}(u,z)*(sum_l(w_l u&#39;_l) -</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// sum_l(w_l*R&#39;&#39;_{kl}(u,z))</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="comment">// See the adjoints model document for more details.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// We first do an adjoint solve to get z for each quantity of</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// interest</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// if we haven&#39;t already or dont have an initial condition for the adjoint</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">is_adjoint_already_solved</a>())</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">adjoint_solve</a>(qoi_indices);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// Get ready to fill in sensitivities:</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  sensitivities.allocate_data(qoi_indices, *<span class="keyword">this</span>, parameters);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="comment">// We can&#39;t solve for all the solution sensitivities u&#39;_l or for all</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// of the parameter sensitivity adjoint solutions z^l without</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// requiring O(Nq*Np) linear solves.  So we&#39;ll solve directly for their</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="comment">// weighted sum - this is just O(Nq) solves.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">// First solve for sum_l(w_l u&#39;_l).</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a1ffd63b51e74f2ba7b09737f834319b2">weighted_sensitivity_solve</a>(parameters, vector);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// Then solve for sum_l(w_l z^l).</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a93980bb1f5144843b5fd266a0c4cee29">weighted_sensitivity_adjoint_solve</a>(parameters, vector, qoi_indices);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k != Np; ++k)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="comment">// We approximate sum_l(w_l * Q&#39;&#39;_{kl}) with a central</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="comment">// differencing perturbation:</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="comment">// sum_l(w_l * Q&#39;&#39;_{kl}) ~=</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="comment">// (Q(p + dp*w_l*e_l + dp*e_k) - Q(p - dp*w_l*e_l + dp*e_k) -</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="comment">// Q(p + dp*w_l*e_l - dp*e_k) + Q(p - dp*w_l*e_l - dp*e_k))/(4*dp^2)</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">// The sum(w_l*R&#39;&#39;_kl) term requires the same sort of perturbation,</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">// and so we subtract it in at the same time:</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="comment">// sum_l(w_l * R&#39;&#39;_{kl}) ~=</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="comment">// (R(p + dp*w_l*e_l + dp*e_k) - R(p - dp*w_l*e_l + dp*e_k) -</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="comment">// R(p + dp*w_l*e_l - dp*e_k) + R(p - dp*w_l*e_l - dp*e_k))/(4*dp^2)</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      ParameterVector oldparameters, parameterperturbation;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      parameters.deep_copy(oldparameters);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      vector.deep_copy(parameterperturbation);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      parameterperturbation *= delta_p;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      parameters += parameterperturbation;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> old_parameter = *parameters[k];</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      *parameters[k] = old_parameter + delta_p;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      std::vector&lt;Number&gt; partial2q_term = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">get_qoi_values</a>();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      std::vector&lt;Number&gt; partial2R_term(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;          partial2R_term[i] = this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;get_adjoint_solution(i));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      *parameters[k] = old_parameter - delta_p;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            partial2q_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            partial2R_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      oldparameters.value_copy(parameters);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      parameterperturbation *= -1.0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      parameters += parameterperturbation;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="comment">// Re-center old_parameter, which may be affected by vector</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      old_parameter = *parameters[k];</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      *parameters[k] = old_parameter + delta_p;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            partial2q_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            partial2R_term[i] -= this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;          }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      *parameters[k] = old_parameter - delta_p;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            partial2q_term[i] += this-&gt;<a class="code" href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">get_qoi_value</a>(i);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            partial2R_term[i] += this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            partial2q_term[i] /= (4. * delta_p * delta_p);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            partial2R_term[i] /= (4. * delta_p * delta_p);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          sensitivities[i][k] = partial2q_term[i] - partial2R_term[i];</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="comment">// We get (partial q / partial u), R, and</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="comment">// (partial R / partial u) from the user, but centrally</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="comment">// difference to get q_uk, R_k, and R_uk terms:</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <span class="comment">// (partial R / partial k)</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="comment">// R_k*sum(w_l*z^l) = (R(p+dp*e_k)*sum(w_l*z^l) - R(p-dp*e_k)*sum(w_l*z^l))/(2*dp)</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="comment">// (partial^2 q / partial u partial k)</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="comment">// q_uk = (q_u(p+dp*e_k) - q_u(p-dp*e_k))/(2*dp)</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="comment">// (partial^2 R / partial u partial k)</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="comment">// R_uk*z*sum(w_l*u&#39;_l) = (R_u(p+dp*e_k)*z*sum(w_l*u&#39;_l) - R_u(p-dp*e_k)*z*sum(w_l*u&#39;_l))/(2*dp)</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="comment">// To avoid creating Nq temporary vectors for q_uk or R_uk, we add</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="comment">// subterms to the sensitivities output one by one.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="comment">// FIXME: this is probably a bad order of operations for</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="comment">// controlling floating point error.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      *parameters[k] = old_parameter + delta_p;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a>());</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;          {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            sensitivities[i][k] += (this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a>()) -</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                    this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">get_weighted_sensitivity_adjoint_solution</a>(i)) -</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                    this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*tempvec)) / (2.*delta_p);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      *parameters[k] = old_parameter - delta_p;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                                    <span class="comment">/* include_liftfunc = */</span> <span class="keyword">true</span>,</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                    <span class="comment">/* apply_constraints = */</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">vector_mult</a>(*tempvec, this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a>());</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i != Nq; ++i)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            sensitivities[i][k] += (-this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a>()) +</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                                    this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">get_weighted_sensitivity_adjoint_solution</a>(i)) +</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                    this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*tempvec)) / (2.*delta_p);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">// All parameters have been reset.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// Don&#39;t leave the qoi or system changed - principle of least</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="comment">// surprise.</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">assemble_qoi</a>(qoi_indices);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a1ffd63b51e74f2ba7b09737f834319b2"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a1ffd63b51e74f2ba7b09737f834319b2">libMesh::ImplicitSystem::weighted_sensitivity_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; weighted_sensitivity_solve(const ParameterVector &amp;parameters, const ParameterVector &amp;weights) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system(s) (dR/du)*u_w = sum(w_p*-dR/dp), for those parameters p contain...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00366">implicit_system.C:366</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_adaccc5857f1a5d5ca264ded0b8bfb986"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#adaccc5857f1a5d5ca264ded0b8bfb986">libMesh::SparseMatrix::vector_mult</a></div><div class="ttdeci">void vector_mult(NumericVector&lt; T &gt; &amp;dest, const NumericVector&lt; T &gt; &amp;arg) const </div><div class="ttdoc">将矩阵乘以 NumericVector arg 并将结果存储在 NumericVector dest 中。 </div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00195">sparse_matrix.C:195</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a88c5418c5d5d97916264d40dd425a9ab"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a88c5418c5d5d97916264d40dd425a9ab">libMesh::ImplicitSystem::adjoint_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; adjoint_solve(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system (dR/du)^T*z = dq/du, for those quantities of interest q specifie...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00169">implicit_system.C:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ad4168ae004bc141639bb8b2b44de45cc"><div class="ttname"><a href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">libMesh::System::get_weighted_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_weighted_sensitivity_solution()</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01166">system.C:1166</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_abbaff444a42dd4ce946b4dc46554f41d"><div class="ttname"><a href="classlibMesh_1_1System.html#abbaff444a42dd4ce946b4dc46554f41d">libMesh::System::get_qoi_value</a></div><div class="ttdeci">Number get_qoi_value(unsigned int qoi_index) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02294">system.C:2294</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5cd5ab35b28e4e0f56fc164d6898fe4"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5cd5ab35b28e4e0f56fc164d6898fe4">libMesh::System::is_adjoint_already_solved</a></div><div class="ttdeci">bool is_adjoint_already_solved() const </div><div class="ttdoc">Accessor for the adjoint_already_solved boolean. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00406">system.h:406</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a8b151463899cb0fbf0938e039491ffad"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a8b151463899cb0fbf0938e039491ffad">libMesh::ExplicitSystem::assemble_qoi</a></div><div class="ttdeci">virtual void assemble_qoi(const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Prepares qoi for quantity of interest assembly, then calls user qoi function. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00054">explicit_system.C:54</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a45adb17458ea92c61b7ec53836ef1ef8"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">libMesh::ExplicitSystem::assemble_qoi_derivative</a></div><div class="ttdeci">virtual void assemble_qoi_derivative(const QoISet &amp;qoi_indices=QoISet(), bool include_liftfunc=true, bool apply_constraints=true) override</div><div class="ttdoc">Prepares adjoint_rhs for quantity of interest derivative assembly, then calls user qoi derivative fun...</div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00067">explicit_system.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aeaf02ff714b2d9b6aca4e8d696856529"><div class="ttname"><a href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">libMesh::System::get_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01192">system.C:1192</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9b23ab84ecbb678fe65e76fc29567c8b"><div class="ttname"><a href="classlibMesh_1_1System.html#a9b23ab84ecbb678fe65e76fc29567c8b">libMesh::System::get_qoi_values</a></div><div class="ttdeci">std::vector&lt; Number &gt; get_qoi_values() const </div><div class="ttdoc">Returns a copy of qoi, not a reference. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02301">system.C:2301</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a93980bb1f5144843b5fd266a0c4cee29"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a93980bb1f5144843b5fd266a0c4cee29">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; weighted_sensitivity_adjoint_solve(const ParameterVector &amp;parameters, const ParameterVector &amp;weights, const QoISet &amp;qoi_indices=QoISet()) override</div><div class="ttdoc">Assembles &amp;amp; solves the linear system(s) (dR/du)^T*z_w = sum(w_p*(d^2q/dudp - d^2R/dudp*z)), for those parameters p contained within parameters, weighted by the values w_p found within weights. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00220">implicit_system.C:220</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a497665a8b66520f587e5e5102c94420c"><div class="ttname"><a href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">libMesh::System::get_weighted_sensitivity_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_weighted_sensitivity_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01224">system.C:1224</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe988921e219358881c49d1fa7303507"><div class="ttname"><a href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">libMesh::System::get_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01254">system.C:1254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4fd540ebc82189c84815d2e50b4a04c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::qoi_parameter_sensitivity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1SensitivityData.html">SensitivityData</a> &amp;&#160;</td>
          <td class="paramname"><em>sensitivities</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solves for the derivative of each of the system's quantities of interest q in <code>qoi</code>[qoi_indices] with respect to each parameter in <code>parameters</code>, placing the result for qoi <code>i</code> and parameter <code>j</code> into <code>sensitivities</code>[i][j]. </p>
<dl class="section note"><dt>注解</dt><dd><code>parameters</code> is a const vector, not a vector-of-const; parameter values in this vector need to be mutable for finite differencing to work.</dd></dl>
<p>Automatically chooses the forward method for problems with more quantities of interest than parameters, or the adjoint method otherwise.</p>
<p>This method is only usable in derived classes which override an implementation. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00584">584</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02558">libMesh::System::adjoint_qoi_parameter_sensitivity()</a>, <a class="el" href="system_8h_source.html#l02567">libMesh::System::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a> , 以及 <a class="el" href="qoi__set_8C_source.html#l00035">libMesh::QoISet::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="comment">// Forward sensitivities are more efficient for Nq &gt; Np</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (qoi_indices.size(*<span class="keyword">this</span>) &gt; parameters.size())</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#ab19259df51db305760418290ae5b2f57">forward_qoi_parameter_sensitivity</a>(qoi_indices, parameters, sensitivities);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="comment">// Adjoint sensitivities are more efficient for Np &gt; Nq,</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// and an adjoint may be more reusable than a forward</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="comment">// solution sensitivity in the Np == Nq case.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#a16e47d56606c347fbc996072f666c1b2">adjoint_qoi_parameter_sensitivity</a>(qoi_indices, parameters, sensitivities);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ab19259df51db305760418290ae5b2f57"><div class="ttname"><a href="classlibMesh_1_1System.html#ab19259df51db305760418290ae5b2f57">libMesh::System::forward_qoi_parameter_sensitivity</a></div><div class="ttdeci">virtual void forward_qoi_parameter_sensitivity(const QoISet &amp;qoi_indices, const ParameterVector &amp;parameters, SensitivityData &amp;sensitivities)</div><div class="ttdoc">Solves for parameter sensitivities using the forward method. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02567">system.h:2567</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a16e47d56606c347fbc996072f666c1b2"><div class="ttname"><a href="classlibMesh_1_1System.html#a16e47d56606c347fbc996072f666c1b2">libMesh::System::adjoint_qoi_parameter_sensitivity</a></div><div class="ttdeci">virtual void adjoint_qoi_parameter_sensitivity(const QoISet &amp;qoi_indices, const ParameterVector &amp;parameters, SensitivityData &amp;sensitivities)</div><div class="ttdoc">Solves for parameter sensitivities using the adjoint method. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02558">system.h:2558</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95f76b0ddbd8084a2a01a12495ebad2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::re_update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Re-update the local values when the mesh has changed. </p>
<p>This method takes the data updated by <code><a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee" title="Update the local values to reflect the solution on neighboring processors. ">update()</a></code> and makes it up-to-date on the current mesh. </p>

<p>被 <a class="el" href="classlibMesh_1_1TransientSystem.html#a6963de9c549f818380a54622e42e0fbe">libMesh::TransientSystem&lt; RBConstruction &gt;</a> 重载.</p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00515">515</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="dof__map_8h_source.html#l00511">libMesh::DofMap::get_send_list()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>
<div class="fragment"><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;{</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// If this system is empty... don&#39;t do anything!</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>())</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">const</span> std::vector&lt;dof_id_type&gt; &amp; send_list = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a31c127241d3271719ede3d0a6902e9e4">get_send_list</a> ();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// Check sizes</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  libmesh_assert_equal_to (<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>-&gt;size(), <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="comment">// Not true with ghosted vectors</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// libmesh_assert_equal_to (current_local_solution-&gt;local_size(), solution-&gt;size());</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// libmesh_assert (!send_list.empty());</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  libmesh_assert_less_equal (send_list.size(), <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// Create current_local_solution from solution.  This will</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// put a local copy of solution into current_local_solution.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize (*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>, send_list);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a31c127241d3271719ede3d0a6902e9e4"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a31c127241d3271719ede3d0a6902e9e4">libMesh::DofMap::get_send_list</a></div><div class="ttdeci">const std::vector&lt; dof_id_type &gt; &amp; get_send_list() const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8h_source.html#l00511">dof_map.h:511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeeb65fd4d50e20cc1593e578e5ff028c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::read_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_header</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_legacy_format</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the basic data header for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l00097">97</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02223">libMesh::System::_additional_data_written</a>, <a class="el" href="system_8h_source.html#l02235">libMesh::System::_written_var_indices</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l00750">libMesh::System::add_vector()</a>, <a class="el" href="system_8C_source.html#l00167">libMesh::System::clear()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="fe__type_8h_source.html#l00080">libMesh::OrderWrapper::get_order()</a>, <a class="el" href="fe__type_8h_source.html#l00261">libMesh::FEType::inf_map</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="mesh__base_8C_source.html#l00322">libMesh::MeshBase::mesh_dimension()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00039">libMesh::MONOMIAL</a>, <a class="el" href="libmesh_8C_source.html#l00872">libMesh::on_command_line()</a>, <a class="el" href="fe__type_8h_source.html#l00201">libMesh::FEType::order</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="fe__type_8h_source.html#l00253">libMesh::FEType::radial_family</a>, <a class="el" href="fe__type_8h_source.html#l00240">libMesh::FEType::radial_order</a>, <a class="el" href="xdr__cxx_8h_source.html#l00123">libMesh::Xdr::reading()</a>, <a class="el" href="system_8C_source.html#l01556">libMesh::System::variable_number()</a>, <a class="el" href="xdr__cxx_8h_source.html#l00176">libMesh::Xdr::version()</a> , 以及 <a class="el" href="enum__fe__family_8h_source.html#l00046">libMesh::XYZ</a>.</p>

<p>参考自 <a class="el" href="equation__systems__io_8C_source.html#l00108">libMesh::EquationSystems::read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// This method implements the input of a</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// System object, embedded in the output of</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">// an EquationSystems&lt;T_sys&gt;.  This warrants some</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">// documentation.  The output file essentially</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// consists of 5 sections:</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// for this system</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">//   5.) The number of variables in the system (unsigned int)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">//   for each variable in the system</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">//     6.) The name of the variable (string)</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">//     6.1.) Variable subdomains</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">//     7.) Combined in an FEType:</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">//         - The approximation order(s) of the variable</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">//           (Order Enum, cast to int/s)</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">//         - The finite element family/ies of the variable</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">//           (FEFamily Enum, cast to int/s)</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">//   end variable loop</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">//   8.) The number of additional vectors (unsigned int),</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="comment">//     for each additional vector in the system object</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">//     9.) the name of the additional vector  (string)</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// end system</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.reading());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// Possibly clear data structures and start from scratch.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> (read_header_in)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a8b6f936ce782fbd86cb4f3922def4cf0">clear</a> ();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Figure out if we need to read infinite element information.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// This will be true if the version string contains &quot; with infinite elements&quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> read_ifem_info =</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    (version.rfind(<span class="stringliteral">&quot; with infinite elements&quot;</span>) &lt; version.size()) ||</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="namespacelibMesh.html#adc9fb0dafe70b50cd0848a8142cf57c0">libMesh::on_command_line</a> (<span class="stringliteral">&quot;--read-ifem-systems&quot;</span>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// 5.)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// Read the number of variables in the system</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nv=0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      io.data (nv);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(nv);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>.clear();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>.resize(nv, 0);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var=0; var&lt;nv; var++)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// 6.)</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="comment">// Read the name of the var-th variable</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        std::string var_name;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          io.data (var_name);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(var_name);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// 6.1.)</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        std::set&lt;subdomain_id_type&gt; domains;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">if</span> (io.version() &gt;= LIBMESH_VERSION_ID(0,7,2))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;          {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            std::vector&lt;subdomain_id_type&gt; domain_array;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;              io.data (domain_array);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; <span class="keywordtype">id</span> : domain_array)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;              domains.insert(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(domains);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// 7.)</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// Read the approximation order(s) of the var-th variable</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordtype">int</span> order=0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          io.data (order);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(order);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// do the same for infinite element radial_order</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordtype">int</span> rad_order=0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span> (read_ifem_info)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;              io.data(rad_order);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(rad_order);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// Read the finite element type of the var-th variable</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordtype">int</span> fam=0;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;          io.data (fam);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(fam);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        FEType type;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        type.order  = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a><span class="keyword">&gt;</span>(order);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        type.family = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a><span class="keyword">&gt;</span>(fam);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// Check for incompatibilities.  The shape function indexing was</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// changed for the monomial and xyz finite element families to</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// simplify extension to arbitrary p.  The consequence is that</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// old restart files will not be read correctly.  This is expected</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">// to be an unlikely occurrence, but catch it anyway.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (read_legacy_format)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          <span class="keywordflow">if</span> ((type.family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dae474c06cb9773db50e27d3b074af683e">MONOMIAL</a> || type.family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dabb9222ba16f8f169474ac303408287d6">XYZ</a>) &amp;&amp;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;              ((type.order.get_order() &gt; 2 &amp;&amp; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a1bc787d29f4c496f107aed988be4b9bf">mesh_dimension</a>() == 2) ||</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;               (type.order.get_order() &gt; 1 &amp;&amp; this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a1bc787d29f4c496f107aed988be4b9bf">mesh_dimension</a>() == 3)))</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;              libmesh_here();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;              <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;*****************************************************************\n&quot;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot;* WARNING: reading a potentially incompatible restart file!!!   *\n&quot;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot;*  contact libmesh-users@lists.sourceforge.net for more details *\n&quot;</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                           &lt;&lt; <span class="stringliteral">&quot;*****************************************************************&quot;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                           &lt;&lt; std::endl;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// Read additional information for infinite elements</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordtype">int</span> radial_fam=0;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">int</span> i_map=0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (read_ifem_info)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;              io.data (radial_fam);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(radial_fam);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;              io.data (i_map);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(i_map);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_INFINITE_ELEMENTS</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        type.radial_order  = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">Order</a><span class="keyword">&gt;</span>(rad_order);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        type.radial_family = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">FEFamily</a><span class="keyword">&gt;</span>(radial_fam);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        type.inf_map       = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#a115060133db0a0b4561d57958f51b025">InfMapType</a><span class="keyword">&gt;</span>(i_map);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (read_header_in)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">if</span> (domains.empty())</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[var] = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a> (var_name, type);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;              <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[var] = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">add_variable</a> (var_name, type, &amp;domains);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[var] = this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">variable_number</a>(var_name);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// 8.)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="comment">// Read the number of additional vectors.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nvecs=0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    io.data (nvecs);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(nvecs);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// If nvecs &gt; 0, this means that write_additional_data</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// was true when this file was written.  We will need to</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// make use of this fact later.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a> = nvecs;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vec=0; vec&lt;nvecs; vec++)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="comment">// 9.)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="comment">// Read the name of the vec-th additional vector</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      std::string vec_name;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        io.data (vec_name);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(vec_name);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">if</span> (io.version() &gt;= LIBMESH_VERSION_ID(1,7,0))</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;          <span class="keywordtype">int</span> vec_projection = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            io.data (vec_projection);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(vec_projection);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <span class="keywordtype">int</span> vec_type;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            io.data (vec_type);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(vec_type);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          <span class="keywordflow">if</span> (read_additional_data)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(vec_name, <span class="keywordtype">bool</span>(vec_projection), <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a>(vec_type));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (read_additional_data)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          <span class="comment">// Systems now can handle adding post-initialization vectors</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          <span class="comment">//  libmesh_assert(this-&gt;_can_add_vectors);</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          <span class="comment">// Some systems may have added their own vectors already</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          <span class="comment">//  libmesh_assert_equal_to (this-&gt;_vectors.count(vec_name), 0);</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">add_vector</a>(vec_name);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8b6f936ce782fbd86cb4f3922def4cf0"><div class="ttname"><a href="classlibMesh_1_1System.html#a8b6f936ce782fbd86cb4f3922def4cf0">libMesh::System::clear</a></div><div class="ttdeci">virtual void clear()</div><div class="ttdoc">Clear all the data structures associated with the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00167">system.C:167</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af3eb3e8751995b944fc135ea53b09da2"><div class="ttname"><a href="namespacelibMesh.html#af3eb3e8751995b944fc135ea53b09da2">libMesh::Order</a></div><div class="ttdeci">Order</div><div class="ttdoc">defines an enum for polynomial orders. </div><div class="ttdef"><b>Definition:</b> <a href="enum__order_8h_source.html#l00040">enum_order.h:40</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2dabb9222ba16f8f169474ac303408287d6"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dabb9222ba16f8f169474ac303408287d6">libMesh::XYZ</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00046">enum_fe_family.h:46</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a73b89c8295f639035ee70666476a1606"><div class="ttname"><a href="classlibMesh_1_1System.html#a73b89c8295f639035ee70666476a1606">libMesh::System::add_vector</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_vector(std::string_view vec_name, const bool projections=true, const ParallelType type=PARALLEL)</div><div class="ttdoc">Adds the additional vector vec_name to this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00750">system.C:750</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae888830819ca8516572397646ca20f12"><div class="ttname"><a href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">libMesh::System::_additional_data_written</a></div><div class="ttdeci">unsigned int _additional_data_written</div><div class="ttdoc">This flag is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02223">system.h:2223</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6e969faaf69643992543173498cf6b25"><div class="ttname"><a href="classlibMesh_1_1System.html#a6e969faaf69643992543173498cf6b25">libMesh::System::add_variable</a></div><div class="ttdeci">unsigned int add_variable(std::string_view var, const FEType &amp;type, const std::set&lt; subdomain_id_type &gt; *const active_subdomains=nullptr)</div><div class="ttdoc">Adds the variable var to the list of variables for this system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01304">system.C:1304</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2dae474c06cb9773db50e27d3b074af683e"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2dae474c06cb9773db50e27d3b074af683e">libMesh::MONOMIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00039">enum_fe_family.h:39</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a115060133db0a0b4561d57958f51b025"><div class="ttname"><a href="namespacelibMesh.html#a115060133db0a0b4561d57958f51b025">libMesh::InfMapType</a></div><div class="ttdeci">InfMapType</div><div class="ttdoc">defines an enum for the types of coordinate mappings available in infinite elements. </div><div class="ttdef"><b>Definition:</b> <a href="enum__inf__map__type_8h_source.html#l00034">enum_inf_map_type.h:34</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a1bc787d29f4c496f107aed988be4b9bf"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a1bc787d29f4c496f107aed988be4b9bf">libMesh::MeshBase::mesh_dimension</a></div><div class="ttdeci">unsigned int mesh_dimension() const </div><div class="ttdef"><b>Definition:</b> <a href="mesh__base_8C_source.html#l00322">mesh_base.C:322</a></div></div>
<div class="ttc" id="namespacelibMesh_html_adc9fb0dafe70b50cd0848a8142cf57c0"><div class="ttname"><a href="namespacelibMesh.html#adc9fb0dafe70b50cd0848a8142cf57c0">libMesh::on_command_line</a></div><div class="ttdeci">bool on_command_line(std::string arg)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8C_source.html#l00872">libmesh.C:872</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2d"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2d">libMesh::FEFamily</a></div><div class="ttdeci">FEFamily</div><div class="ttdoc">defines an enum for finite element families. </div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00034">enum_fe_family.h:34</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ad2106b9ef395b8ee20200653ea40629f"><div class="ttname"><a href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">libMesh::System::variable_number</a></div><div class="ttdeci">unsigned int variable_number(std::string_view var) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01556">system.C:1556</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a50e5824ce72d3da7247710ee7c936367"><div class="ttname"><a href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">libMesh::System::_written_var_indices</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; _written_var_indices</div><div class="ttdoc">This vector is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02235">system.h:2235</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">libMesh::ParallelType</a></div><div class="ttdeci">ParallelType</div><div class="ttdoc">Defines an enum for parallel data structure types. </div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00033">enum_parallel_type.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01d9de7172eb9ae886bbcba4aa3f9a2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::read_legacy_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l00302">302</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02223">libMesh::System::_additional_data_written</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="system_8h_source.html#l02235">libMesh::System::_written_var_indices</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="dof__object_8h_source.html#l00477">libMesh::DofObject::invalid_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8C_source.html#l00112">libMesh::System::n_dofs()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02269">libMesh::System::number()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="xdr__cxx_8h_source.html#l00123">libMesh::Xdr::reading()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a> , 以及 <a class="el" href="libmesh_8h_source.html#l00248">libMesh::zero</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  libmesh_deprecated();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// This method implements the output of the vectors</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// contained in this System object, embedded in the</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// output of an EquationSystems&lt;T_sys&gt;.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">//   10.) The global solution vector, re-ordered to be node-major</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">//       (More on this later.)</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">//      for each additional vector in the object</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">//      11.) The global additional vector, re-ordered to be</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">//           node-major (More on this later.)</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.reading());</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// directly-read and reordered buffers, declared here for reuse</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// without heap juggling.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  std::vector&lt;Number&gt; global_vector;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  std::vector&lt;Number&gt; reordered_vector;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">auto</span> reorder_vector_into =</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    [<span class="keyword">this</span>, &amp;global_vector, &amp;reordered_vector]</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    (<a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> &amp; vec)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>().broadcast(global_vector);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// If we have been reading multiple vectors, they should all be</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// the same size.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (reordered_vector.empty() ||</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    reordered_vector.size() == global_vector.size());</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Remember that the stored vector is node-major.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// We need to put it into whatever application-specific</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// ordering we may have using the dof_map.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    reordered_vector.resize(global_vector.size());</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">//libMesh::out &lt;&lt; &quot;global_vector.size()=&quot; &lt;&lt; global_vector.size() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">//libMesh::out &lt;&lt; &quot;this-&gt;n_dofs()=&quot; &lt;&lt; this-&gt;n_dofs() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    libmesh_assert_equal_to (global_vector.size(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> cnt=0;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sys = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nv  = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>.size());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    libmesh_assert_less_equal (nv, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_var=0; data_var&lt;nv; data_var++)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var = <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[data_var];</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// First reorder the nodal DOF values</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; node : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().node_ptr_range())</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> index : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sys,var)))</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;              libmesh_assert_not_equal_to (node-&gt;dof_number(sys, var, index),</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                           <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;              libmesh_assert_less (cnt, global_vector.size());</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;              reordered_vector[node-&gt;dof_number(sys, var, index)] =</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                global_vector[cnt++];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="comment">// Then reorder the element DOF values</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; elem : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().active_element_ptr_range())</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> index : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(elem-&gt;n_comp(sys,var)))</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;              libmesh_assert_not_equal_to (elem-&gt;dof_number(sys, var, index),</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                                           <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;              libmesh_assert_less (cnt, global_vector.size());</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;              reordered_vector[elem-&gt;dof_number(sys, var, index)] =</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                global_vector[cnt++];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// use the overloaded operator=(std::vector) to assign the values</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    vec = reordered_vector;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  };</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// 10.)</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// Read and set the solution vector</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    io.data (global_vector);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  reorder_vector_into(*(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>));</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// For each additional vector, simply go through the list.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// ONLY attempt to do this IF additional data was actually</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// written to the file for this system (controlled by the</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// _additional_data_written flag).</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keyword">const</span> std::size_t nvecs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="comment">// If the number of additional vectors written is non-zero, and</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">// the number of additional vectors we have is non-zero, and</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">// they don&#39;t match, then something is wrong and we can&#39;t be</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">// sure we&#39;re reading data into the correct places.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">if</span> (read_additional_data &amp;&amp; nvecs &amp;&amp;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          nvecs != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        libmesh_error_msg</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          (<span class="stringliteral">&quot;Additional vectors in file do not match system&quot;</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keyword">auto</span> pos = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.begin();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>; ++i)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          <span class="comment">// 11.)</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          <span class="comment">// Read the values of the vec-th additional vector.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          <span class="comment">// Prior do _not_ clear, but fill with zero, since the</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          <span class="comment">// additional vectors _have_ to have the same size</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="comment">// as the solution vector</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;          std::fill (global_vector.begin(), global_vector.end(), <a class="code" href="namespacelibMesh.html#a7384a2e49f01ab6e656cae298da85146">libMesh::zero</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            io.data (global_vector);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <span class="comment">// If read_additional_data==true and we have additional vectors,</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="comment">// then we will keep this vector data; otherwise we are going to</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          <span class="comment">// throw it away.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <span class="keywordflow">if</span> (read_additional_data &amp;&amp; nvecs)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;              std::fill (reordered_vector.begin(),</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                         reordered_vector.end(),</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                         <a class="code" href="namespacelibMesh.html#a7384a2e49f01ab6e656cae298da85146">libMesh::zero</a>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;              reorder_vector_into(*(pos-&gt;second));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="comment">// If we&#39;ve got vectors then we need to be iterating through</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          <span class="comment">// those too</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            ++pos;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    } <span class="comment">// end if (_additional_data_written)</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a7384a2e49f01ab6e656cae298da85146"><div class="ttname"><a href="namespacelibMesh.html#a7384a2e49f01ab6e656cae298da85146">libMesh::zero</a></div><div class="ttdeci">const Number zero</div><div class="ttdoc">. </div><div class="ttdef"><b>Definition:</b> <a href="libmesh_8h_source.html#l00248">libmesh.h:248</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_adf3b0ebe7fcc0c41bced4c9f17bf4822"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">libMesh::DofObject::invalid_id</a></div><div class="ttdeci">static const dof_id_type invalid_id</div><div class="ttdoc">An invalid id to distinguish an uninitialized DofObject. </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00477">dof_object.h:477</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae888830819ca8516572397646ca20f12"><div class="ttname"><a href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">libMesh::System::_additional_data_written</a></div><div class="ttdeci">unsigned int _additional_data_written</div><div class="ttdoc">This flag is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02223">system.h:2223</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aee5caacb487b070842733f1c84b9a2fd"><div class="ttname"><a href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">libMesh::System::number</a></div><div class="ttdeci">unsigned int number() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02269">system.h:2269</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a50e5824ce72d3da7247710ee7c936367"><div class="ttname"><a href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">libMesh::System::_written_var_indices</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; _written_var_indices</div><div class="ttdoc">This vector is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02235">system.h:2235</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afafc4a18ca87487d39b4ca3a6e14e693"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InValType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template LIBMESH_EXPORT void libMesh::System::read_parallel_data&lt; <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>
<p>This method may safely be called on a distributed-memory mesh. This method will read an individual file for each processor in the simulation where the local solution components for that processor are stored. </p>
<p>This method implements the output of the vectors contained in this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> object, embedded in the output of an EquationSystems&lt;T_sys&gt;.</p>
<p>9.) The global solution vector, re-ordered to be node-major (More on this later.)</p>
<p>for each additional vector in the object</p>
<p>10.) The global additional vector, re-ordered to be node-major (More on this later.)</p>
<p>Note that the actual IO is handled through the <a class="el" href="classlibMesh_1_1Xdr.html" title="This class implements a C++ interface to the XDR (eXternal Data Representation) format. ">Xdr</a> class (to be renamed later?) which provides a uniform interface to both the XDR (eXternal Data Representation) interface and standard ASCII output. Thus this one section of code will read XDR or ASCII files with no changes.</p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l00449">449</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02223">libMesh::System::_additional_data_written</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="system_8h_source.html#l02235">libMesh::System::_written_var_indices</a>, <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="dof__object_8h_source.html#l00477">libMesh::DofObject::invalid_id</a>, <a class="el" href="xdr__cxx_8C_source.html#l00347">libMesh::Xdr::is_open()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02269">libMesh::System::number()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="xdr__cxx_8h_source.html#l00123">libMesh::Xdr::reading()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dof__map_8C_source.html#l02544">libMesh::DofMap::SCALAR_dof_indices()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// PerfLog pl(&quot;IO Performance&quot;,false);</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// pl.push(&quot;read_parallel_data&quot;);</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> total_read_size = 0;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.reading());</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.is_open());</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// build the ordered nodes and element maps.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// when writing/reading parallel files we need to iterate</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// over our nodes/elements in order of increasing global id().</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// however, this is not guaranteed to be ordering we obtain</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// by using the node_iterators/element_iterators directly.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// so build a set, sorted by id(), that provides the ordering.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// further, for memory economy build the set but then transfer</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// its contents to vectors, which will be sorted.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  std::vector&lt;const DofObject *&gt; ordered_nodes, ordered_elements;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    std::set&lt;const DofObject *, CompareDofObjectsByID&gt;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ordered_nodes_set (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_begin(),</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                         this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_end());</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    ordered_nodes.insert(ordered_nodes.end(),</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                         ordered_nodes_set.begin(),</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                         ordered_nodes_set.end());</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    std::set&lt;const DofObject *, CompareDofObjectsByID&gt;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      ordered_elements_set (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_begin(),</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                            this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_end());</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    ordered_elements.insert(ordered_elements.end(),</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                            ordered_elements_set.begin(),</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                            ordered_elements_set.end());</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">//  std::vector&lt;Number&gt; io_buffer;</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  std::vector&lt;InValType&gt; io_buffer;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// 9.)</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// Actually read the solution components</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// for the ith system to disk</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  io.data(io_buffer);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  total_read_size += cast_int&lt;dof_id_type&gt;(io_buffer.size());</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sys_num = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nv      = cast_int&lt;unsigned int&gt;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>.size());</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  libmesh_assert_less_equal (nv, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>());</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> cnt=0;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// Loop over each non-SCALAR variable and each node, and read out the value.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_var=0; data_var&lt;nv; data_var++)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var = <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[data_var];</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family != <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          <span class="comment">// First read the node DOF values</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : ordered_nodes)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;              {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                libmesh_assert_not_equal_to (node-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                             <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                libmesh_assert_less (cnt, io_buffer.size());</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;set(node-&gt;dof_number(sys_num, var, comp), io_buffer[cnt++]);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;              }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <span class="comment">// Then read the element DOF values</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : ordered_elements)</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(elem-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;              {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                libmesh_assert_not_equal_to (elem-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                             <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                libmesh_assert_less (cnt, io_buffer.size());</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;set(elem-&gt;dof_number(sys_num, var, comp), io_buffer[cnt++]);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;              }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Finally, read the SCALAR variables on the last processor</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_var=0; data_var&lt;nv; data_var++)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var = <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[data_var];</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;              <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;              std::vector&lt;dof_id_type&gt; SCALAR_dofs;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              dof_map.SCALAR_dof_indices(SCALAR_dofs, var);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;              <span class="keywordflow">for</span> (<span class="keyword">auto</span> dof : SCALAR_dofs)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;set(dof, io_buffer[cnt++]);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="comment">// And we&#39;re done setting solution entries</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;close();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// For each additional vector, simply go through the list.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// ONLY attempt to do this IF additional data was actually</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// written to the file for this system (controlled by the</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// _additional_data_written flag).</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keyword">const</span> std::size_t nvecs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">// If the number of additional vectors written is non-zero, and</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">// the number of additional vectors we have is non-zero, and</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// they don&#39;t match, then something is wrong and we can&#39;t be</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// sure we&#39;re reading data into the correct places.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">if</span> (read_additional_data &amp;&amp; nvecs &amp;&amp;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;          nvecs != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        libmesh_error_msg</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;          (<span class="stringliteral">&quot;Additional vectors in file do not match system&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keyword">auto</span> pos = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.begin();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>; ++i)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          cnt=0;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;          io_buffer.clear();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;          <span class="comment">// 10.)</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;          <span class="comment">// Actually read the additional vector components</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;          <span class="comment">// for the ith system from disk</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;          io.data(io_buffer);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          total_read_size += cast_int&lt;dof_id_type&gt;(io_buffer.size());</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          <span class="comment">// If read_additional_data==true and we have additional vectors,</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;          <span class="comment">// then we will keep this vector data; otherwise we are going to</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;          <span class="comment">// throw it away.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          <span class="keywordflow">if</span> (read_additional_data &amp;&amp; nvecs)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;              <span class="comment">// Loop over each non-SCALAR variable and each node, and read out the value.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_var=0; data_var&lt;nv; data_var++)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var = <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[data_var];</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> != <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                      <span class="comment">// First read the node DOF values</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : ordered_nodes)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                          {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                            libmesh_assert_not_equal_to (node-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                                         <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                            libmesh_assert_less (cnt, io_buffer.size());</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                            pos-&gt;second-&gt;set(node-&gt;dof_number(sys_num, var, comp), io_buffer[cnt++]);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                          }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                      <span class="comment">// Then read the element DOF values</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : ordered_elements)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(elem-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                          {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                            libmesh_assert_not_equal_to (elem-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                                         <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                            libmesh_assert_less (cnt, io_buffer.size());</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                            pos-&gt;second-&gt;set(elem-&gt;dof_number(sys_num, var, comp), io_buffer[cnt++]);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                          }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;              <span class="comment">// Finally, read the SCALAR variables on the last processor</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_var=0; data_var&lt;nv; data_var++)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var = <a class="code" href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">_written_var_indices</a>[data_var];</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                          <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                          std::vector&lt;dof_id_type&gt; SCALAR_dofs;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                          dof_map.SCALAR_dof_indices(SCALAR_dofs, var);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                          <span class="keywordflow">for</span> (<span class="keyword">auto</span> dof : SCALAR_dofs)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                            pos-&gt;second-&gt;set(dof, io_buffer[cnt++]);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;              <span class="comment">// And we&#39;re done setting entries for this variable</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;              pos-&gt;second-&gt;close();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          <span class="comment">// If we&#39;ve got vectors then we need to be iterating through</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;          <span class="comment">// those too</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;          <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            ++pos;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// const Real</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="comment">//   dt   = pl.get_elapsed_time(),</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="comment">//   rate = total_read_size*sizeof(Number)/dt;</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// libMesh::err &lt;&lt; &quot;Read &quot; &lt;&lt; total_read_size &lt;&lt; &quot; \&quot;Number\&quot; values\n&quot;</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Elapsed time = &quot; &lt;&lt; dt &lt;&lt; &#39;\n&#39;</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Rate = &quot; &lt;&lt; rate/1.e6 &lt;&lt; &quot;(MB/sec)\n\n&quot;;</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">// pl.pop(&quot;read_parallel_data&quot;);</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEType_html_ac437ba9b0a5253d6bf6f07ad277b9978"><div class="ttname"><a href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">libMesh::FEType::family</a></div><div class="ttdeci">FEFamily family</div><div class="ttdoc">The type of finite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00207">fe_type.h:207</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a8dcb07137d70a83fcf5b412e08e2783e"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">libMesh::Variable::type</a></div><div class="ttdeci">const FEType &amp; type() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00140">variable.h:140</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_adf3b0ebe7fcc0c41bced4c9f17bf4822"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">libMesh::DofObject::invalid_id</a></div><div class="ttdeci">static const dof_id_type invalid_id</div><div class="ttdoc">An invalid id to distinguish an uninitialized DofObject. </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00477">dof_object.h:477</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae888830819ca8516572397646ca20f12"><div class="ttname"><a href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">libMesh::System::_additional_data_written</a></div><div class="ttdeci">unsigned int _additional_data_written</div><div class="ttdoc">This flag is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02223">system.h:2223</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aee5caacb487b070842733f1c84b9a2fd"><div class="ttname"><a href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">libMesh::System::number</a></div><div class="ttdeci">unsigned int number() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02269">system.h:2269</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a50e5824ce72d3da7247710ee7c936367"><div class="ttname"><a href="classlibMesh_1_1System.html#a50e5824ce72d3da7247710ee7c936367">libMesh::System::_written_var_indices</a></div><div class="ttdeci">std::vector&lt; unsigned int &gt; _written_var_indices</div><div class="ttdoc">This vector is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02235">system.h:2235</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13f952c98690727e4168a8b03918f008"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::read_parallel_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-templated version for backward compatibility. </p>
<p>Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. This method may safely be called on a distributed-memory mesh. This method will read an individual file for each processor in the simulation where the local solution components for that processor are stored. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01333">1333</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  { read_parallel_data&lt;Number&gt;(io, read_additional_data); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6dc2c47d9dfe118694ce25621d91f3c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InValType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template LIBMESH_EXPORT void libMesh::System::read_serialized_data&lt; <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>
<p>This method may safely be called on a distributed-memory mesh. </p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l00680">680</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02223">libMesh::System::_additional_data_written</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// This method implements the input of the vectors</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// contained in this System object, embedded in the</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// output of an EquationSystems&lt;T_sys&gt;.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">//   10.) The global solution vector, re-ordered to be node-major</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">//       (More on this later.)</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="comment">//      for each additional vector in the object</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">//      11.) The global additional vector, re-ordered to be</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="comment">//          node-major (More on this later.)</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  std::string comment;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// PerfLog pl(&quot;IO Performance&quot;,false);</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// pl.push(&quot;read_serialized_data&quot;);</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// std::size_t total_read_size = 0;</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// 10.)</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// Read the global solution vector</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// total_read_size +=</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    this-&gt;read_serialized_vector&lt;InValType&gt;(io, this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>.get());</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// get the comment</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      io.comment (comment);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// 11.)</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="comment">// Only read additional vectors if data is available, and only use</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// that data to fill our vectors if the user requested it.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keyword">const</span> std::size_t nvecs = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="comment">// If the number of additional vectors written is non-zero, and</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="comment">// the number of additional vectors we have is non-zero, and</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="comment">// they don&#39;t match, then we can&#39;t read additional vectors</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="comment">// and be sure we&#39;re reading data into the correct places.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (read_additional_data &amp;&amp; nvecs &amp;&amp;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;          nvecs != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        libmesh_error_msg</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          (<span class="stringliteral">&quot;Additional vectors in file do not match system&quot;</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keyword">auto</span> pos = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.begin();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i != this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">_additional_data_written</a>; ++i)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          <span class="comment">// Read data, but only put it into a vector if we&#39;ve been</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          <span class="comment">// asked to and if we have a corresponding vector to read.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          <span class="comment">// total_read_size +=</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          this-&gt;read_serialized_vector&lt;InValType&gt;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            (io, (read_additional_data &amp;&amp; nvecs) ? pos-&gt;second.get() : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          <span class="comment">// get the comment</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            io.comment (comment);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          <span class="comment">// If we&#39;ve got vectors then we need to be iterating through</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;          <span class="comment">// those too</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            ++pos;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="comment">// const Real</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">//   dt   = pl.get_elapsed_time(),</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="comment">//   rate = total_read_size*sizeof(Number)/dt;</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// libMesh::out &lt;&lt; &quot;Read &quot; &lt;&lt; total_read_size &lt;&lt; &quot; \&quot;Number\&quot; values\n&quot;</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Elapsed time = &quot; &lt;&lt; dt &lt;&lt; &#39;\n&#39;</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Rate = &quot; &lt;&lt; rate/1.e6 &lt;&lt; &quot;(MB/sec)\n\n&quot;;</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// pl.pop(&quot;read_serialized_data&quot;);</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae888830819ca8516572397646ca20f12"><div class="ttname"><a href="classlibMesh_1_1System.html#ae888830819ca8516572397646ca20f12">libMesh::System::_additional_data_written</a></div><div class="ttdeci">unsigned int _additional_data_written</div><div class="ttdoc">This flag is used only when reading in a system from file. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02223">system.h:2223</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3eb0dd9d3ef0453daf9b5eeff0819736"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::read_serialized_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>read_additional_data</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-templated version for backward compatibility. </p>
<p>Reads additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. This method may safely be called on a distributed-memory mesh. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01291">1291</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  { read_serialized_data&lt;Number&gt;(io, read_additional_data); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7aa5c1556938b178e9359f11e651b8ff"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InValType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template LIBMESH_EXPORT std::size_t libMesh::System::read_serialized_vectors&lt; <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a number of identically distributed vectors. </p>
<p>This method allows for optimization for the multiple vector case by only communicating the metadata once. </p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l02165">2165</a> 行定义.</p>

<p>参考 <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem()</a>, <a class="el" href="mesh__tools_8C_source.html#l00850">libMesh::MeshTools::n_elem()</a>, <a class="el" href="tecplot__io_8C_source.html#l00067">n_nodes</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">libMesh::MeshBase::n_nodes()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="system__io_8C_source.html#l00765">libMesh::System::read_serialized_blocked_dof_objects()</a>, <a class="el" href="xdr__cxx_8h_source.html#l00123">libMesh::Xdr::reading()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a> , 以及 <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;{</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="comment">// Error checking</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">// #ifndef NDEBUG</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="comment">//   // In parallel we better be reading a parallel vector -- if not</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="comment">//   // we will not set all of its components below!!</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="comment">//   if (this-&gt;n_processors() &gt; 1)</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <span class="comment">//       libmesh_assert (vec.type() == PARALLEL ||</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <span class="comment">//       vec.type() == GHOSTED);</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="comment">// #endif</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.reading());</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <span class="comment">// sizes</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_vecs=0;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> vector_length=0;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="comment">// Get the number of vectors</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;      io.data(num_vecs);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <span class="comment">// Get the buffer size</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      io.data(vector_length);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      libmesh_error_msg_if (num_vecs != vectors.size(), <span class="stringliteral">&quot;Unexpected value of num_vecs&quot;</span>);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      <span class="keywordflow">if</span> (num_vecs != 0)</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;          libmesh_error_msg_if (vectors[0] == <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;vectors[0] should not be null&quot;</span>);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;          libmesh_error_msg_if (vectors[0]-&gt;size() != vector_length, <span class="stringliteral">&quot;Inconsistent vector sizes&quot;</span>);</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        }</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="comment">// no need to actually communicate these.</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="comment">// this-&gt;comm().broadcast(num_vecs);</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="comment">// this-&gt;comm().broadcast(vector_length);</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="comment">// Cache these - they are not free!</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">n_nodes</a>(),</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <a class="code" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a>  = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">n_elem</a>();</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  std::size_t read_length = 0;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;  <span class="comment">//---------------------------------</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="comment">// Collect the values for all nodes</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  read_length +=</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a657654cdd95b143315a9f9ae5c33435c">read_serialized_blocked_dof_objects</a> (n_nodes,</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                                               this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_begin(),</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                               this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_end(),</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                                               InValType(),</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                                               io,</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                                               vectors);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="comment">//------------------------------------</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="comment">// Collect the values for all elements</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  read_length +=</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a657654cdd95b143315a9f9ae5c33435c">read_serialized_blocked_dof_objects</a> (<a class="code" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a>,</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                                               this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_begin(),</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                                               this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_end(),</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                                               InValType(),</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                               io,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                                               vectors);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  <span class="comment">//-------------------------------------------</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// Finally loop over all the SCALAR variables</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * vec : vectors)</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;          libmesh_assert_not_equal_to (vec, 0);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;          read_length +=</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#a7afc5e4ed9771559e4f7481ca9eef332">read_SCALAR_dofs</a> (var, io, vec);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        }</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;  <span class="comment">//---------------------------------------</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <span class="comment">// last step - must close all the vectors</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * vec : vectors)</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      libmesh_assert_not_equal_to (vec, 0);</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      vec-&gt;close();</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordflow">return</span> read_length;</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a20881e0b5de5ef63808dd24d90e70b2a"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">libMesh::MeshTools::n_elem</a></div><div class="ttdeci">dof_id_type n_elem(const MeshBase::const_element_iterator &amp;begin, const MeshBase::const_element_iterator &amp;end)</div><div class="ttdoc">Count up the number of elements of a specific type (as defined by an iterator range). </div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00850">mesh_tools.C:850</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a657654cdd95b143315a9f9ae5c33435c"><div class="ttname"><a href="classlibMesh_1_1System.html#a657654cdd95b143315a9f9ae5c33435c">libMesh::System::read_serialized_blocked_dof_objects</a></div><div class="ttdeci">std::size_t read_serialized_blocked_dof_objects(const dof_id_type n_objects, const iterator_type begin, const iterator_type end, const InValType dummy, Xdr &amp;io, const std::vector&lt; NumericVector&lt; Number &gt; * &gt; &amp;vecs, const unsigned int var_to_read=libMesh::invalid_uint) const </div><div class="ttdoc">Reads an input vector from the stream io and assigns the values to a set of DofObjects. </div><div class="ttdef"><b>Definition:</b> <a href="system__io_8C_source.html#l00765">system_io.C:765</a></div></div>
<div class="ttc" id="tecplot__io_8C_html_ae4aba5fa8c8579c6576b4f087aefb091"><div class="ttname"><a href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a></div><div class="ttdeci">const dof_id_type n_nodes</div><div class="ttdef"><b>Definition:</b> <a href="tecplot__io_8C_source.html#l00067">tecplot_io.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a7afc5e4ed9771559e4f7481ca9eef332"><div class="ttname"><a href="classlibMesh_1_1System.html#a7afc5e4ed9771559e4f7481ca9eef332">libMesh::System::read_SCALAR_dofs</a></div><div class="ttdeci">unsigned int read_SCALAR_dofs(const unsigned int var, Xdr &amp;io, NumericVector&lt; Number &gt; *vec) const </div><div class="ttdoc">Reads the SCALAR dofs from the stream io and assigns the values to the appropriate entries of vec...</div><div class="ttdef"><b>Definition:</b> <a href="system__io_8C_source.html#l01089">system_io.C:1089</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a190e556d3be87f5ccd8d4fc98d1779d3"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem</a></div><div class="ttdeci">virtual dof_id_type n_elem() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a5b76b109bc6bd087c981774897aa6167"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">libMesh::MeshBase::n_nodes</a></div><div class="ttdeci">virtual dof_id_type n_nodes() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7d985f80d7c5a4b8d7000168c010edf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t libMesh::System::read_serialized_vectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Non-templated version for backward compatibility. </p>
<p>Read a number of identically distributed vectors. This method allows for optimization for the multiple vector case by only communicating the metadata once. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01311">1311</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  { <span class="keywordflow">return</span> read_serialized_vectors&lt;Number&gt;(io, vectors); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed043f850ff7f4b5b6ccbd53f9b6c3e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::reinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>重新初始化与系统关联的成员数据字段，以便，例如，可以使用<code><a class="el" href="classlibMesh_1_1DifferentiableSystem.html#afd79e823b9cf2fcdc47ffa8b3e6c0cec" title="准备matrix和rhs进行矩阵装配。用户不应重新实现此功能。 注意，在某些情况下，仅在装配期间使用  current_local_solution ， 因此，如果solution在没有调用update...">assemble()</a>。</code> </p>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a1cb3b5ae4fdd2f72d8fbddcadf3d3256">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00082">82</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="system_8C_source.html#l00445">libMesh::System::reinit()</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a1cb3b5ae4fdd2f72d8fbddcadf3d3256">Parent::reinit</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.get());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  libmesh_assert_equal_to (&amp;(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;system()), <span class="keyword">this</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;reinit();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a1cb3b5ae4fdd2f72d8fbddcadf3d3256"><div class="ttname"><a href="classlibMesh_1_1System.html#a1cb3b5ae4fdd2f72d8fbddcadf3d3256">libMesh::System::reinit</a></div><div class="ttdeci">virtual void reinit()</div><div class="ttdoc">Reinitializes degrees of freedom and other required data on the current mesh. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00445">system.C:445</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad12672358a8e9796a42bd7f42888c54f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::reinit_constraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reinitializes the constraints for this system. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00479">479</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02125">libMesh::System::_mesh</a>, <a class="el" href="dof__map__constraints_8C_source.html#l01736">libMesh::DofMap::create_dof_constraints()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="dof__map_8C_source.html#l01692">libMesh::DofMap::prepare_send_list()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l04372">libMesh::DofMap::process_constraints()</a>, <a class="el" href="system_8h_source.html#l01595">libMesh::System::time</a> , 以及 <a class="el" href="system_8C_source.html#l02233">libMesh::System::user_constrain()</a>.</p>

<p>参考自 <a class="el" href="equation__systems_8C_source.html#l00271">libMesh::EquationSystems::allgather()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00451">libMesh::PetscDMWrapper::init_and_attach_petscdm()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a> , 以及 <a class="el" href="equation__systems_8C_source.html#l00144">libMesh::EquationSystems::reinit_solutions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a7892d89bda5e4d39308dcb4e9a982bfc">create_dof_constraints</a>(<a class="code" href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">_mesh</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a90b0537fa503134bfa91865a6995742e">time</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a8e857fcc4af2756cdd0d16563dfbbe83">user_constrain</a>();</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#ae07a8531f8f6a082a473c2e4b17a9ea2">process_constraints</a>(<a class="code" href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">_mesh</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a47865aeb6379c68169e926dd0ecc2b71">prepare_send_list</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a90b0537fa503134bfa91865a6995742e"><div class="ttname"><a href="classlibMesh_1_1System.html#a90b0537fa503134bfa91865a6995742e">libMesh::System::time</a></div><div class="ttdeci">Real time</div><div class="ttdoc">For time-dependent problems, this is the time t at the beginning of the current timestep. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01595">system.h:1595</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_ae07a8531f8f6a082a473c2e4b17a9ea2"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#ae07a8531f8f6a082a473c2e4b17a9ea2">libMesh::DofMap::process_constraints</a></div><div class="ttdeci">void process_constraints(MeshBase &amp;)</div><div class="ttdoc">Postprocesses any constrained degrees of freedom to be constrained only in terms of unconstrained dof...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l04372">dof_map_constraints.C:4372</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a7892d89bda5e4d39308dcb4e9a982bfc"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a7892d89bda5e4d39308dcb4e9a982bfc">libMesh::DofMap::create_dof_constraints</a></div><div class="ttdeci">void create_dof_constraints(const MeshBase &amp;, Real time=0)</div><div class="ttdoc">Rebuilds the raw degree of freedom and DofObject constraints. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l01736">dof_map_constraints.C:1736</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a47865aeb6379c68169e926dd0ecc2b71"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a47865aeb6379c68169e926dd0ecc2b71">libMesh::DofMap::prepare_send_list</a></div><div class="ttdeci">void prepare_send_list()</div><div class="ttdoc">Takes the _send_list vector (which may have duplicate entries) and sorts it. </div><div class="ttdef"><b>Definition:</b> <a href="dof__map_8C_source.html#l01692">dof_map.C:1692</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8e857fcc4af2756cdd0d16563dfbbe83"><div class="ttname"><a href="classlibMesh_1_1System.html#a8e857fcc4af2756cdd0d16563dfbbe83">libMesh::System::user_constrain</a></div><div class="ttdeci">virtual void user_constrain()</div><div class="ttdoc">Calls user&amp;#39;s attached constraint function, or is overridden by the user in derived classes...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02233">system.C:2233</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b1d416e0d9270f47499f7cdf3db3525"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b1d416e0d9270f47499f7cdf3db3525">libMesh::System::_mesh</a></div><div class="ttdeci">MeshBase &amp; _mesh</div><div class="ttdoc">Constant reference to the mesh data structure used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02125">system.h:2125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a549aa79b76a63905bea5cd3344272250"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::reinit_mesh </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reinitializes the system with a new mesh. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00303">303</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02204">libMesh::System::_basic_system_only</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a> , 以及 <a class="el" href="system_8C_source.html#l02205">libMesh::System::user_initialization()</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// First initialize any required data:</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// either only the basic System data</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">_basic_system_only</a>)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">System::init_data</a>();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// or all the derived class&#39; data too</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">init_data</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// If no variables have been added to this system</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// don&#39;t do anything</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>())</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Then call the user-provided initialization function</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a5f7a3a1e154fe61af97e966f3ab34ae2">user_initialization</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6a87501240eef1a0786b1d0385ac0711"><div class="ttname"><a href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">libMesh::System::_basic_system_only</a></div><div class="ttdeci">bool _basic_system_only</div><div class="ttdoc">Holds true if the components of more advanced system types (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02204">system.h:2204</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa82956a48e464a20f18426601ad511d4"><div class="ttname"><a href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4">libMesh::System::init_data</a></div><div class="ttdeci">virtual void init_data()</div><div class="ttdoc">Initializes the data for the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00215">system.C:215</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a5f7a3a1e154fe61af97e966f3ab34ae2"><div class="ttname"><a href="classlibMesh_1_1System.html#a5f7a3a1e154fe61af97e966f3ab34ae2">libMesh::System::user_initialization</a></div><div class="ttdeci">virtual void user_initialization()</div><div class="ttdoc">Calls user&amp;#39;s attached initialization function, or is overridden by the user in derived classes...</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l02205">system.C:2205</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43effba7c17eb24695c107560eb65e7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ImplicitSystem::release_linear_solver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Currently a no-op. </p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l01218">1218</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;{</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// This function was originally paired with get_linear_solver()</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment">// calls when that returned a dumb pointer which needed to be</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">// cleaned up. Since get_linear_solver() now just returns a pointer</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="comment">// to a LinearSolver object managed by this class, this function no</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">// longer needs to do any cleanup.</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  libmesh_deprecated();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33a942abcfc37b57966295947050588a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::remove_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the additional matrix <code>mat_name</code> from this system. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01031">1031</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>
<div class="fragment"><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;{</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">matrices_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.find(mat_name);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  <span class="comment">// Return if the matrix does not exist</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.end())</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.erase(pos); <span class="comment">// erase()&#39;d entries are destroyed</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_af597ed806384b5271ef8aa9fb675eaf8"><div class="ttname"><a href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">libMesh::System::matrices_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::iterator matrices_iterator</div><div class="ttdoc">Matrix iterator typedefs. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01809">system.h:1809</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a494ee3a04eb1abcf72d2a4dcaf97f310"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::remove_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the additional vector <code>vec_name</code> from this system. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00845">845</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02176">libMesh::System::_vector_is_adjoint</a>, <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a> , 以及 <a class="el" href="unsteady__solver_8C_source.html#l00280">libMesh::UnsteadySolver::integrate_adjoint_sensitivity()</a>.</p>
<div class="fragment"><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;{</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">vectors_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.find(vec_name);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">//Return if the vector does not exist</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.erase(pos);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keyword">auto</span> proj_it = <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.find(vec_name);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(proj_it != <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.end());</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.erase(proj_it);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keyword">auto</span> adj_it = <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.find(vec_name);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(adj_it != <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.end());</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.erase(adj_it);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ab61da28617688ed39b3a960f7da33c97"><div class="ttname"><a href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">libMesh::System::vectors_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::iterator vectors_iterator</div><div class="ttdoc">Vector iterator typedefs. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00766">system.h:766</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a07fd92e0eaa9423360b5a723383c0329"><div class="ttname"><a href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">libMesh::System::_vector_is_adjoint</a></div><div class="ttdeci">std::map&lt; std::string, int, std::less&lt;&gt; &gt; _vector_is_adjoint</div><div class="ttdoc">Holds non-negative if a vector by that name should be projected using adjoint constraints/BCs, -1 if primal. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02176">system.h:2176</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c0a65d74ebf10e2e5f14fa308a60944"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const pointer to this system's additional matrix named <code>mat_name</code>, or <code>nullptr</code> if no matrix by that name exists. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01046">1046</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>

<p>参考自 <a class="el" href="eigen__system_8C_source.html#l00421">libMesh::EigenSystem::has_matrix_A()</a>, <a class="el" href="eigen__system_8C_source.html#l00428">libMesh::EigenSystem::has_matrix_B()</a>, <a class="el" href="eigen__system_8C_source.html#l00435">libMesh::EigenSystem::has_precond_matrix()</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a> , 以及 <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;{</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="comment">// Make sure the matrix exists</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a2f3f228f78dfcd6e22eef514743b7c2c">const_matrices_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.find(mat_name);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.end())</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">return</span> pos-&gt;second.get();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a2f3f228f78dfcd6e22eef514743b7c2c"><div class="ttname"><a href="classlibMesh_1_1System.html#a2f3f228f78dfcd6e22eef514743b7c2c">libMesh::System::const_matrices_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::const_iterator const_matrices_iterator</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01810">system.h:1810</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12c3aa462409a70fe6c0a119f5823be1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_matrix </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>mat_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable pointer to this system's additional matrix named <code>mat_name</code>, or <code>nullptr</code> if no matrix by that name exists. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01059">1059</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02181">libMesh::System::_matrices</a>.</p>
<div class="fragment"><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">// Make sure the matrix exists</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">matrices_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.find(mat_name);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">_matrices</a>.end())</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">return</span> pos-&gt;second.get();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_af597ed806384b5271ef8aa9fb675eaf8"><div class="ttname"><a href="classlibMesh_1_1System.html#af597ed806384b5271ef8aa9fb675eaf8">libMesh::System::matrices_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::iterator matrices_iterator</div><div class="ttdoc">Matrix iterator typedefs. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01809">system.h:1809</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3d1c633fd8fad2b0f08e2f4510ec1d09"><div class="ttname"><a href="classlibMesh_1_1System.html#a3d1c633fd8fad2b0f08e2f4510ec1d09">libMesh::System::_matrices</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; SparseMatrix&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _matrices</div><div class="ttdoc">Some systems need an arbitrary number of matrices. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02181">system.h:2181</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae96c930e174fca5f5ef96298ae1e8349"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const pointer to the vector if this <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> has a vector associated with the given name, <code>nullptr</code> otherwise. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00865">865</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">const_vectors_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.find(vec_name);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">return</span> pos-&gt;second.get();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae301ec73eb4f0efe04e619edc17c0edb"><div class="ttname"><a href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">libMesh::System::const_vectors_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::const_iterator const_vectors_iterator</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00767">system.h:767</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8dfd48cc6b4ee9f400f9cdf231aaf73c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_vector </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A pointer to the vector if this <code><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a></code> has a vector associated with the given name, <code>nullptr</code> otherwise. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00877">877</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">vectors_iterator</a> pos = <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.find(vec_name);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keywordflow">if</span> (pos == <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end())</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">return</span> pos-&gt;second.get();</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ab61da28617688ed39b3a960f7da33c97"><div class="ttname"><a href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">libMesh::System::vectors_iterator</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt;::iterator vectors_iterator</div><div class="ttdoc">Vector iterator typedefs. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00766">system.h:766</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d1b6411c265710301c4decf4b14c31b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_vector </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vec_num</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A const pointer to this system's additional vector number <code>vec_num</code> (where the vectors are counted starting with 0), or <code>nullptr</code> if the system has no such vector. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00889">889</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;{</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// If we don&#39;t have that many vectors, return nullptr</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">if</span> (vec_num &gt;= <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size())</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// Otherwise return a pointer to the vec_num&#39;th vector</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>();</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  std::advance(it, vec_num);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">return</span> it-&gt;second.get();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a4c16924aa396c1e27f1e2697bb859b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * libMesh::System::request_vector </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vec_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A writable pointer to this system's additional vector number <code>vec_num</code> (where the vectors are counted starting with 0), or <code>nullptr</code> if the system has no such vector. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00903">903</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="comment">// If we don&#39;t have that many vectors, return nullptr</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">if</span> (vec_num &gt;= <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size())</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// Otherwise return a pointer to the vec_num&#39;th vector</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  std::advance(it, vec_num);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">return</span> it-&gt;second.get();</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a271e81524cb5f49448bbb486005abb9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::restrict_solve_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1SystemSubset.html">SystemSubset</a> *&#160;</td>
          <td class="paramname"><em>subset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#a41629eb8a6af5262ee8b038aeed73c7c">SubsetSolveMode</a>&#160;</td>
          <td class="paramname"><em>subset_solve_mode</em> = <code><a class="el" href="namespacelibMesh.html#a41629eb8a6af5262ee8b038aeed73c7ca30be0945c067164d6d60997d8429b64e">SUBSET_ZERO</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After calling this method, any solve will be restricted to the given subdomain. </p>
<p>To disable this mode, call this method with <code>subset</code> being a <code>nullptr</code>. </p>

<p>被 <a class="el" href="classlibMesh_1_1LinearImplicitSystem.html#a3b706bad5898570d3f91bd5922bdf1b1">libMesh::LinearImplicitSystem</a> 重载.</p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00539">539</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> (subset != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    libmesh_not_implemented();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78af7f915ad5c678e3629ddced200967"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::restrict_vectors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restrict vectors after the mesh has coarsened. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00377">377</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>, <a class="el" href="system_8h_source.html#l02198">libMesh::System::_solution_projection</a>, <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="numeric__vector_8h_source.html#l01012">libMesh::NumericVector&lt; T &gt;::get()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00037">libMesh::GHOSTED</a>, <a class="el" href="system_8C_source.html#l00112">libMesh::System::n_dofs()</a>, <a class="el" href="system_8C_source.html#l00149">libMesh::System::n_local_dofs()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00036">libMesh::PARALLEL</a>, <a class="el" href="system__projection_8C_source.html#l01073">libMesh::System::project_vector()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a> , 以及 <a class="el" href="system_8C_source.html#l01119">libMesh::System::vector_is_adjoint()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00435">libMesh::System::prolong_vectors()</a> , 以及 <a class="el" href="equation__systems_8C_source.html#l00144">libMesh::EquationSystems::reinit_solutions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;{</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor"></span>  <span class="comment">// Restrict the _vectors on the coarsened cells</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; [vec_name, vec] : <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * v = vec.get();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>[vec_name])</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a> (*v, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a588ada48776f00651c12d2799a53c2bc">vector_is_adjoint</a>(vec_name));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">ParallelType</a> type = vec-&gt;type();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          <span class="keywordflow">if</span> (type == <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_GHOSTED</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor"></span>              vec-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(),</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                               <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list(), <span class="comment">/*fast=*/</span><span class="keyword">false</span>,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                               <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="preprocessor"></span>              libmesh_error_msg(<span class="stringliteral">&quot;Cannot initialize ghosted vectors when they are not enabled.&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor"></span>            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            vec-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), <span class="keyword">false</span>, type);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keyword">const</span> std::vector&lt;dof_id_type&gt; &amp; send_list = <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list ();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// Restrict the solution on the coarsened cells</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a711acee387038ac906783a0d39d8e840">_solution_projection</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">project_vector</a> (*<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// Or at least make sure the solution vector is the correct size</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;init (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(), this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), <span class="keyword">true</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_GHOSTED</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>-&gt;init(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>(),</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                               this-&gt;<a class="code" href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">n_local_dofs</a>(), send_list,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                               <span class="keyword">false</span>, <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">GHOSTED</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor"></span>  <a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>-&gt;init(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">n_dofs</a>());</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a711acee387038ac906783a0d39d8e840">_solution_projection</a>)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize (*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>, send_list);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#endif // LIBMESH_ENABLE_AMR</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">libMesh::PARALLEL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00036">enum_parallel_type.h:36</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a84735c2ddbecdfee79afe438100ef580"><div class="ttname"><a href="classlibMesh_1_1System.html#a84735c2ddbecdfee79afe438100ef580">libMesh::System::project_vector</a></div><div class="ttdeci">void project_vector(NumericVector&lt; Number &gt; &amp;new_vector, FunctionBase&lt; Number &gt; *f, FunctionBase&lt; Gradient &gt; *g=nullptr, int is_adjoint=-1) const </div><div class="ttdoc">Projects arbitrary functions onto a vector of degree of freedom values for the current system...</div><div class="ttdef"><b>Definition:</b> <a href="system__projection_8C_source.html#l01073">system_projection.C:1073</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a588ada48776f00651c12d2799a53c2bc"><div class="ttname"><a href="classlibMesh_1_1System.html#a588ada48776f00651c12d2799a53c2bc">libMesh::System::vector_is_adjoint</a></div><div class="ttdeci">int vector_is_adjoint(std::string_view vec_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01119">system.C:1119</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fa7ad89a14059d5c662d16a35675f8370d">libMesh::GHOSTED</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00037">enum_parallel_type.h:37</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a711acee387038ac906783a0d39d8e840"><div class="ttname"><a href="classlibMesh_1_1System.html#a711acee387038ac906783a0d39d8e840">libMesh::System::_solution_projection</a></div><div class="ttdeci">bool _solution_projection</div><div class="ttdoc">Holds true if the solution vector should be projected onto a changed grid, false if it should be zero...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02198">system.h:2198</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a069a96e414fd05d292e3bb3a1a475602"><div class="ttname"><a href="classlibMesh_1_1System.html#a069a96e414fd05d292e3bb3a1a475602">libMesh::System::n_local_dofs</a></div><div class="ttdeci">dof_id_type n_local_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00149">system.C:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a57de7c4f37f7ca24fbf185d3d07054cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a57de7c4f37f7ca24fbf185d3d07054cd">libMesh::System::n_dofs</a></div><div class="ttdeci">dof_id_type n_dofs() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l00112">system.C:112</a></div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7f">libMesh::ParallelType</a></div><div class="ttdeci">ParallelType</div><div class="ttdoc">Defines an enum for parallel data structure types. </div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00033">enum_parallel_type.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ab1f92beb3279c4ed3267e63c7a9eb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::save_current_solution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>存储以后引用的当前解和延拓参数（作为"previous_u"和"old_continuation_parameter"）。在计算第二个解并开始弧长延拓之前，可能需要调用此函数。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l01364">1364</a> 行定义.</p>

<p>参考 <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00149">old_continuation_parameter</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;{</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// Save the old solution vector</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a> = *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">// Save the old value of lambda</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a> = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac659d63f5c1dcbd434571de5ee5e293d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; unsigned int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; libMesh::ImplicitSystem::sensitivity_solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assembles &amp; solves the linear system(s) (dR/du)*u_p = -dR/dp, for those parameters contained within <code>parameters</code>. </p>
<dl class="section return"><dt>返回</dt><dd>A pair with the total number of linear iterations performed and the (sum of the) final residual norms </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a9dba69c2da2eff36d8c161d55ddcfb2c">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00113">113</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01129">libMesh::System::add_sensitivity_solution()</a>, <a class="el" href="system_8h_source.html#l01527">libMesh::System::assemble_before_solve</a>, <a class="el" href="implicit__system_8C_source.html#l00447">libMesh::ImplicitSystem::assemble_residual_derivatives()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="implicit__system_8C_source.html#l01210">libMesh::ImplicitSystem::get_linear_solve_parameters()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="system_8C_source.html#l01284">libMesh::System::get_sensitivity_rhs()</a>, <a class="el" href="system_8C_source.html#l01139">libMesh::System::get_sensitivity_solution()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="system_8C_source.html#l01046">libMesh::System::request_matrix()</a>, <a class="el" href="parameter__vector_8h_source.html#l00090">libMesh::ParameterVector::size()</a> , 以及 <a class="el" href="classlibMesh_1_1LinearSolver.html#a8a6db3ba2b9da8e28c8af2fc9d0a8773">libMesh::LinearSolver&lt; T &gt;::solve()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Log how long the linear solve takes.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;sensitivity_solve()&quot;</span>, <span class="stringliteral">&quot;ImplicitSystem&quot;</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// The forward system should now already be solved.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// Now assemble the corresponding sensitivity system.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a6b24ccb769399c64405e8f8a52491e70">assemble_before_solve</a>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="comment">// Build the Jacobian</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="comment">// Reset and build the RHS from the residual derivatives</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a4d503bf57aab66f8becfcff4dec5030d">assemble_residual_derivatives</a>(parameters);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// The sensitivity problem is linear</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">LinearSolver&lt;Number&gt;</a> * solver = this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">get_linear_solver</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// Our iteration counts and residuals will be sums of the individual</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// results</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  std::pair&lt;unsigned int, Real&gt; solver_params =</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">get_linear_solve_parameters</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::pair&lt;unsigned int, Real&gt; totalrval = std::make_pair(0,0.0);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Solve the linear system.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">SparseMatrix&lt;Number&gt;</a> * pc = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a7c0a65d74ebf10e2e5f14fa308a60944">request_matrix</a>(<span class="stringliteral">&quot;Preconditioner&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(parameters.size()))</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      std::pair&lt;unsigned int, Real&gt; rval =</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        solver-&gt;solve (*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>, pc,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                       this-&gt;<a class="code" href="classlibMesh_1_1System.html#a8af728122cdd5677dc5a78e698bd1b35">add_sensitivity_solution</a>(p),</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                       this-&gt;<a class="code" href="classlibMesh_1_1System.html#aad3023ee4c1d7ff532fab06136eed63c">get_sensitivity_rhs</a>(p),</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                       <span class="keywordtype">double</span>(solver_params.second),</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                       solver_params.first);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      totalrval.first  += rval.first;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      totalrval.second += rval.second;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// The linear solver may not have fit our constraints exactly</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(parameters.size()))</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      (*<span class="keyword">this</span>, &amp;this-&gt;<a class="code" href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">get_sensitivity_solution</a>(p),</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;       <span class="comment">/* homogeneous = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> totalrval;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a46cae8e0c970cc71f4d3993432d60e5e"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">libMesh::ImplicitSystem::get_linear_solver</a></div><div class="ttdeci">virtual LinearSolver&lt; Number &gt; * get_linear_solver() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01188">implicit_system.C:1188</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a920173d7f09d6f17b4451f354b7bccac"><div class="ttname"><a href="classlibMesh_1_1System.html#a920173d7f09d6f17b4451f354b7bccac">libMesh::System::get_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_sensitivity_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01139">system.C:1139</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aad3023ee4c1d7ff532fab06136eed63c"><div class="ttname"><a href="classlibMesh_1_1System.html#aad3023ee4c1d7ff532fab06136eed63c">libMesh::System::get_sensitivity_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_sensitivity_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01284">system.C:1284</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_ab3b6e7ceb320e1cd0f8639780791ba07"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">libMesh::ImplicitSystem::get_linear_solve_parameters</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; get_linear_solve_parameters() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01210">implicit_system.C:1210</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a7c0a65d74ebf10e2e5f14fa308a60944"><div class="ttname"><a href="classlibMesh_1_1System.html#a7c0a65d74ebf10e2e5f14fa308a60944">libMesh::System::request_matrix</a></div><div class="ttdeci">const SparseMatrix&lt; Number &gt; * request_matrix(std::string_view mat_name) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01046">system.C:1046</a></div></div>
<div class="ttc" id="namespacelibMesh_html_afbe5f2bcebcec9de5d848b72bd9db637"><div class="ttname"><a href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">libMesh::LinearSolver&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT LinearSolver&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00231">linear_solver.C:231</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a73bffc27dc8a3544d50d34b763ca198b"><div class="ttname"><a href="namespacelibMesh.html#a73bffc27dc8a3544d50d34b763ca198b">libMesh::SparseMatrix&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT SparseMatrix&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00351">sparse_matrix.C:351</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a4d503bf57aab66f8becfcff4dec5030d"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a4d503bf57aab66f8becfcff4dec5030d">libMesh::ImplicitSystem::assemble_residual_derivatives</a></div><div class="ttdeci">virtual void assemble_residual_derivatives(const ParameterVector &amp;parameters) override</div><div class="ttdoc">Residual parameter derivative function. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00447">implicit_system.C:447</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8af728122cdd5677dc5a78e698bd1b35"><div class="ttname"><a href="classlibMesh_1_1System.html#a8af728122cdd5677dc5a78e698bd1b35">libMesh::System::add_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_sensitivity_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01129">system.C:1129</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a6b24ccb769399c64405e8f8a52491e70"><div class="ttname"><a href="classlibMesh_1_1System.html#a6b24ccb769399c64405e8f8a52491e70">libMesh::System::assemble_before_solve</a></div><div class="ttdeci">bool assemble_before_solve</div><div class="ttdoc">Flag which tells the system to whether or not to call the user assembly function during each call to ...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01527">system.h:1527</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8eb30e72086df414aef73ad2aa590a74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_adjoint_already_solved </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setting</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter for the adjoint_already_solved boolean. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l00412">412</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02242">libMesh::System::adjoint_already_solved</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  { <a class="code" href="classlibMesh_1_1System.html#ad1004561b6e10db2e21d2944c7adaf8d">adjoint_already_solved</a> = setting;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_ad1004561b6e10db2e21d2944c7adaf8d"><div class="ttname"><a href="classlibMesh_1_1System.html#ad1004561b6e10db2e21d2944c7adaf8d">libMesh::System::adjoint_already_solved</a></div><div class="ttdeci">bool adjoint_already_solved</div><div class="ttdoc">Has the adjoint problem already been solved? If the user sets adjoint_already_solved to true...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02242">system.h:2242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab42e57affc13d641c216b5909f47b960"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_basic_system_only </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the system to be "basic only": i.e. </p>
<p>advanced system components such as <a class="el" href="classlibMesh_1_1ImplicitSystem.html" title="Manages consistently variables, degrees of freedom, coefficient vectors, and matrices for implicit sy...">ImplicitSystem</a> matrices may not be initialized. This is useful for efficiency in certain utility programs that never use <a class="el" href="classlibMesh_1_1System.html#aacf68435a0f50e1c434ff38ba0a54ff1" title="Solves the system. ">System::solve()</a>. This method must be called after the <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> or derived class is created but before it is initialized; e.g. from within <a class="el" href="classlibMesh_1_1EquationSystems.html#a6c7c2eff08f991b61c1cdc142b340046" title="Read &amp; initialize the systems from disk using the XDR data format. ">EquationSystems::read()</a> </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02341">2341</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02204">libMesh::System::_basic_system_only</a>.</p>

<p>参考自 <a class="el" href="equation__systems__io_8C_source.html#l00108">libMesh::EquationSystems::read()</a>.</p>
<div class="fragment"><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;{</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">_basic_system_only</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a6a87501240eef1a0786b1d0385ac0711"><div class="ttname"><a href="classlibMesh_1_1System.html#a6a87501240eef1a0786b1d0385ac0711">libMesh::System::_basic_system_only</a></div><div class="ttdeci">bool _basic_system_only</div><div class="ttdoc">Holds true if the components of more advanced system types (e.g. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02204">system.h:2204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a351962aba5bfa0e04f6422802c1d7759"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::set_constrain_in_solver </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置constrain_in_solver为false，以仅通过要解决的系统中的残差项应用约束。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00422">422</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00388">libMesh::DifferentiableSystem::_constrain_in_solver</a> , 以及 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a7fe2be97680d4d4540604db91d048e45">_constrain_in_solver</a> = enable;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;diff_solver()-&gt;set_exact_constraint_enforcement(enable);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a7fe2be97680d4d4540604db91d048e45"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a7fe2be97680d4d4540604db91d048e45">libMesh::DifferentiableSystem::_constrain_in_solver</a></div><div class="ttdeci">bool _constrain_in_solver</div><div class="ttdoc">_constrain_in_solver默认为true；如果为false，则仅通过要解决的系统中的残差项应用约束。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00388">diff_system.h:388</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ebd4210e22590e9f23a18e20c7d71cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::set_max_arclength_stepsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td>
          <td class="paramname"><em>maxds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置（初始化）最大允许的ds值和当前ds值。 在开始弧长延拓之前调用此函数。默认的最大步长是0.1。 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxds</td><td>最大允许的弧长步长。 </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00124">124</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{ ds=maxds; ds_current=maxds; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3aadb813e058ee99f1dbe75159469c53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiablePhysics::set_mesh_system </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1System.html">System</a> *&#160;</td>
          <td class="paramname"><em>sys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that system <code>sys</code> contains the isoparametric Lagrangian variables which correspond to the coordinates of mesh nodes, in problems where the mesh itself is expected to move in time. </p>
<p>The system with mesh coordinate data (which may be <code>this</code> system itself, for fully coupled moving mesh problems) is currently assumed to have new (end of time step) mesh coordinates stored in solution, old (beginning of time step) mesh coordinates stored in _old_nonlinear_solution, and constant velocity motion during each time step.</p>
<p>Activating this function ensures that local (but not neighbor!) element geometry is correctly repositioned when evaluating element residuals.</p>
<p>Currently <code>sys</code> must be <code>*this</code> for a tightly coupled moving mesh problem or nullptr to stop mesh movement; loosely coupled moving mesh problems are not implemented.</p>
<p>This code is experimental. "Trust but verify, and not in that
order" </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00569">569</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00531">libMesh::DifferentiablePhysics::_mesh_sys</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// For now we assume that we&#39;re doing fully coupled mesh motion</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">//  if (sys &amp;&amp; sys != this)</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">//    libmesh_not_implemented();</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// For the foreseeable future we&#39;ll assume that we keep these</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// Systems in the same EquationSystems</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// libmesh_assert_equal_to (&amp;this-&gt;get_equation_systems(),</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">//                          &amp;sys-&gt;get_equation_systems());</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// And for the immediate future this code may not even work</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  libmesh_experimental();</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">_mesh_sys</a> = sys;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae762bdeb8c1e819ebf8b09d6a867fff3"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae762bdeb8c1e819ebf8b09d6a867fff3">libMesh::DifferentiablePhysics::_mesh_sys</a></div><div class="ttdeci">System * _mesh_sys</div><div class="ttdoc">System from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00531">diff_physics.h:531</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a372a46df636268b6b68fbd864cd04ebb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiablePhysics::set_mesh_x_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the x coordinate of mesh nodes, in problems where the mesh itself is expected to move in time. </p>
<p>The system with mesh coordinate data (which may be this system itself, for fully coupled moving mesh problems) is currently assumed to have new (end of time step) mesh coordinates stored in solution, old (beginning of time step) mesh coordinates stored in _old_nonlinear_solution, and constant velocity motion during each time step.</p>
<p>Activating this function ensures that local (but not neighbor!) element geometry is correctly repositioned when evaluating element residuals. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00589">589</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_x_var</a>.</p>
<div class="fragment"><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">_mesh_x_var</a> = var;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a4125b3fcf1dd38b4f1a70e56bac0e2fc"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a4125b3fcf1dd38b4f1a70e56bac0e2fc">libMesh::DifferentiablePhysics::_mesh_x_var</a></div><div class="ttdeci">unsigned int _mesh_x_var</div><div class="ttdoc">Variables from which to acquire moving mesh information. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04147e9771387d9cf2eaa47d8f477004"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiablePhysics::set_mesh_y_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the y coordinate of mesh nodes. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00597">597</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_y_var</a>.</p>
<div class="fragment"><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">_mesh_y_var</a> = var;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a3102589faec7aa5752b4f605d5e2283e"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a3102589faec7aa5752b4f605d5e2283e">libMesh::DifferentiablePhysics::_mesh_y_var</a></div><div class="ttdeci">unsigned int _mesh_y_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7222ddddd09ea18f663da19a672d5c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiablePhysics::set_mesh_z_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html" title="This class provides a specific system class. ">DifferentiablePhysics</a> that variable <code>var</code> from the mesh system should be used to update the z coordinate of mesh nodes. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00605">605</a> 行定义.</p>

<p>参考 <a class="el" href="diff__physics_8h_source.html#l00536">libMesh::DifferentiablePhysics::_mesh_z_var</a>.</p>
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">_mesh_z_var</a> = var;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_a081fe25766a214bc0d22f86d114258c4"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#a081fe25766a214bc0d22f86d114258c4">libMesh::DifferentiablePhysics::_mesh_z_var</a></div><div class="ttdeci">unsigned int _mesh_z_var</div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00536">diff_physics.h:536</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72400276713d7ffa796de3c465ee697d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::FEMSystem::set_numerical_jacobian_h_for_var </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&#160;</td>
          <td class="paramname"><em>new_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00275">275</a> 行定义.</p>

<p>参考 <a class="el" href="fem__system_8h_source.html#l00258">libMesh::FEMSystem::_numerical_jacobian_h_for_var</a> , 以及 <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>.size() &lt;= var_num)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>.resize(var_num+1,<a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>(0));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  libmesh_assert_greater(new_h, <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>(0));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">_numerical_jacobian_h_for_var</a>[var_num] = new_h;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_ae3419230ef71475ff853f3bef53a55e2"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#ae3419230ef71475ff853f3bef53a55e2">libMesh::FEMSystem::_numerical_jacobian_h_for_var</a></div><div class="ttdeci">std::vector&lt; Real &gt; _numerical_jacobian_h_for_var</div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8h_source.html#l00258">fem_system.h:258</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad96757fa4555b626bc600bfacd775876"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_project_with_constraints </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_project_with_constraints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01780">1780</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02253">libMesh::System::project_with_constraints</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  {</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">project_with_constraints</a> = _project_with_constraints;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  }</div>
<div class="ttc" id="classlibMesh_1_1System_html_ada8bf9316c319b832b279ae93871403c"><div class="ttname"><a href="classlibMesh_1_1System.html#ada8bf9316c319b832b279ae93871403c">libMesh::System::project_with_constraints</a></div><div class="ttdeci">bool project_with_constraints</div><div class="ttdoc">Do we want to apply constraints while projecting vectors ? </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02253">system.h:2253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b4e8f8e0fe305b5828354b7bf28540e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_qoi </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>qoi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td>
          <td class="paramname"><em>qoi_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02286">2286</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a>.</p>

<p>参考自 <a class="el" href="explicit__system_8C_source.html#l00054">libMesh::ExplicitSystem::assemble_qoi()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="euler2__solver_8C_source.html#l00264">libMesh::Euler2Solver::integrate_qoi_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00341">libMesh::TwostepTimeSolver::integrate_qoi_timestep()</a> , 以及 <a class="el" href="euler__solver_8C_source.html#l00196">libMesh::EulerSolver::integrate_qoi_timestep()</a>.</p>
<div class="fragment"><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;{</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(qoi_index &lt; <a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.size());</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>[qoi_index] = qoi_value;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b479fd707728fa0f08e385ac73f9205"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_qoi </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt;&#160;</td>
          <td class="paramname"><em>new_qoi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02307">2307</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01611">libMesh::System::qoi</a>.</p>
<div class="fragment"><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;{</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  libmesh_assert_equal_to(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a>.size(), new_qoi.size());</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">qoi</a> = std::move(new_qoi);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a33fc90917ecd01516d3b284ad67968c6"><div class="ttname"><a href="classlibMesh_1_1System.html#a33fc90917ecd01516d3b284ad67968c6">libMesh::System::qoi</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi</div><div class="ttdoc">Values of the quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01611">system.h:1611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac17f64d897e96f29458159a130cf6c95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_qoi_error_estimate </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>qoi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&#160;</td>
          <td class="paramname"><em>qoi_error_estimate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02314">2314</a> 行定义.</p>

<p>参考 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01619">libMesh::System::qoi_error_estimates</a>.</p>

<p>参考自 <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00400">libMesh::TwostepTimeSolver::integrate_adjoint_refinement_error_estimate()</a> , 以及 <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>.</p>
<div class="fragment"><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;{</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(qoi_index &lt; <a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>.size());</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">qoi_error_estimates</a>[qoi_index] = qoi_error_estimate;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a9e1ccd968b663b1e1e1632b04f355230"><div class="ttname"><a href="classlibMesh_1_1System.html#a9e1ccd968b663b1e1e1632b04f355230">libMesh::System::qoi_error_estimates</a></div><div class="ttdeci">std::vector&lt; Number &gt; qoi_error_estimates</div><div class="ttdoc">Vector to hold error estimates for qois, either from a steady state calculation, or from a single uns...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01619">system.h:1619</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec7faf1468f632e64415540f6c9897a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::set_Theta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>集中设置归一化参数theta的函数。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l01065">1065</a> 行定义.</p>

<p>参考 <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00164">Theta</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;{</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// // Use the norm of the latest solution, squared.</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">//const Real normu = solution-&gt;l2_norm();</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="comment">//libmesh_assert_not_equal_to (normu, 0.0);</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="comment">//Theta = 1./normu/normu;</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="comment">// // 1.) Use the norm of du, squared</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1, *previous_u);</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">//   const Real normdu = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">//   if (normdu &lt; 1.) // don&#39;t divide by zero or make a huge scaling parameter.</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">//     Theta = 1.;</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">//   else</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">//     Theta = 1./normdu/normdu;</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// 2.) Use 1.0, i.e. don&#39;t scale</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>=1.;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="comment">// 3.) Use a formula which attempts to make the &quot;solution triangle&quot; isosceles.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">//   libmesh_assert_less (std::abs(dlambda_ds), 1.);</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1, *previous_u);</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">//   const Real normdu = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">//   Theta = std::sqrt(1. - dlambda_ds*dlambda_ds) / normdu * tau * ds;</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">//   // 4.) Use the norm of du and the norm of du/ds</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">//   *delta_u = *solution;</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">//   delta_u-&gt;add(-1, *previous_u);</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">//   delta_u-&gt;close();</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="comment">//   const Real normdu   = delta_u-&gt;l2_norm();</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">//   du_ds-&gt;close();</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="comment">//   const Real normduds = du_ds-&gt;l2_norm();</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">//   if (normduds &lt; 1.e-12)</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;Setting initial Theta= 1./normdu/normdu&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;normdu=&quot; &lt;&lt; normdu &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">//       // Don&#39;t use this scaling if the solution delta is already O(1)</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">//       if (normdu &gt; 1.)</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">// Theta = 1./normdu/normdu;</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="comment">//       else</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <span class="comment">// Theta = 1.;</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;  <span class="comment">//   else</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;Setting Theta= 1./normdu/normduds&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;normdu=&quot; &lt;&lt; normdu &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">//       libMesh::out &lt;&lt; &quot;normduds=&quot; &lt;&lt; normduds &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">//       // Don&#39;t use this scaling if the solution delta is already O(1)</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">//       if ((normdu&gt;1.) || (normduds&gt;1.))</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// Theta = 1./normdu/normduds;</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">//       else</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// Theta = 1.;</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Setting Normalization Parameter Theta=&quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ff4d70ffecd54e4c2f35a341cddf3bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::set_Theta_LOCA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>集中设置另一个归一化参数，即LOCA开发人员建议的参数。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l01135">1135</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a>, <a class="el" href="type__vector_8h_source.html#l00088">std::sqrt()</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00169">Theta_LOCA</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// We also recompute the LOCA normalization parameter based on the</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// most recently computed value of dlambda_ds</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// if (!quiet)</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">//   libMesh::out &lt;&lt; &quot;(Theta_LOCA) dlambda_ds=&quot; &lt;&lt; dlambda_ds &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// Formula makes no sense if |dlambda_ds| &gt; 1</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  libmesh_assert_less (<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(dlambda_ds), 1.);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// 1.) Attempt to implement the method in LOCA paper</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="comment">//   const Real g = 1./std::sqrt(2.); // &quot;desired&quot; dlambda_ds</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="comment">//   // According to the LOCA people, we only renormalize for</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">//   // when |dlambda_ds| exceeds some pre-selected maximum (which they take to be zero, btw).</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">//   if (std::abs(dlambda_ds) &gt; .9)</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">//       // Note the *= ... This is updating the previous value of Theta_LOCA</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">//       // Note: The LOCA people actually use Theta_LOCA^2 to normalize their arclength constraint.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">//       Theta_LOCA *= std::abs( (dlambda_ds/g)*std::sqrt( (1.-g*g) / (1.-dlambda_ds*dlambda_ds) ) );</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">//       // Suggested max-allowable value for Theta_LOCA</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">//       if (Theta_LOCA &gt; 1.e8)</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// {</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">//   Theta_LOCA = 1.e8;</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">//     libMesh::out &lt;&lt; &quot;max Theta_LOCA=&quot; &lt;&lt; Theta_LOCA &lt;&lt; &quot; has been selected.&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">//   else</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">//     Theta_LOCA=1.0;</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">// 2.) FIXME: Should we do *= or just =?  This function is of dlambda_ds is</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">//  &lt; 1,  |dlambda_ds| &lt; 1/sqrt(2) ~~ .7071</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">//  &gt; 1,  |dlambda_ds| &gt; 1/sqrt(2) ~~ .7071</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> *= <a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>( dlambda_ds / <a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>( (1.-dlambda_ds*dlambda_ds) ) );</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">// Suggested max-allowable value for Theta_LOCA.  I&#39;ve never come close</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">// to this value in my code.</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> &gt; 1.e8)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> = 1.e8;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;max Theta_LOCA=&quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> &lt;&lt; <span class="stringliteral">&quot; has been selected.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// 3.) Use 1.0, i.e. don&#39;t scale</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">//Theta_LOCA=1.0;</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Setting Theta_LOCA=&quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="ttc" id="namespacestd_html_a5e539986868ffa7c4c08ef163cae5266"><div class="ttname"><a href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; sqrt(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的平方根。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00088">type_vector.h:88</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f40f9dc20cb3ac6be91d7ddfb3ef3ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::set_time_solver </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a> &gt;&#160;</td>
          <td class="paramname"><em>_time_solver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置time_solver FIXME: 这段代码有点危险，因为它将TimeSolver的所有权从创建此类的TimeSolver对象转移到此类。 在调用此函数之后，用户不能再访问原始的TimeSolver对象。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00236">236</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>.reset(_time_solver.release());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6beb9627c21ea35b0a3fd070faaa855e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_vector_as_adjoint </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>vec_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qoi_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows one to set the QoI index controlling whether the vector identified by vec_name represents a solution from the adjoint (qoi_num &gt;= 0) or primal (qoi_num == -1) space. </p>
<p>This becomes significant if those spaces have differing heterogeneous Dirichlet constraints.</p>
<p>qoi_num == -2 can be used to indicate a vector which should not be affected by constraints during projection operations. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01106">1106</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02176">libMesh::System::_vector_is_adjoint</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01180">libMesh::System::add_adjoint_solution()</a> , 以及 <a class="el" href="system_8C_source.html#l01212">libMesh::System::add_weighted_sensitivity_adjoint_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// We reserve -1 for vectors which get primal constraints, -2 for</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">// vectors which get no constraints</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  libmesh_assert_greater_equal(qoi_num, -2);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>[vec_name] = qoi_num;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a07fd92e0eaa9423360b5a723383c0329"><div class="ttname"><a href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">libMesh::System::_vector_is_adjoint</a></div><div class="ttdeci">std::map&lt; std::string, int, std::less&lt;&gt; &gt; _vector_is_adjoint</div><div class="ttdoc">Holds non-negative if a vector by that name should be projected using adjoint constraints/BCs, -1 if primal. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02176">system.h:2176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a751b43d5879b101026eb7664c7a45443"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::set_vector_preservation </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>vec_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows one to set the boolean controlling whether the vector identified by vec_name should be "preserved": projected to new meshes, saved, etc. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01086">1086</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  parallel_object_only();  <span class="comment">// Not strictly needed, but the only safe way to keep in sync</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>[vec_name] = preserve;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74bae39adf00d96c559fe81b1158c272"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::side_constraint </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the constraint contribution on <code>side</code> of <code>elem</code> to elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Users may need to reimplement this for their particular PDE depending on the boundary conditions.</p>
<p>To implement a weak form of the constraint 0 = G(u), the user should examine u = elem_solution and add (G(u), phi_i) boundary integral contributions to elem_residual in <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a74bae39adf00d96c559fe81b1158c272" title="Adds the constraint contribution on side of elem to elem_residual. ">side_constraint()</a>. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00195">195</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00070">libMesh::EulerSolver::side_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00046">libMesh::SteadySolver::side_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00071">libMesh::Euler2Solver::side_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00170">libMesh::EigenTimeSolver::side_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00175">libMesh::NewmarkSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb9e129aacad3e6746c868fd9a259f5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::side_damping_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts a damping vector contribution on <code>side</code> of <code>elem</code> from elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>For most problems, the default implementation of "do nothing" is correct; users with boundary conditions including first time derivatives may need to reimplement this themselves. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00378">378</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00070">libMesh::EulerSolver::side_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00071">libMesh::Euler2Solver::side_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00175">libMesh::NewmarkSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39e41862f9197f1ae47a3fe2bf936a29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::side_mass_residual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subtracts a mass vector contribution on <code>side</code> of <code>elem</code> from elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>For most problems, the default implementation of "do nothing" is correct; users with boundary conditions including time derivatives may need to reimplement this themselves. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00320">320</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00070">libMesh::EulerSolver::side_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00071">libMesh::Euler2Solver::side_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00170">libMesh::EigenTimeSolver::side_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00175">libMesh::NewmarkSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afdc7a29f5bc94098ddf54cc1584622d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableSystem::side_postprocess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在后处理循环中在<code>elem的<code>side上执行需要完成的任何工作。</code> </code> </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00277">277</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7bd67c479bc8687a22ec94c0e01908a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::side_qoi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does any work that needs to be done on <code>side</code> of <code>elem</code> in a quantity of interest assembly loop, outputting to elem_qoi. </p>
<p>Only qois included in the supplied <code><a class="el" href="classlibMesh_1_1QoISet.html" title="Data structure for specifying which Quantities of Interest should be calculated in an adjoint or a pa...">QoISet</a></code> need to be assembled. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00147">147</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca9712775efccee0de909d655d709739"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::side_qoi_derivative </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does any work that needs to be done on <code>side</code> of <code>elem</code> in a quantity of interest derivative assembly loop, outputting to elem_qoi_derivative. </p>
<p>Only qois included in the supplied <code><a class="el" href="classlibMesh_1_1QoISet.html" title="Data structure for specifying which Quantities of Interest should be calculated in an adjoint or a pa...">QoISet</a></code> need their derivatives assembled. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00159">159</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  {}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46a5c2399209d750f3ea4ee10bdf13c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool libMesh::DifferentiablePhysics::side_time_derivative </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_jacobian</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DiffContext.html">DiffContext</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the time derivative contribution on <code>side</code> of <code>elem</code> to elem_residual. </p>
<p>If this method receives request_jacobian = true, then it should compute elem_jacobian and return true if possible. If elem_jacobian has not been computed then the method should return false.</p>
<p>Users may need to reimplement this for their particular PDE depending on the boundary conditions.</p>
<p>To implement a weak form of the source term du/dt = F(u) on sides, such as might arise in a flux boundary condition, the user should examine u = elem_solution and add (F(u), phi_i) boundary integral contributions to elem_residual in <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a74bae39adf00d96c559fe81b1158c272" title="Adds the constraint contribution on side of elem to elem_residual. ">side_constraint()</a>. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00174">174</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00070">libMesh::EulerSolver::side_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00046">libMesh::SteadySolver::side_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00071">libMesh::Euler2Solver::side_residual()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00170">libMesh::EigenTimeSolver::side_residual()</a> , 以及 <a class="el" href="newmark__solver_8C_source.html#l00175">libMesh::NewmarkSolver::side_residual()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> request_jacobian;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a461a6cee1ad76ff0a66a8928653b255d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::solve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>执行系统的标准“solve”，不进行延拓。 </p>

<p>重载 <a class="el" href="classlibMesh_1_1FEMSystem.html#ad1c13b97f1ff1dce9f023be4c99d32cf">libMesh::FEMSystem</a> .</p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00122">122</a> 行定义.</p>

<p>参考 <a class="el" href="continuation__system_8h_source.html#l00261">Residual</a>, <a class="el" href="continuation__system_8h_source.html#l00267">rhs_mode</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00138">libMesh::DifferentiableSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// Set the Residual RHS mode, and call the normal solve routine.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a>      = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">Residual</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aef8045651ebbd28d1f2876b5ddc32ea4">DifferentiableSystem::solve</a>();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea24777dbaa6ef5bfd9980dc81ebfdba81">libMesh::ContinuationSystem::Residual</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00261">continuation_system.h:261</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a34d429e11a79273738c658c10bfa07c5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">libMesh::ContinuationSystem::rhs_mode</a></div><div class="ttdeci">RHS_Mode rhs_mode</div><div class="ttdoc">RHS_Mode类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00267">continuation_system.h:267</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aef8045651ebbd28d1f2876b5ddc32ea4"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aef8045651ebbd28d1f2876b5ddc32ea4">libMesh::DifferentiableSystem::solve</a></div><div class="ttdeci">virtual void solve() override</div><div class="ttdoc">调用与系统关联的求解器。对于稳态求解器，这将找到一个根x，使得F(x) = 0。 对于瞬态求解器，这将积分dx/dt = F(x)。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00138">diff_system.C:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ee8088ef0e46ed7ca407c9a1054a405"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::solve_for_unconstrained_dofs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_adjoint</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="system__projection_8C_source.html">system_projection.C</a> 第 <a class="el" href="system__projection_8C_source.html#l02032">2032</a> 行定义.</p>

<p>参考 <a class="el" href="dof__map_8C_source.html#l00064">libMesh::DofMap::build_sparsity()</a>, <a class="el" href="dof__map_8C_source.html#l00296">libMesh::DofMap::computed_sparsity_already()</a>, <a class="el" href="dof__map_8h_source.html#l00708">libMesh::DofMap::end_dof()</a>, <a class="el" href="dof__map_8h_source.html#l00684">libMesh::DofMap::first_dof()</a>, <a class="el" href="numeric__vector_8h_source.html#l01012">libMesh::NumericVector&lt; T &gt;::get()</a>, <a class="el" href="dof__map_8h_source.html#l01234">libMesh::DofMap::heterogenously_constrain_element_matrix_and_vector()</a>, <a class="el" href="dof__map_8h_source.html#l02179">libMesh::DofMap::is_constrained_dof()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector&lt; T &gt;::local_size()</a>, <a class="el" href="dof__map_8h_source.html#l00659">libMesh::DofMap::n_dofs()</a>, <a class="el" href="dof__map_8h_source.html#l00669">libMesh::DofMap::n_local_dofs()</a>, <a class="el" href="enum__parallel__type_8h_source.html#l00036">libMesh::PARALLEL</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector&lt; T &gt;::size()</a> , 以及 <a class="el" href="dof__map_8C_source.html#l00307">libMesh::DofMap::update_sparsity_pattern()</a>.</p>
<div class="fragment"><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;{</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  std::unique_ptr&lt;SparseMatrix&lt;Number&gt;&gt; mat =</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <a class="code" href="classlibMesh_1_1SparseMatrix.html#a24060040686ce1e3bf9dd07e47e473da">SparseMatrix&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;  std::unique_ptr&lt;SparsityPattern::Build&gt; sp;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keywordflow">if</span> (dof_map.computed_sparsity_already())</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    dof_map.update_sparsity_pattern(*mat);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    {</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      mat-&gt;attach_dof_map(dof_map);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      sp = dof_map.build_sparsity(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>());</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      mat-&gt;attach_sparsity_pattern(*sp);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  mat-&gt;init();</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  libmesh_assert_equal_to(vec.<a class="code" href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">size</a>(), dof_map.n_dofs());</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  libmesh_assert_equal_to(vec.<a class="code" href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">local_size</a>(), dof_map.n_local_dofs());</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; rhs =</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">NumericVector&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  rhs-&gt;init(dof_map.n_dofs(), dof_map.n_local_dofs(), <span class="keyword">false</span>,</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <a class="code" href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">PARALLEL</a>);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="comment">// Here we start with the unconstrained (and indeterminate) linear</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="comment">// system, K*u = f, where K is the identity matrix for constrained</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="comment">// DoFs and 0 elsewhere, and f is the current solution values for</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="comment">// constrained DoFs and 0 elsewhere.</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="comment">// We then apply the usual heterogeneous constraint matrix C and</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <span class="comment">// offset h, where u = C*x + h,</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="comment">// to get C^T*K*C*x = C^T*f - C^T*K*h</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="comment">// - a constrained and no-longer-singular system that finds the</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="comment">// closest approximation for the unconstrained degrees of freedom.</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="comment">// Here, though &quot;closest&quot; is in an algebraic sense; we&#39;re</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="comment">// effectively using a pseudoinverse that optimizes in a</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="comment">// discretization-dependent norm.  That only seems to give ~0.1%</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <span class="comment">// excess error even in coarse unit test cases, but at some point it</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="comment">// might be reasonable to weight K and f properly.</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> d : IntRange&lt;dof_id_type&gt;(dof_map.first_dof(),</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                                             dof_map.end_dof()))</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;      <span class="keywordflow">if</span> (dof_map.is_constrained_dof(d))</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;          DenseMatrix&lt;Number&gt; K(1,1);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;          DenseVector&lt;Number&gt; F(1);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;          std::vector&lt;dof_id_type&gt; dof_indices(1, d);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;          K(0,0) = 1;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;          F(0) = (*this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>)(d);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;          dof_map.heterogenously_constrain_element_matrix_and_vector</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            (K, F, dof_indices, <span class="keyword">false</span>, is_adjoint);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;          mat-&gt;add_matrix(K, dof_indices);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;          rhs-&gt;add_vector(F, dof_indices);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  std::unique_ptr&lt;LinearSolver&lt;Number&gt;&gt; linear_solver =</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <a class="code" href="classlibMesh_1_1LinearSolver.html#a2ab7a2134664fa22a1d4d944d48a2ae3">LinearSolver&lt;Number&gt;::build</a>(this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">comm</a>());</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  linear_solver-&gt;solve(*mat, vec, *rhs,</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                       <span class="keywordtype">double</span>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">get_equation_systems</a>().parameters.get&lt;<a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>&gt;(<span class="stringliteral">&quot;linear solver tolerance&quot;</span>)),</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                       this-&gt;get_equation_systems().parameters.<a class="code" href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">get</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;linear solver maximum iterations&quot;</span>));</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f"><div class="ttname"><a href="namespacelibMesh.html#a2f87e215292aa3e352afd4f8f14c3d7fadd57c032a7a8399fb39de740c7572b1f">libMesh::PARALLEL</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__parallel__type_8h_source.html#l00036">enum_parallel_type.h:36</a></div></div>
<div class="ttc" id="classlibMesh_1_1LinearSolver_html_a2ab7a2134664fa22a1d4d944d48a2ae3"><div class="ttname"><a href="classlibMesh_1_1LinearSolver.html#a2ab7a2134664fa22a1d4d944d48a2ae3">libMesh::LinearSolver::build</a></div><div class="ttdeci">static std::unique_ptr&lt; LinearSolver&lt; T &gt; &gt; build(const libMesh::Parallel::Communicator &amp;comm_in, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">Builds a LinearSolver using the linear solver package specified by solver_package. </div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00059">linear_solver.C:59</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a90f2918648bb3c65d88978bd5d0a19bf"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a90f2918648bb3c65d88978bd5d0a19bf">libMesh::NumericVector::size</a></div><div class="ttdeci">virtual numeric_index_type size() const =0</div><div class="ttdoc">获取向量的大小。 </div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a24060040686ce1e3bf9dd07e47e473da"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a24060040686ce1e3bf9dd07e47e473da">libMesh::SparseMatrix::build</a></div><div class="ttdeci">static std::unique_ptr&lt; SparseMatrix&lt; T &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package(), const MatrixBuildType matrix_build_type=MatrixBuildType::AUTOMATIC)</div><div class="ttdoc">使用由 solver_package 指定的线性求解器包构建一个 SparseMatrix&amp;lt;T&amp;gt;。 </div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00151">sparse_matrix.C:151</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_adba4a30965537656bb3b0c6f924ff040"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#adba4a30965537656bb3b0c6f924ff040">libMesh::NumericVector::build</a></div><div class="ttdeci">static std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; build(const Parallel::Communicator &amp;comm, const SolverPackage solver_package=libMesh::default_solver_package())</div><div class="ttdoc">构建一个 NumericVector 对象。 </div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00050">numeric_vector.C:50</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a8eac3a527f0194feae3a9dd80c878df1"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">libMesh::NumericVector::get</a></div><div class="ttdeci">virtual void get(const std::vector&lt; numeric_index_type &gt; &amp;index, T *values) const </div><div class="ttdoc">一次访问多个组件。 values 将 *不会* 重新分配空间；它应该已经具有足够的空间。 默认实现对每个索引调用 operator() ，但某些实现可能在此处提供更快的方法。 ...</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8h_source.html#l01012">numeric_vector.h:1012</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a20de1180df21bdc9e6ca6151ed4ffda9"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a20de1180df21bdc9e6ca6151ed4ffda9">libMesh::ParallelObject::comm</a></div><div class="ttdeci">const Parallel::Communicator &amp; comm() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00097">parallel_object.h:97</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_acf9a23a820fdd20bf1a0213de8166287"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#acf9a23a820fdd20bf1a0213de8166287">libMesh::NumericVector::local_size</a></div><div class="ttdeci">virtual numeric_index_type local_size() const =0</div><div class="ttdoc">获取向量的本地大小，即 index_stop - index_start。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ac5ca6b1f3adcfac56982982e90dc905b"><div class="ttname"><a href="classlibMesh_1_1System.html#ac5ca6b1f3adcfac56982982e90dc905b">libMesh::System::get_equation_systems</a></div><div class="ttdeci">const EquationSystems &amp; get_equation_systems() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l00730">system.h:730</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a686615e1d0b0559da3c1f0b620211bec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::solve_tangent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>专用解算算法，用于解算切线系统。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l00956">956</a> 行定义.</p>

<p>参考 <a class="el" href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">libMesh::NumericVector&lt; T &gt;::add()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="continuation__system_8h_source.html#l00307">du_ds</a>, <a class="el" href="continuation__system_8h_source.html#l00262">G_Lambda</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector&lt; T &gt;::l2_norm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="libmesh__common_8h_source.html#l00185">libMesh::libmesh_real()</a>, <a class="el" href="implicit__system_8h_source.html#l00336">libMesh::ImplicitSystem::linear_solver</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="continuation__system_8h_source.html#l00149">old_continuation_parameter</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="continuation__system_8h_source.html#l00312">previous_du_ds</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="continuation__system_8h_source.html#l00267">rhs_mode</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">libMesh::NumericVector&lt; T &gt;::scale()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="type__vector_8h_source.html#l00088">std::sqrt()</a>, <a class="el" href="continuation__system_8h_source.html#l00164">Theta</a>, <a class="el" href="continuation__system_8h_source.html#l00169">Theta_LOCA</a>, <a class="el" href="diff__system_8h_source.html#l00229">libMesh::DifferentiableSystem::time_solver</a>, <a class="el" href="continuation__system_8h_source.html#l00322">y</a> , 以及 <a class="el" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector&lt; T &gt;::zero()</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00936">advance_arcstep()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// We shouldn&#39;t call this unless the current tangent already makes sense.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (tangent_initialized);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// Set pointer to underlying Newton solver</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">if</span> (!newton_solver)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    newton_solver =</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      cast_ptr&lt;NewtonSolver *&gt; (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">time_solver</a>-&gt;diff_solver().get());</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="comment">// Assemble the system matrix AND rhs, with rhs = G_{\lambda}</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">rhs_mode</a> = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">G_Lambda</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="comment">// Assemble Residual and Jacobian</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">assembly</a>(<span class="keyword">true</span>,   <span class="comment">// Residual</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                 <span class="keyword">true</span>); <span class="comment">// Jacobian</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// Not sure if this is really necessary</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="comment">// Solve G_u*y =  G_{\lambda}</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  std::pair&lt;unsigned int, Real&gt; rval =</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">linear_solver</a>-&gt;solve(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                         *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>,</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                         *<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                         1.e-12, <span class="comment">// relative linear tolerance</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                         2*newton_solver-&gt;max_linear_iterations);   <span class="comment">// max linear iterations</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">// FIXME: If this doesn&#39;t converge at all, the new tangent vector is</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// going to be really bad...</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;G_u*y = G_{lambda} solver converged at step &quot;</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                 &lt;&lt; rval.first</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot; linear tolerance = &quot;</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                 &lt;&lt; rval.second</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="comment">// Save old solution and parameter tangents for possible use in higher-order</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// predictor schemes.</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  previous_dlambda_ds = dlambda_ds;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">previous_du_ds</a>     = *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// 1.) Previous, probably wrong, technique!</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">//   // Solve for the updated d(lambda)/ds</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">//   // denom = N_{lambda}   - (du_ds)^t y</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <span class="comment">//   //       = d(lambda)/ds - (du_ds)^t y</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">//   Real denom = dlambda_ds - du_ds-&gt;dot(*y);</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="comment">//   //libMesh::out &lt;&lt; &quot;denom=&quot; &lt;&lt; denom &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <span class="comment">//   libmesh_assert_not_equal_to (denom, 0.0);</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">//   dlambda_ds = 1.0 / denom;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="comment">//   if (!quiet)</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="comment">//     libMesh::out &lt;&lt; &quot;dlambda_ds=&quot; &lt;&lt; dlambda_ds &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">//   // Compute the updated value of du/ds = -_dlambda_ds * y</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">//   du_ds-&gt;zero();</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="comment">//   du_ds-&gt;add(-dlambda_ds, *y);</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">//   du_ds-&gt;close();</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">// 2.) From Brian Carnes&#39; paper...</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// According to Carnes, y comes from solving G_u * y = -G_{\lambda}</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">scale</a>(-1.);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> ynorm = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  dlambda_ds = 1. / <a class="code" href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a>(1. + <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*ynorm*ynorm);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// Determine the correct sign for dlambda_ds.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="comment">// We will use delta_u to temporarily compute this sign.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  *delta_u = *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  delta_u-&gt;add(-1., *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  delta_u-&gt;close();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> sgn_dlambda_ds =</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libmesh_real</a>(<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*delta_u) +</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                 (*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>-<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">if</span> (sgn_dlambda_ds &lt; 0.)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;dlambda_ds is negative.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      dlambda_ds *= -1.;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="comment">// Finally, set the new tangent vector, du/ds = dlambda/ds * y.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">zero</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">add</a>(dlambda_ds, *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;d(lambda)/ds = &quot;</span> &lt;&lt; dlambda_ds &lt;&lt; std::endl;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;||du_ds||    = &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">du_ds</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="comment">// Our next solve expects y ~ -du/dlambda, so scale it back by -1 again now.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">scale</a>(-1.);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_a4f64766e155cef44a8f66b8411b3725a"><div class="ttname"><a href="namespacelibMesh.html#a4f64766e155cef44a8f66b8411b3725a">libMesh::libmesh_real</a></div><div class="ttdeci">T libmesh_real(T a)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00185">libmesh_common.h:185</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006ea4bcf4ab6f979f5e38505fc32720307f1">libMesh::ContinuationSystem::G_Lambda</a></div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00262">continuation_system.h:262</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ae0f4570622a491f4879271fb6fb6ad08"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ae0f4570622a491f4879271fb6fb6ad08">libMesh::ContinuationSystem::previous_du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_du_ds</div><div class="ttdoc">从上一个解中得到的du_ds的值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00312">continuation_system.h:312</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_aece93931d398b846da32c5b6a86ed94f"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#aece93931d398b846da32c5b6a86ed94f">libMesh::DifferentiableSystem::time_solver</a></div><div class="ttdeci">std::unique_ptr&lt; TimeSolver &gt; time_solver</div><div class="ttdoc">要使用的求解器对象的指针。 这必须在求解之前实例化！ </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00229">diff_system.h:229</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="namespacestd_html_a5e539986868ffa7c4c08ef163cae5266"><div class="ttname"><a href="namespacestd.html#a5e539986868ffa7c4c08ef163cae5266">std::sqrt</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; sqrt(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的平方根。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00088">type_vector.h:88</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a85b3d4a53413e3745e6ecf1c8b96ca65"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a85b3d4a53413e3745e6ecf1c8b96ca65">libMesh::NumericVector::zero</a></div><div class="ttdeci">virtual void zero()=0</div><div class="ttdoc">将所有条目设置为零。等同于 v = 0，但更明显且更快。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7efb30d08bd1bb55a91f66782238d648"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7efb30d08bd1bb55a91f66782238d648">libMesh::NumericVector::scale</a></div><div class="ttdeci">virtual void scale(const T factor)=0</div><div class="ttdoc">缩放向量的每个元素。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a542ed3d4e4dbd55f3d4c840c625f9307"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a542ed3d4e4dbd55f3d4c840c625f9307">libMesh::ContinuationSystem::du_ds</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * du_ds</div><div class="ttdoc">延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00307">continuation_system.h:307</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7bbf5b5a75e7aafcbfc1ea19fbc51d73"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector::l2_norm</a></div><div class="ttdeci">virtual Real l2_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目平方和的平方根。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_af820547d41ab966362c384649416490b"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">libMesh::ContinuationSystem::y</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y</div><div class="ttdoc">临时向量&amp;quot;y&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00322">continuation_system.h:322</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a34d429e11a79273738c658c10bfa07c5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a34d429e11a79273738c658c10bfa07c5">libMesh::ContinuationSystem::rhs_mode</a></div><div class="ttdeci">RHS_Mode rhs_mode</div><div class="ttdoc">RHS_Mode类型。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00267">continuation_system.h:267</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_ad08b512b7b8ec752dadf5c539cf4db26"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#ad08b512b7b8ec752dadf5c539cf4db26">libMesh::NumericVector::add</a></div><div class="ttdeci">virtual void add(const numeric_index_type i, const T value)=0</div><div class="ttdoc">将 value 添加到由 i 指定的向量条目。 请注意，此方法的库实现是线程安全的， 例如，将在写入向量之前锁定 _numeric_vector_mutex 。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_add942ac69c43a1c5e578620a003a75fe"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#add942ac69c43a1c5e578620a003a75fe">libMesh::ImplicitSystem::linear_solver</a></div><div class="ttdeci">std::unique_ptr&lt; LinearSolver&lt; Number &gt; &gt; linear_solver</div><div class="ttdoc">This class handles all the details of interfacing with various linear algebra packages like PETSc or ...</div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00336">implicit_system.h:336</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEMSystem_html_adc864618acb256ac21e788c571649eaf"><div class="ttname"><a href="classlibMesh_1_1FEMSystem.html#adc864618acb256ac21e788c571649eaf">libMesh::FEMSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool get_residual, bool get_jacobian, bool apply_heterogeneous_constraints=false, bool apply_no_constraints=false) override</div><div class="ttdoc">Prepares matrix or rhs for matrix assembly. </div><div class="ttdef"><b>Definition:</b> <a href="fem__system_8C_source.html#l00880">fem_system.C:880</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3023026e936df1d1012eb463a9bc641"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::DifferentiableSystem::swap_physics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1DifferentiablePhysics.html">DifferentiablePhysics</a> *&amp;&#160;</td>
          <td class="paramname"><em>swap_physics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将当前物理对象与外部对象交换。这是不推荐的。 </p>

<p>在文件 <a class="el" href="diff__system_8C_source.html">diff_system.C</a> 第 <a class="el" href="diff__system_8C_source.html#l00349">349</a> 行定义.</p>

<p>参考 <a class="el" href="diff__system_8h_source.html#l00396">libMesh::DifferentiableSystem::_diff_physics</a>, <a class="el" href="implicit__system_8C_source.html#l00105">libMesh::ImplicitSystem::disable_cache()</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// This isn&#39;t safe if users aren&#39;t very careful about memory</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// management and they don&#39;t (or aren&#39;t able to due to an exception)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// swap back.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  libmesh_deprecated();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">// A mess of code for backwards compatibility</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty())</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// Swap-something-else-for-self</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      std::unique_ptr&lt;DifferentiablePhysics&gt; scary_hack(<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.push(std::move(scary_hack));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a> == <span class="keyword">this</span>)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// The user must be cleaning up after a previous</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="comment">// swap-something-else-for-self</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty());</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// So we don&#39;t want to delete what got swapped in, but we do</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// want to put it back into their pointer</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae142d19991d19083c47b6081e0a48bcc">DifferentiablePhysics</a> * old_p = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top().release();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.pop();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a> = old_p;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="comment">// And if the user is doing anything more sophisticated than</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="comment">// that then the user is sophisticated enough to upgrade to</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">// push/pop.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.empty());</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="comment">// Swapping one external physics for another</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="classlibMesh_1_1DifferentiablePhysics.html#ae142d19991d19083c47b6081e0a48bcc">DifferentiablePhysics</a> * old_p = this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top().release();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      std::swap(old_p, <a class="code" href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">swap_physics</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">_diff_physics</a>.top().reset(old_p);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// If the physics has been swapped, we will reassemble</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// the matrix from scratch before doing an adjoint solve</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// rather than just transposing</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">disable_cache</a>();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_ad3023026e936df1d1012eb463a9bc641"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#ad3023026e936df1d1012eb463a9bc641">libMesh::DifferentiableSystem::swap_physics</a></div><div class="ttdeci">void swap_physics(DifferentiablePhysics *&amp;swap_physics)</div><div class="ttdoc">将当前物理对象与外部对象交换。这是不推荐的。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8C_source.html#l00349">diff_system.C:349</a></div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiableSystem_html_a2d07392cbd183e9b0fd75d250814c315"><div class="ttname"><a href="classlibMesh_1_1DifferentiableSystem.html#a2d07392cbd183e9b0fd75d250814c315">libMesh::DifferentiableSystem::_diff_physics</a></div><div class="ttdeci">std::stack&lt; std::unique_ptr&lt; DifferentiablePhysics &gt;, std::vector&lt; std::unique_ptr&lt; DifferentiablePhysics &gt; &gt; &gt; _diff_physics</div><div class="ttdoc">用于进行物理装配评估的对象指针的堆栈。如果堆栈为空，则物理装配默认为this， 以保持向后兼容性；为了最大的灵活性，用户应创建单独的物理对象。 </div><div class="ttdef"><b>Definition:</b> <a href="diff__system_8h_source.html#l00396">diff_system.h:396</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DifferentiablePhysics_html_ae142d19991d19083c47b6081e0a48bcc"><div class="ttname"><a href="classlibMesh_1_1DifferentiablePhysics.html#ae142d19991d19083c47b6081e0a48bcc">libMesh::DifferentiablePhysics::DifferentiablePhysics</a></div><div class="ttdeci">DifferentiablePhysics()</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="diff__physics_8h_source.html#l00084">diff_physics.h:84</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a741883b7f26a17f565f2f74e78f3397b"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a741883b7f26a17f565f2f74e78f3397b">libMesh::ImplicitSystem::disable_cache</a></div><div class="ttdeci">virtual void disable_cache() override</div><div class="ttdoc">Avoids use of any cached data that might affect any solve result. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l00105">implicit_system.C:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c5fd2988d63965f621c0952304d7ff1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a1e16e54312b5099b71e42f6593926536">sys_type</a>&amp; libMesh::ImplicitSystem::system </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>A reference to *this. </dd></dl>

<p>在文件 <a class="el" href="implicit__system_8h_source.html">implicit_system.h</a> 第 <a class="el" href="implicit__system_8h_source.html#l00086">86</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{ <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65bdaf8a27905faa08abcb265c70ca4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string libMesh::ImplicitSystem::system_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd><code>"Implicit"</code>. Helps in identifying the system type in an equation system file. </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1ExplicitSystem.html#ab33ccff6494081043c5d1c3c16ed7075">libMesh::ExplicitSystem</a> .</p>

<p>被 <a class="el" href="classlibMesh_1_1OptimizationSystem.html#ad7e9726e95184b48cef0e56955e9547f">libMesh::OptimizationSystem</a>, <a class="el" href="classlibMesh_1_1NonlinearImplicitSystem.html#a3e969f6a8461de673dfc12ed1f822369">libMesh::NonlinearImplicitSystem</a>, <a class="el" href="classlibMesh_1_1LinearImplicitSystem.html#a4aee5473149da907416803cad72cbd8a">libMesh::LinearImplicitSystem</a>, <a class="el" href="classlibMesh_1_1RBConstruction.html#abdf354bcb0a0a6e07913f13e1e0a4a4b">libMesh::RBConstruction</a>, <a class="el" href="classlibMesh_1_1FrequencySystem.html#a2cefab61883b1dd1fe5d7d4671e695ea">libMesh::FrequencySystem</a>, <a class="el" href="classlibMesh_1_1TransientSystem.html#ae79768c3e6eee38a06bb0f3059e435da">libMesh::TransientSystem&lt; RBConstruction &gt;</a> , 以及 <a class="el" href="classlibMesh_1_1NewmarkSystem.html#a7111423c75c30c585e2c90b19335ec0d">libMesh::NewmarkSystem</a> 重载.</p>

<p>在文件 <a class="el" href="implicit__system_8h_source.html">implicit_system.h</a> 第 <a class="el" href="implicit__system_8h_source.html#l00116">116</a> 行定义.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;Implicit&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5026c8e548f023986bf967a9134f1308"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiableQoI::thread_join </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>qoi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>other_qoi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to combine thread-local qois. </p>
<p>By default, simply sums thread qois. </p>

</div>
</div>
<a class="anchor" id="a5744b5cf72344e4c5eb426b3f50f1d7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void libMesh::DifferentiablePhysics::time_evolving </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the DiffSystem that variable var is evolving with respect to time. </p>
<p>In general, the user's <a class="el" href="namespacelibMesh_1_1TriangleWrapper.html#ae06da07f4c64d00ebefa55ce7f5c5e6b" title="Initializes the fields of t to nullptr/0 as necessary. ">init()</a> function should call <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e" title="Tells the DiffSystem that variable var is evolving with respect to time. ">time_evolving()</a> with order 1 for any variables which behave like du/dt = F(u), with order 2 for any variables that behave like d^2u/dt^2 = F(u), and should not call <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e" title="Tells the DiffSystem that variable var is evolving with respect to time. ">time_evolving()</a> for any variables which behave like 0 = G(u).</p>
<p>Most derived systems will not have to reimplement this function; however any system which reimplements <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#af3dd0a71e42b409c95a6c73fc47adc01" title="Subtracts a mass vector contribution on elem from elem_residual. ">mass_residual()</a> may have to reimplement <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a5744b5cf72344e4c5eb426b3f50f1d7e" title="Tells the DiffSystem that variable var is evolving with respect to time. ">time_evolving()</a> to prepare data structures. </p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9d81ac9c1787c43fb87cf13d37741ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the local values to reflect the solution on neighboring processors. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00492">492</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02113">libMesh::System::_dof_map</a>, <a class="el" href="system_8h_source.html#l01585">libMesh::System::current_local_solution</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a> , 以及 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="fem__system_8C_source.html#l01147">libMesh::FEMSystem::assemble_qoi()</a>, <a class="el" href="fem__system_8C_source.html#l01179">libMesh::FEMSystem::assemble_qoi_derivative()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00225">libMesh::NonlinearImplicitSystem::assembly()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="newmark__solver_8C_source.html#l00107">libMesh::NewmarkSolver::compute_initial_accel()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00152">libMesh::Problem_Interface::computeJacobian()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00215">libMesh::Problem_Interface::computePreconditioner()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="gmv__io_8C_source.html#l02147">libMesh::GMVIO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01670">libMesh::Nemesis_IO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00178">libMesh::CondensedEigenSystem::get_eigenpair()</a>, <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00256">libMesh::libmesh_petsc_snes_fd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00309">libMesh::libmesh_petsc_snes_mffd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00054">libMesh::libmesh_petsc_snes_residual_helper()</a>, <a class="el" href="newton__solver_8C_source.html#l00038">libMesh::NewtonSolver::line_search()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01127">libMesh::FEMSystem::postprocess()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="memory__solution__history_8C_source.html#l00087">libMesh::MemorySolutionHistory::retrieve()</a>, <a class="el" href="file__solution__history_8C_source.html#l00116">libMesh::FileSolutionHistory::retrieve()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a>, <a class="el" href="explicit__system_8C_source.html#l00083">libMesh::ExplicitSystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00173">libMesh::NonlinearImplicitSystem::solve()</a> , 以及 <a class="el" href="optimization__system_8C_source.html#l00154">libMesh::OptimizationSystem::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;closed());</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">const</span> std::vector&lt;dof_id_type&gt; &amp; send_list = <a class="code" href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">_dof_map</a>-&gt;get_send_list ();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="comment">// Check sizes</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  libmesh_assert_equal_to (<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>-&gt;size(), <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// More processors than elements =&gt; empty send_list</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">//  libmesh_assert (!send_list.empty());</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  libmesh_assert_less_equal (send_list.size(), <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// Create current_local_solution from solution.  This will</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// put a local copy of solution into current_local_solution.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="comment">// Only the necessary values (specified by the send_list)</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// are copied to minimize communication</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize (*<a class="code" href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">current_local_solution</a>, send_list);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a98d90c6921cd3485e756fb92452fadbc"><div class="ttname"><a href="classlibMesh_1_1System.html#a98d90c6921cd3485e756fb92452fadbc">libMesh::System::_dof_map</a></div><div class="ttdeci">std::unique_ptr&lt; DofMap &gt; _dof_map</div><div class="ttdoc">Data structure describing the relationship between nodes, variables, etc... </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02113">system.h:2113</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a2554af18e189214007827b04f17ba017"><div class="ttname"><a href="classlibMesh_1_1System.html#a2554af18e189214007827b04f17ba017">libMesh::System::current_local_solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; current_local_solution</div><div class="ttdoc">All the values I need to compute my contribution to the simulation at hand. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01585">system.h:1585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4975cc3fa5f1e70fd9a6073a25abc78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::update_global_solution </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>global_soln</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the input vector <code>global_soln</code> so that it contains the global solution on all processors. </p>
<p>Requires communication with all other processors. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00727">727</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a> , 以及 <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  global_soln.resize (<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize (global_soln);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5cadabcb6208c3d2dd9f807ffcacf04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::update_global_solution </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>global_soln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelibMesh.html#af18245d4f872c36a41fc74086bda3e80">processor_id_type</a>&#160;</td>
          <td class="paramname"><em>dest_proc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the input vector <code>global_soln</code> so that it contains the global solution on processor <code>dest_proc</code>. </p>
<p>Requires communication with all other processors. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00738">738</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>.</p>
<div class="fragment"><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;{</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  global_soln.resize        (<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;size());</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;localize_to_one (global_soln, dest_proc);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6869735ca949bbd219ffdac8c2f08296"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::ContinuationSystem::update_solution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>此函数（假设最近的切线向量已被计算）更新解和控制参数，使用下一个弧长路径上的初始猜测。 </p>

<p>在文件 <a class="el" href="continuation__system_8C_source.html">continuation_system.C</a> 第 <a class="el" href="continuation__system_8C_source.html#l01192">1192</a> 行定义.</p>

<p>参考 <a class="el" href="type__vector_8h_source.html#l00112">std::abs()</a>, <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="continuation__system_8h_source.html#l00111">continuation_parameter</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector&lt; T &gt;::dot()</a>, <a class="el" href="continuation__system_8h_source.html#l00232">ds_min</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector&lt; T &gt;::l2_norm()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="continuation__system_8h_source.html#l00185">newton_step</a>, <a class="el" href="continuation__system_8h_source.html#l00216">newton_stepgrowth_aggressiveness</a>, <a class="el" href="continuation__system_8h_source.html#l00149">old_continuation_parameter</a>, <a class="el" href="libmesh__common_8h_source.html#l00100">libMesh::out</a>, <a class="el" href="ostream__proxy_8h_source.html#l00193">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::precision()</a>, <a class="el" href="continuation__system_8h_source.html#l00317">previous_u</a>, <a class="el" href="continuation__system_8h_source.html#l00116">quiet</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="continuation__system_8C_source.html#l01364">save_current_solution()</a>, <a class="el" href="continuation__system_8C_source.html#l01065">set_Theta()</a>, <a class="el" href="continuation__system_8C_source.html#l01135">set_Theta_LOCA()</a>, <a class="el" href="ostream__proxy_8h_source.html#l00174">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::setf()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="continuation__system_8h_source.html#l00164">Theta</a>, <a class="el" href="continuation__system_8h_source.html#l00169">Theta_LOCA</a>, <a class="el" href="ostream__proxy_8h_source.html#l00187">libMesh::BasicOStreamProxy&lt; charT, traits &gt;::unsetf()</a>, <a class="el" href="continuation__system_8h_source.html#l00322">y</a> , 以及 <a class="el" href="continuation__system_8h_source.html#l00328">y_old</a>.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00936">advance_arcstep()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>.</p>
<div class="fragment"><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;{</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// Set some stream formatting flags</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  std::streamsize old_precision = <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(16);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a7be489dff0fb06bd015f4ab861a5f8f7">setf</a>(std::ios_base::scientific);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="comment">// We must have a tangent that makes sense before we can update the solution.</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (tangent_initialized);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="comment">// Compute tau, the stepsize scaling parameter which attempts to</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// reduce ds when the angle between the most recent two tangent</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// vectors becomes large.  tau is actually the (absolute value of</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// the) cosine of the angle between these two vectors... so if tau ~</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// 0 the angle is ~ 90 degrees, while if tau ~ 1 the angle is ~ 0</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// degrees.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> yoldnorm = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> ynorm = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">l2_norm</a>();</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> yoldy = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">y_old</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">dot</a>(*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">y</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> yold_over_y = yoldnorm/ynorm;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;yoldnorm=&quot;</span> &lt;&lt; yoldnorm &lt;&lt; std::endl;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;ynorm=&quot;</span>    &lt;&lt; ynorm &lt;&lt; std::endl;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;yoldy=&quot;</span>    &lt;&lt; yoldy &lt;&lt; std::endl;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;yoldnorm/ynorm=&quot;</span> &lt;&lt; yoldnorm/ynorm &lt;&lt; std::endl;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="comment">// Save the current value of ds before updating it</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  previous_ds = ds_current;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// // 1.) Cosine method (for some reason this always predicts the angle is ~0)</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// // Don&#39;t try dividing by zero</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// if ((yoldnorm &gt; 1.e-12) &amp;&amp; (ynorm &gt; 1.e-12))</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="comment">//   tau = std::abs(yoldy) / yoldnorm  / ynorm;</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment">// else</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">//   tau = 1.;</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// // 2.) Relative size of old and new du/dlambda method with cutoff of 0.9</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="comment">// if ((yold_over_y &lt; 0.9) &amp;&amp; (yold_over_y &gt; 1.e-6))</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment">//   tau = yold_over_y;</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">// else</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">//   tau = 1.;</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// 3.) Grow (or shrink) the arclength stepsize by the ratio of du/dlambda, but do not</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">// exceed the user-specified value of ds.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">if</span> (yold_over_y &gt; 1.e-6)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="comment">// // 1.) Scale current ds by the ratio of successive tangents.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="comment">//       ds_current *= yold_over_y;</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="comment">//       if (ds_current &gt; ds)</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="comment">// ds_current = ds;</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="comment">// 2.) Technique 1 tends to shrink the step fairly well (and even if it doesn&#39;t</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="comment">// get very small, we still have step reduction) but it seems to grow the step</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="comment">// very slowly.  Another possible technique is step-doubling:</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="comment">//       if (yold_over_y &gt; 1.)</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="comment">//       ds_current *= 2.;</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="comment">//       else</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="comment">// ds_current *= yold_over_y;</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="comment">// 3.) Technique 2 may over-zealous when we are also using the Newton stepgrowth</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="comment">// factor.  For technique 3 we multiply by yold_over_y unless yold_over_y &gt; 2</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <span class="comment">// in which case we use 2.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <span class="comment">//       if (yold_over_y &gt; 2.)</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="comment">// ds_current *= 2.;</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <span class="comment">//       else</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="comment">// ds_current *= yold_over_y;</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="comment">// 4.) Double-or-halve.  We double the arc-step if the ratio of successive tangents</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="comment">// is larger than &#39;double_threshold&#39;, halve it if it is less than &#39;halve_threshold&#39;</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> double_threshold = 0.5;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> halve_threshold  = 0.5;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="keywordflow">if</span> (yold_over_y &gt; double_threshold)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        ds_current *= 2.;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (yold_over_y &lt; halve_threshold)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        ds_current *= 0.5;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <span class="comment">// Also possibly use the number of Newton iterations required to compute the previous</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="comment">// step (relative to the maximum-allowed number of Newton iterations) to grow the step.</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">newton_stepgrowth_aggressiveness</a> &gt; 0.)</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;          <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(newton_solver);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Nmax = newton_solver-&gt;max_nonlinear_iterations;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;          <span class="comment">// // The LOCA Newton step growth technique (note: only grows step length)</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          <span class="comment">// const Real stepratio = static_cast&lt;Real&gt;(Nmax-(newton_step+1))/static_cast&lt;Real&gt;(Nmax-1.);</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          <span class="comment">// const Real newtonstep_growthfactor = 1. + newton_stepgrowth_aggressiveness*stepratio*stepratio;</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;          <span class="comment">// The &quot;Nopt/N&quot; method, may grow or shrink the step.  Assume Nopt=Nmax/2.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> newtonstep_growthfactor =</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;            <a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">newton_stepgrowth_aggressiveness</a> * 0.5 *</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <span class="keyword">static_cast&lt;</span><a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a><span class="keyword">&gt;</span>(Nmax) / static_cast&lt;Real&gt;(<a class="code" href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">newton_step</a>+1);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;newtonstep_growthfactor=&quot;</span> &lt;&lt; newtonstep_growthfactor &lt;&lt; std::endl;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;          ds_current *= newtonstep_growthfactor;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// Don&#39;t let the stepsize get above the user&#39;s maximum-allowed stepsize.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">if</span> (ds_current &gt; ds)</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    ds_current = ds;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// Check also for a minimum allowed stepsize.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (ds_current &lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">ds_min</a>)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Enforcing minimum-allowed arclength stepsize of &quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">ds_min</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      ds_current = <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">ds_min</a>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Current step size: ds_current=&quot;</span> &lt;&lt; ds_current &lt;&lt; std::endl;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">// Recompute scaling factor Theta for</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// the current solution before updating.</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#aec7faf1468f632e64415540f6c9897a2">set_Theta</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="comment">// Also, recompute the LOCA scaling factor, which attempts to</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="comment">// maintain a reasonable value of dlambda/ds</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a1ff4d70ffecd54e4c2f35a341cddf3bd">set_Theta_LOCA</a>();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Theta*Theta_LOCA^2=&quot;</span> &lt;&lt; <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">Theta</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <span class="comment">// Based on the asymptotic singular behavior of du/dlambda near simple turning points,</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// we can compute a single parameter which may suggest that we are close to a singularity.</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  *delta_u = *<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  delta_u-&gt;add(-1, *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">previous_u</a>);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  delta_u-&gt;close();</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> normdu   = delta_u-&gt;l2_norm();</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> C = (std::log (<a class="code" href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">Theta_LOCA</a>*normdu) /</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                  std::log (<a class="code" href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a>(*<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a>-<a class="code" href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">old_continuation_parameter</a>))) - 1.0;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;C=&quot;</span> &lt;&lt; C &lt;&lt; std::endl;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">// Save the current value of u and lambda before updating.</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a1ab1f92beb3279c4ed3267e63c7a9eb9">save_current_solution</a>();</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;Updating the solution with the tangent guess.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;||u_old||=&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;l2_norm() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;lambda_old=&quot;</span> &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="comment">// Since we solved for the tangent vector, now we can compute an</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// initial guess for the new solution, and an initial guess for the</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="comment">// new value of lambda.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <a class="code" href="classlibMesh_1_1ContinuationSystem.html#a619cd33885c0d1568fa26970fea8f5cd">apply_predictor</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">quiet</a>)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;||u_new||=&quot;</span> &lt;&lt; this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;l2_norm() &lt;&lt; std::endl;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a> &lt;&lt; <span class="stringliteral">&quot;lambda_new=&quot;</span> &lt;&lt; *<a class="code" href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">continuation_parameter</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="comment">// Unset previous stream flags</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">precision</a>(old_precision);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <a class="code" href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a>.<a class="code" href="classlibMesh_1_1BasicOStreamProxy.html#a959cfec8e67f429502f9dee0558c7b79">unsetf</a>(std::ios_base::scientific);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a570c39c32a5de85421fcbd7ef8684ad5"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a570c39c32a5de85421fcbd7ef8684ad5">libMesh::ContinuationSystem::Theta</a></div><div class="ttdeci">Real Theta</div><div class="ttdoc">弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00164">continuation_system.h:164</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad90a5b948d2eb5a79853e6644a0b8b00"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad90a5b948d2eb5a79853e6644a0b8b00">libMesh::ContinuationSystem::previous_u</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * previous_u</div><div class="ttdoc">在先前值的延拓参数的解。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00317">continuation_system.h:317</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ab77f90619bd7bc91484458fea937a7cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ab77f90619bd7bc91484458fea937a7cd">libMesh::ContinuationSystem::old_continuation_parameter</a></div><div class="ttdeci">Real old_continuation_parameter</div><div class="ttdoc">系统还跟踪延拓参数的旧值。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00149">continuation_system.h:149</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a95e4e1ac0b0db34b8ca3011ae221ed80"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a95e4e1ac0b0db34b8ca3011ae221ed80">libMesh::ContinuationSystem::continuation_parameter</a></div><div class="ttdeci">Real * continuation_parameter</div><div class="ttdoc">延拓参数必须是派生类的成员变量，这里定义的&amp;quot;continuation_parameter&amp;quot;指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为&amp;quot;lambda&amp;quot;。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00111">continuation_system.h:111</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a4efa46e6fd605dd2a4aef2cb1b4ca81a"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a4efa46e6fd605dd2a4aef2cb1b4ca81a">libMesh::NumericVector::dot</a></div><div class="ttdeci">virtual T dot(const NumericVector&lt; T &gt; &amp;v) const =0</div><div class="ttdoc">计算 ，即 (*this) 与向量 v 的点积。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a1ff4d70ffecd54e4c2f35a341cddf3bd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a1ff4d70ffecd54e4c2f35a341cddf3bd">libMesh::ContinuationSystem::set_Theta_LOCA</a></div><div class="ttdeci">void set_Theta_LOCA()</div><div class="ttdoc">集中设置另一个归一化参数，即LOCA开发人员建议的参数。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01135">continuation_system.C:1135</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aecef946a682013aafd03a1d853a182d3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aecef946a682013aafd03a1d853a182d3">libMesh::ContinuationSystem::Theta_LOCA</a></div><div class="ttdeci">Real Theta_LOCA</div><div class="ttdoc">另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00169">continuation_system.h:169</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a7cc77804ea5ef5dde638fe522aeed6a3"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a7cc77804ea5ef5dde638fe522aeed6a3">libMesh::ContinuationSystem::ds_min</a></div><div class="ttdeci">Real ds_min</div><div class="ttdoc">允许的最小步长，默认为1.e-8。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00232">continuation_system.h:232</a></div></div>
<div class="ttc" id="namespacestd_html_aea71d536ca6ae5ef192477c8e9c9b197"><div class="ttname"><a href="namespacestd.html#aea71d536ca6ae5ef192477c8e9c9b197">std::abs</a></div><div class="ttdeci">ADRealEigenVector&lt; T, D, asd &gt; abs(const ADRealEigenVector&lt; T, D, asd &gt; &amp;)</div><div class="ttdoc">计算自动微分实数向量的绝对值。 </div><div class="ttdef"><b>Definition:</b> <a href="type__vector_8h_source.html#l00112">type_vector.h:112</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a7bbf5b5a75e7aafcbfc1ea19fbc51d73"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a7bbf5b5a75e7aafcbfc1ea19fbc51d73">libMesh::NumericVector::l2_norm</a></div><div class="ttdeci">virtual Real l2_norm() const =0</div><div class="ttdoc">获取向量的 -范数，即条目平方和的平方根。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_afde572b48fb8abf26c11e45df3de13c8"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#afde572b48fb8abf26c11e45df3de13c8">libMesh::ContinuationSystem::y_old</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y_old</div><div class="ttdoc">临时向量&amp;quot;y_old&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00328">continuation_system.h:328</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_af820547d41ab966362c384649416490b"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#af820547d41ab966362c384649416490b">libMesh::ContinuationSystem::y</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * y</div><div class="ttdoc">临时向量&amp;quot;y&amp;quot; ... </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00322">continuation_system.h:322</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a619cd33885c0d1568fa26970fea8f5cd"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a619cd33885c0d1568fa26970fea8f5cd">libMesh::ContinuationSystem::apply_predictor</a></div><div class="ttdeci">void apply_predictor()</div><div class="ttdoc">应用预测器获取下一个解的初始猜测。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01375">continuation_system.C:1375</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a959cfec8e67f429502f9dee0558c7b79"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a959cfec8e67f429502f9dee0558c7b79">libMesh::BasicOStreamProxy::unsetf</a></div><div class="ttdeci">void unsetf(std::ios_base::fmtflags mask)</div><div class="ttdoc">Clear the associated flags. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00187">ostream_proxy.h:187</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_ad499324a7a490ad9a4777fd48bfca048"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#ad499324a7a490ad9a4777fd48bfca048">libMesh::ContinuationSystem::newton_stepgrowth_aggressiveness</a></div><div class="ttdeci">Real newton_stepgrowth_aggressiveness</div><div class="ttdoc">基于所需的牛顿迭代次数尝试增长弧长步长的程度的度量。 默认值为1.0，如果设置为零，则不尝试基于所需的牛顿迭代次数增加或减小弧长步长。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00216">continuation_system.h:216</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a202486b5f0a3740de27e707d01ee892c"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a202486b5f0a3740de27e707d01ee892c">libMesh::ContinuationSystem::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">如果quiet==false，系统会打印有关其操作的额外信息。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00116">continuation_system.h:116</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_aec7faf1468f632e64415540f6c9897a2"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#aec7faf1468f632e64415540f6c9897a2">libMesh::ContinuationSystem::set_Theta</a></div><div class="ttdeci">void set_Theta()</div><div class="ttdoc">集中设置归一化参数theta的函数。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01065">continuation_system.C:1065</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_a1ab1f92beb3279c4ed3267e63c7a9eb9"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#a1ab1f92beb3279c4ed3267e63c7a9eb9">libMesh::ContinuationSystem::save_current_solution</a></div><div class="ttdeci">void save_current_solution()</div><div class="ttdoc">存储以后引用的当前解和延拓参数（作为&amp;quot;previous_u&amp;quot;和&amp;quot;old_continuation_parameter&amp;quot;）。在计算第二个解并开始弧长延拓之前，可能需要调用此函数。 ...</div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8C_source.html#l01364">continuation_system.C:1364</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a7be489dff0fb06bd015f4ab861a5f8f7"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a7be489dff0fb06bd015f4ab861a5f8f7">libMesh::BasicOStreamProxy::setf</a></div><div class="ttdeci">std::ios_base::fmtflags setf(std::ios_base::fmtflags fmtfl)</div><div class="ttdoc">Set the associated flags. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00174">ostream_proxy.h:174</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a8b17bf24a15bc292850c3a3894e2e8f9"><div class="ttname"><a href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">libMesh::Number</a></div><div class="ttdeci">Real Number</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00214">libmesh_common.h:214</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a63e3c3158308e2184c12b55ab9ea9a35"><div class="ttname"><a href="namespacelibMesh.html#a63e3c3158308e2184c12b55ab9ea9a35">libMesh::out</a></div><div class="ttdeci">OStreamProxy out(std::cout)</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00100">libmesh_common.h:100</a></div></div>
<div class="ttc" id="classlibMesh_1_1BasicOStreamProxy_html_a1903b4c5f9397c90e2da3fba62e22516"><div class="ttname"><a href="classlibMesh_1_1BasicOStreamProxy.html#a1903b4c5f9397c90e2da3fba62e22516">libMesh::BasicOStreamProxy::precision</a></div><div class="ttdeci">std::streamsize precision() const </div><div class="ttdoc">Get the associated write precision. </div><div class="ttdef"><b>Definition:</b> <a href="ostream__proxy_8h_source.html#l00193">ostream_proxy.h:193</a></div></div>
<div class="ttc" id="classlibMesh_1_1ContinuationSystem_html_abb52b3e342e9ce329a7e4bfeab1487bf"><div class="ttname"><a href="classlibMesh_1_1ContinuationSystem.html#abb52b3e342e9ce329a7e4bfeab1487bf">libMesh::ContinuationSystem::newton_step</a></div><div class="ttdeci">unsigned int newton_step</div><div class="ttdoc">非线性（牛顿）迭代循环的循环计数器。 </div><div class="ttdef"><b>Definition:</b> <a href="continuation__system_8h_source.html#l00185">continuation_system.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a792940ed6cca41b5dcaf878429a50253"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::user_assembly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls user's attached assembly function, or is overridden by the user in derived classes. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02219">2219</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02064">libMesh::System::_assemble_system_function</a>, <a class="el" href="system_8h_source.html#l02070">libMesh::System::_assemble_system_object</a>, <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>, <a class="el" href="classlibMesh_1_1System_1_1Assembly.html#a5a74d6c96079b1aeb5ba327fae58762b">libMesh::System::Assembly::assemble()</a> , 以及 <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00548">libMesh::System::assemble()</a>.</p>
<div class="fragment"><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;{</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <span class="comment">// Call the user-provided assembly function,</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="comment">// if it was provided</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">_assemble_system_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">_assemble_system_function</a> (<a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>());</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <span class="comment">// ...or the user-provided assembly object.</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">_assemble_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">_assemble_system_object</a>-&gt;<a class="code" href="classlibMesh_1_1System_1_1Assembly.html#a5a74d6c96079b1aeb5ba327fae58762b">assemble</a>();</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a259e042a0e9930ae697fac2be3479932"><div class="ttname"><a href="classlibMesh_1_1System.html#a259e042a0e9930ae697fac2be3479932">libMesh::System::_assemble_system_object</a></div><div class="ttdeci">Assembly * _assemble_system_object</div><div class="ttdoc">Object that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02070">system.h:2070</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_1_1Assembly_html_a5a74d6c96079b1aeb5ba327fae58762b"><div class="ttname"><a href="classlibMesh_1_1System_1_1Assembly.html#a5a74d6c96079b1aeb5ba327fae58762b">libMesh::System::Assembly::assemble</a></div><div class="ttdeci">virtual void assemble()=0</div><div class="ttdoc">Assembly function. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81c1888970a6f1b1582dbd7b23ea076a"><div class="ttname"><a href="classlibMesh_1_1System.html#a81c1888970a6f1b1582dbd7b23ea076a">libMesh::System::_assemble_system_function</a></div><div class="ttdeci">void(* _assemble_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that assembles the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02064">system.h:2064</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e857fcc4af2756cdd0d16563dfbbe83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::user_constrain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls user's attached constraint function, or is overridden by the user in derived classes. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02233">2233</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02075">libMesh::System::_constrain_system_function</a>, <a class="el" href="system_8h_source.html#l02081">libMesh::System::_constrain_system_object</a>, <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>, <a class="el" href="classlibMesh_1_1System_1_1Constraint.html#af7e1606e430fded80731f98b151a40a0">libMesh::System::Constraint::constrain()</a> , 以及 <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00479">libMesh::System::reinit_constraints()</a>.</p>
<div class="fragment"><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;{</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="comment">// Call the user-provided constraint function,</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="comment">// if it was provided</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">_constrain_system_function</a>!= <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">_constrain_system_function</a>(<a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>());</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  <span class="comment">// ...or the user-provided constraint object.</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">_constrain_system_object</a>-&gt;<a class="code" href="classlibMesh_1_1System_1_1Constraint.html#af7e1606e430fded80731f98b151a40a0">constrain</a>();</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a34a3dce9f1e27210362fd6299a321205"><div class="ttname"><a href="classlibMesh_1_1System.html#a34a3dce9f1e27210362fd6299a321205">libMesh::System::_constrain_system_object</a></div><div class="ttdeci">Constraint * _constrain_system_object</div><div class="ttdoc">Object that constrains the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02081">system.h:2081</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a153c867170e5e962def23d9df5dc1c1f"><div class="ttname"><a href="classlibMesh_1_1System.html#a153c867170e5e962def23d9df5dc1c1f">libMesh::System::_constrain_system_function</a></div><div class="ttdeci">void(* _constrain_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function to impose constraints. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02075">system.h:2075</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_1_1Constraint_html_af7e1606e430fded80731f98b151a40a0"><div class="ttname"><a href="classlibMesh_1_1System_1_1Constraint.html#af7e1606e430fded80731f98b151a40a0">libMesh::System::Constraint::constrain</a></div><div class="ttdeci">virtual void constrain()=0</div><div class="ttdoc">Constraint function. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5f7a3a1e154fe61af97e966f3ab34ae2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::user_initialization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls user's attached initialization function, or is overridden by the user in derived classes. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02205">2205</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>, <a class="el" href="system_8h_source.html#l02053">libMesh::System::_init_system_function</a>, <a class="el" href="system_8h_source.html#l02059">libMesh::System::_init_system_object</a>, <a class="el" href="classlibMesh_1_1System_1_1Initialization.html#addfa6e36fd94b2255bdf508d29db0d12">libMesh::System::Initialization::initialize()</a> , 以及 <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00188">libMesh::System::init()</a>, <a class="el" href="newmark__system_8C_source.html#l00144">libMesh::NewmarkSystem::initial_conditions()</a> , 以及 <a class="el" href="system_8C_source.html#l00303">libMesh::System::reinit_mesh()</a>.</p>
<div class="fragment"><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;{</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="comment">// Call the user-provided initialization function,</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="comment">// if it was provided</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">_init_system_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">_init_system_function</a> (<a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>());</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="comment">// ...or the user-provided initialization object.</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">_init_system_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">_init_system_object</a>-&gt;<a class="code" href="classlibMesh_1_1System_1_1Initialization.html#addfa6e36fd94b2255bdf508d29db0d12">initialize</a>();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_1_1Initialization_html_addfa6e36fd94b2255bdf508d29db0d12"><div class="ttname"><a href="classlibMesh_1_1System_1_1Initialization.html#addfa6e36fd94b2255bdf508d29db0d12">libMesh::System::Initialization::initialize</a></div><div class="ttdeci">virtual void initialize()=0</div><div class="ttdoc">Initialization function. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe15bce2e6df79b84fba25a827c42c85"><div class="ttname"><a href="classlibMesh_1_1System.html#afe15bce2e6df79b84fba25a827c42c85">libMesh::System::_init_system_function</a></div><div class="ttdeci">void(* _init_system_function)(EquationSystems &amp;es, const std::string &amp;name)</div><div class="ttdoc">Function that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02053">system.h:2053</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a81cfbe1a4f87d9e7e6e784944279b38d"><div class="ttname"><a href="classlibMesh_1_1System.html#a81cfbe1a4f87d9e7e6e784944279b38d">libMesh::System::_init_system_object</a></div><div class="ttdeci">Initialization * _init_system_object</div><div class="ttdoc">Object that initializes the system. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02059">system.h:2059</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e75c1bd2055bb1bf9f5832a62c0039d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::user_QOI </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls user's attached quantity of interest function, or is overridden by the user in derived classes. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02247">2247</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>, <a class="el" href="system_8h_source.html#l02086">libMesh::System::_qoi_evaluate_function</a>, <a class="el" href="system_8h_source.html#l02093">libMesh::System::_qoi_evaluate_object</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a> , 以及 <a class="el" href="classlibMesh_1_1System_1_1QOI.html#a2f927fdd3255275024529f9a9f22b751">libMesh::System::QOI::qoi()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00559">libMesh::System::assemble_qoi()</a>.</p>
<div class="fragment"><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;{</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  <span class="comment">// Call the user-provided quantity of interest function,</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="comment">// if it was provided</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">_qoi_evaluate_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">_qoi_evaluate_function</a>(<a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>(), qoi_indices);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="comment">// ...or the user-provided QOI function object.</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">_qoi_evaluate_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">_qoi_evaluate_object</a>-&gt;<a class="code" href="classlibMesh_1_1System_1_1QOI.html#a2f927fdd3255275024529f9a9f22b751">qoi</a>(qoi_indices);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3c4ae20c873d77b245714f37f049d0cd"><div class="ttname"><a href="classlibMesh_1_1System.html#a3c4ae20c873d77b245714f37f049d0cd">libMesh::System::_qoi_evaluate_function</a></div><div class="ttdeci">void(* _qoi_evaluate_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices)</div><div class="ttdoc">Function to evaluate quantity of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02086">system.h:2086</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_1_1QOI_html_a2f927fdd3255275024529f9a9f22b751"><div class="ttname"><a href="classlibMesh_1_1System_1_1QOI.html#a2f927fdd3255275024529f9a9f22b751">libMesh::System::QOI::qoi</a></div><div class="ttdeci">virtual void qoi(const QoISet &amp;qoi_indices)=0</div><div class="ttdoc">Quantity of interest function. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a681b7f4f93772852656e22913bd4da6c"><div class="ttname"><a href="classlibMesh_1_1System.html#a681b7f4f93772852656e22913bd4da6c">libMesh::System::_qoi_evaluate_object</a></div><div class="ttdeci">QOI * _qoi_evaluate_object</div><div class="ttdoc">Object to compute quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02093">system.h:2093</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01bed9a357369eb62e07a361c68efa11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::user_QOI_derivative </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em> = <code><a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_liftfunc</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>apply_constraints</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls user's attached quantity of interest derivative function, or is overridden by the user in derived classes. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l02261">2261</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02119">libMesh::System::_equation_systems</a>, <a class="el" href="system_8h_source.html#l02098">libMesh::System::_qoi_evaluate_derivative_function</a>, <a class="el" href="system_8h_source.html#l02107">libMesh::System::_qoi_evaluate_derivative_object</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a> , 以及 <a class="el" href="classlibMesh_1_1System_1_1QOIDerivative.html#a55d54296bc5b90691ab58fea8359885b">libMesh::System::QOIDerivative::qoi_derivative()</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l00570">libMesh::System::assemble_qoi_derivative()</a>.</p>
<div class="fragment"><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;{</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  <span class="comment">// Call the user-provided quantity of interest derivative,</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="comment">// if it was provided</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">_qoi_evaluate_derivative_function</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">_qoi_evaluate_derivative_function</a></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      (<a class="code" href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">_equation_systems</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>(), qoi_indices, include_liftfunc,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;       apply_constraints);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <span class="comment">// ...or the user-provided QOI derivative function object.</span></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">_qoi_evaluate_derivative_object</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">_qoi_evaluate_derivative_object</a>-&gt;<a class="code" href="classlibMesh_1_1System_1_1QOIDerivative.html#a55d54296bc5b90691ab58fea8359885b">qoi_derivative</a></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      (qoi_indices, include_liftfunc, apply_constraints);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8157382573a7458d5852e0547eef55e6"><div class="ttname"><a href="classlibMesh_1_1System.html#a8157382573a7458d5852e0547eef55e6">libMesh::System::_qoi_evaluate_derivative_object</a></div><div class="ttdeci">QOIDerivative * _qoi_evaluate_derivative_object</div><div class="ttdoc">Object to compute derivatives of quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02107">system.h:2107</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_1_1QOIDerivative_html_a55d54296bc5b90691ab58fea8359885b"><div class="ttname"><a href="classlibMesh_1_1System_1_1QOIDerivative.html#a55d54296bc5b90691ab58fea8359885b">libMesh::System::QOIDerivative::qoi_derivative</a></div><div class="ttdeci">virtual void qoi_derivative(const QoISet &amp;qoi_indices, bool include_liftfunc, bool apply_constraints)=0</div><div class="ttdoc">Quantity of interest derivative function. </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a839bf2fe581f71fe9d70654d798e79f8"><div class="ttname"><a href="classlibMesh_1_1System.html#a839bf2fe581f71fe9d70654d798e79f8">libMesh::System::_qoi_evaluate_derivative_function</a></div><div class="ttdeci">void(* _qoi_evaluate_derivative_function)(EquationSystems &amp;es, const std::string &amp;name, const QoISet &amp;qoi_indices, bool include_liftfunc, bool apply_constraints)</div><div class="ttdoc">Function to evaluate quantity of interest derivative. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02098">system.h:2098</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a99c9ba78a233464c052accdcbcc17153"><div class="ttname"><a href="classlibMesh_1_1System.html#a99c9ba78a233464c052accdcbcc17153">libMesh::System::_equation_systems</a></div><div class="ttdeci">EquationSystems &amp; _equation_systems</div><div class="ttdoc">Constant reference to the EquationSystems object used for the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02119">system.h:2119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56d89ed534ffce5eda02dc0137583b56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1Variable.html">Variable</a> &amp; libMesh::System::variable </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a constant reference to <code><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a></code> <code>var</code>. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02377">2377</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00961">libMesh::PetscDMWrapper::add_dofs_to_section()</a>, <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="first__order__unsteady__solver_8C_source.html#l00032">libMesh::FirstOrderUnsteadySolver::compute_second_order_eqns()</a>, <a class="el" href="generic__projector_8h_source.html#l02829">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SubFunctor::find_dofs_to_send()</a>, <a class="el" href="diff__system_8C_source.html#l00323">libMesh::DifferentiableSystem::have_first_order_scalar_vars()</a>, <a class="el" href="diff__system_8C_source.html#l00335">libMesh::DifferentiableSystem::have_second_order_scalar_vars()</a>, <a class="el" href="generic__projector_8h_source.html#l01468">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SortAndCopy::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02002">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectVertices::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02326">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectEdges::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02493">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectSides::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02682">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectInteriors::operator()()</a>, <a class="el" href="system_8C_source.html#l02458">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02602">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02329">libMesh::System::point_value()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l01089">libMesh::System::read_SCALAR_dofs()</a>, <a class="el" href="system__io_8C_source.html#l01136">libMesh::System::read_serialized_vector()</a>, <a class="el" href="system__io_8C_source.html#l02165">libMesh::System::read_serialized_vectors()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00846">libMesh::PetscDMWrapper::set_point_range_in_section()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02452">libMesh::Nemesis_IO_Helper::write_nodal_solution()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a> , 以及 <a class="el" href="system__io_8C_source.html#l02259">libMesh::System::write_serialized_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;{</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  libmesh_assert_less (i, <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.size());</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[i];</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac9737135afee0afcde47e30a411001a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1VariableGroup.html">VariableGroup</a> &amp; libMesh::System::variable_group </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>vg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a constant reference to <code><a class="el" href="classlibMesh_1_1VariableGroup.html" title="This class defines a logically grouped set of variables in the system. ">VariableGroup</a></code> <code>vg</code>. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02387">2387</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02145">libMesh::System::_variable_groups</a>.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="system_8C_source.html#l01948">libMesh::System::get_info()</a> , 以及 <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;{</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  libmesh_assert_less (vg, <a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>.size());</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">_variable_groups</a>[vg];</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a97be87516ee1398a45ee99d0320e1fd7"><div class="ttname"><a href="classlibMesh_1_1System.html#a97be87516ee1398a45ee99d0320e1fd7">libMesh::System::_variable_groups</a></div><div class="ttdeci">std::vector&lt; VariableGroup &gt; _variable_groups</div><div class="ttdoc">The VariableGroup in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02145">system.h:2145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9cddad5dd8b68389373567fddfbdb257"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; libMesh::System::variable_name </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The name of variable <code>i</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02397">2397</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>.</p>

<p>参考自 <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="petsc__dm__wrapper_8C_source.html#l00713">libMesh::PetscDMWrapper::build_section()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="exact__solution_8C_source.html#l00045">libMesh::ExactSolution::ExactSolution()</a>, <a class="el" href="equation__systems_8C_source.html#l01046">libMesh::EquationSystems::find_variable_numbers()</a>, <a class="el" href="petsc__auto__fieldsplit_8C_source.html#l00054">libMesh::petsc_auto_fieldsplit()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a> , 以及 <a class="el" href="nemesis__io__helper_8C_source.html#l02452">libMesh::Nemesis_IO_Helper::write_nodal_solution()</a>.</p>
<div class="fragment"><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;{</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  libmesh_assert_less (i, <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.size());</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[i].name();</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad2106b9ef395b8ee20200653ea40629f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::variable_number </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The variable number associated with the user-specified variable named <code>var</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01556">1556</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02151">libMesh::System::_variable_numbers</a>, <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a> , 以及 <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="gmv__io_8C_source.html#l02147">libMesh::GMVIO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01670">libMesh::Nemesis_IO::copy_nodal_solution()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="system__io_8C_source.html#l00097">libMesh::System::read_header()</a>, <a class="el" href="system_8h_source.html#l02408">libMesh::System::variable_scalar_number()</a>, <a class="el" href="system_8h_source.html#l02437">libMesh::System::variable_type()</a>, <a class="el" href="ensight__io_8C_source.html#l00334">libMesh::EnsightIO::write_scalar_ascii()</a> , 以及 <a class="el" href="ensight__io_8C_source.html#l00405">libMesh::EnsightIO::write_vector_ascii()</a>.</p>
<div class="fragment"><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;{</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  <span class="keyword">auto</span> var_num = libmesh_map_find(<a class="code" href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">_variable_numbers</a>, var);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;  libmesh_assert_equal_to (<a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[var_num].<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>(), var);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">return</span> var_num;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a1a6d4e0b74a98701716eddec66bd7fa7"><div class="ttname"><a href="classlibMesh_1_1System.html#a1a6d4e0b74a98701716eddec66bd7fa7">libMesh::System::_variable_numbers</a></div><div class="ttdeci">std::map&lt; std::string, unsigned int, std::less&lt;&gt; &gt; _variable_numbers</div><div class="ttdoc">The variable numbers corresponding to user-specified names, useful for name-based lookups...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02151">system.h:2151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b51e2e5f42614e581f13540e2dda4aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::variable_scalar_number </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>component</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>An index, starting from 0 for the first component of the first variable, and incrementing for each component of each (potentially vector-valued) variable in the system in order. For systems with only scalar-valued variables, this will be the same as <code>variable_number(var)</code> </dd></dl>
<p>Irony: currently our only non-scalar-valued variable type is SCALAR. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02408">2408</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01556">libMesh::System::variable_number()</a>.</p>

<p>参考自 <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="generic__projector_8h_source.html#l02002">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectVertices::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02326">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectEdges::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02493">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectSides::operator()()</a> , 以及 <a class="el" href="generic__projector_8h_source.html#l02682">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectInteriors::operator()()</a>.</p>
<div class="fragment"><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;{</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a8b51e2e5f42614e581f13540e2dda4aa">variable_scalar_number</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">variable_number</a>(var), component);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8b51e2e5f42614e581f13540e2dda4aa"><div class="ttname"><a href="classlibMesh_1_1System.html#a8b51e2e5f42614e581f13540e2dda4aa">libMesh::System::variable_scalar_number</a></div><div class="ttdeci">unsigned int variable_scalar_number(std::string_view var, unsigned int component) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02408">system.h:2408</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ad2106b9ef395b8ee20200653ea40629f"><div class="ttname"><a href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">libMesh::System::variable_number</a></div><div class="ttdeci">unsigned int variable_number(std::string_view var) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01556">system.C:1556</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a840232334e8e87a04da21a2f832a5475"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::System::variable_scalar_number </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>component</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>An index, starting from 0 for the first component of the first variable, and incrementing for each component of each (potentially vector-valued) variable in the system in order. For systems with only scalar-valued variables, this will be the same as <code>var_num</code> </dd></dl>
<p>Irony: currently our only non-scalar-valued variable type is SCALAR. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02418">2418</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>.</p>
<div class="fragment"><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;{</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[var_num].first_scalar_number() + component;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab321ab954fa1284069a647b311ff6d17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp; libMesh::System::variable_type </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The finite element type variable number <code>i</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02427">2427</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a>.</p>

<p>参考自 <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="system_8C_source.html#l01304">libMesh::System::add_variable()</a>, <a class="el" href="system_8C_source.html#l01418">libMesh::System::add_variables()</a>, <a class="el" href="fem__context_8C_source.html#l00124">libMesh::FEMContext::attach_quadrature_rules()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="gmv__io_8C_source.html#l02147">libMesh::GMVIO::copy_nodal_solution()</a>, <a class="el" href="dg__fem__context_8C_source.html#l00029">libMesh::DGFEMContext::DGFEMContext()</a>, <a class="el" href="fem__context_8C_source.html#l00085">libMesh::FEMContext::find_hardest_fe_type()</a>, <a class="el" href="equation__systems_8C_source.html#l01046">libMesh::EquationSystems::find_variable_numbers()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="fem__context_8C_source.html#l00195">libMesh::FEMContext::init_internal_data()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02632">libMesh::Nemesis_IO_Helper::write_element_values()</a>, <a class="el" href="system__io_8C_source.html#l01267">libMesh::System::write_header()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02452">libMesh::Nemesis_IO_Helper::write_nodal_solution()</a>, <a class="el" href="ensight__io_8C_source.html#l00334">libMesh::EnsightIO::write_scalar_ascii()</a> , 以及 <a class="el" href="ensight__io_8C_source.html#l00405">libMesh::EnsightIO::write_vector_ascii()</a>.</p>
<div class="fragment"><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;{</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  libmesh_assert_less (i, <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>.size());</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[i].type();</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a4a23615d04e0328acb372611a158be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classlibMesh_1_1FEType.html">FEType</a> &amp; libMesh::System::variable_type </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The finite element type for variable <code>var</code>. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02437">2437</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02140">libMesh::System::_variables</a> , 以及 <a class="el" href="system_8C_source.html#l01556">libMesh::System::variable_number()</a>.</p>
<div class="fragment"><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;{</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">_variables</a>[this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">variable_number</a>(var)].type();</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a17fc76a7e9339dcc3c834a646169bf0e"><div class="ttname"><a href="classlibMesh_1_1System.html#a17fc76a7e9339dcc3c834a646169bf0e">libMesh::System::_variables</a></div><div class="ttdeci">std::vector&lt; Variable &gt; _variables</div><div class="ttdoc">The Variable in this System. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02140">system.h:2140</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ad2106b9ef395b8ee20200653ea40629f"><div class="ttname"><a href="classlibMesh_1_1System.html#ad2106b9ef395b8ee20200653ea40629f">libMesh::System::variable_number</a></div><div class="ttdeci">unsigned int variable_number(std::string_view var) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01556">system.C:1556</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a588ada48776f00651c12d2799a53c2bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libMesh::System::vector_is_adjoint </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The integer describing whether the vector identified by vec_name represents a solution from an adjoint (non-negative) or the primal (-1) space. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01119">1119</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02176">libMesh::System::_vector_is_adjoint</a> , 以及 <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>.</p>

<p>参考自 <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;{</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(<a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.find(vec_name) !=</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                 <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.end());</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">_vector_is_adjoint</a>.find(vec_name)-&gt;second;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a07fd92e0eaa9423360b5a723383c0329"><div class="ttname"><a href="classlibMesh_1_1System.html#a07fd92e0eaa9423360b5a723383c0329">libMesh::System::_vector_is_adjoint</a></div><div class="ttdeci">std::map&lt; std::string, int, std::less&lt;&gt; &gt; _vector_is_adjoint</div><div class="ttdoc">Holds non-negative if a vector by that name should be projected using adjoint constraints/BCs, -1 if primal. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02176">system.h:2176</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a443f0f130fa43570e3c82994c634b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; libMesh::System::vector_name </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>vec_num</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The name of this system's additional vector number <code>vec_num</code> (where the vectors are counted starting with 0). </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00957">957</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a> , 以及 <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;{</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// If we don&#39;t have that many vectors, throw an error</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  libmesh_assert_less(vec_num, <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.size());</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// Otherwise return a reference to the vec_num&#39;th vector name</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  std::advance(it, vec_num);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">return</span> it-&gt;first;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac238a615f0df0877e346d8d1091632e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; libMesh::System::vector_name </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vec_reference</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The name of a system vector, given a reference to that vector </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l00968">968</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="numeric__vector_8h_source.html#l01012">libMesh::NumericVector&lt; T &gt;::get()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="system_8h_source.html#l02483">libMesh::System::vectors_begin()</a> , 以及 <a class="el" href="system_8h_source.html#l02495">libMesh::System::vectors_end()</a>.</p>
<div class="fragment"><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;{</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// Linear search for a vector whose pointer matches vec_reference</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keyword">auto</span> it = std::find_if(<a class="code" href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">vectors_begin</a>(), <a class="code" href="classlibMesh_1_1System.html#a8bad75f37fdc2e047d73830d182e1314">vectors_end</a>(),</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                         [&amp;vec_reference](<span class="keyword">const</span> decltype(<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)::value_type &amp; pr)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                         { <span class="keywordflow">return</span> &amp;vec_reference == pr.second.<a class="code" href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">get</a>(); });</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">// Before returning, make sure we didn&#39;t loop till the end and not find any match</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (it != <a class="code" href="classlibMesh_1_1System.html#a8bad75f37fdc2e047d73830d182e1314">vectors_end</a>());</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="comment">// Return the string associated with the current vector</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">return</span> it-&gt;first;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8bad75f37fdc2e047d73830d182e1314"><div class="ttname"><a href="classlibMesh_1_1System.html#a8bad75f37fdc2e047d73830d182e1314">libMesh::System::vectors_end</a></div><div class="ttdeci">vectors_iterator vectors_end()</div><div class="ttdoc">End of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02495">system.h:2495</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a293a39e0a532954f5c643b5d3650c048"><div class="ttname"><a href="classlibMesh_1_1System.html#a293a39e0a532954f5c643b5d3650c048">libMesh::System::vectors_begin</a></div><div class="ttdeci">vectors_iterator vectors_begin()</div><div class="ttdoc">Beginning of vectors container. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02483">system.h:2483</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a8eac3a527f0194feae3a9dd80c878df1"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a8eac3a527f0194feae3a9dd80c878df1">libMesh::NumericVector::get</a></div><div class="ttdeci">virtual void get(const std::vector&lt; numeric_index_type &gt; &amp;index, T *values) const </div><div class="ttdoc">一次访问多个组件。 values 将 *不会* 重新分配空间；它应该已经具有足够的空间。 默认实现对每个索引调用 operator() ，但某些实现可能在此处提供更快的方法。 ...</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8h_source.html#l01012">numeric_vector.h:1012</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42aa9ababa5c866dcde0209ebf23be4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::vector_preservation </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>vec_name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>返回</dt><dd>The boolean describing whether the vector identified by vec_name should be "preserved": projected to new meshes, saved, etc. </dd></dl>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01096">1096</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>.</p>

<p>参考自 <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a> , 以及 <a class="el" href="memory__history__data_8C_source.html#l00076">libMesh::MemoryHistoryData::store_vectors()</a>.</p>
<div class="fragment"><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;{</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.find(vec_name) == <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.end())</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.find(vec_name)-&gt;second;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a293a39e0a532954f5c643b5d3650c048"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">System::vectors_iterator</a> libMesh::System::vectors_begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Beginning of vectors container. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02483">2483</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="system_8C_source.html#l00931">libMesh::System::get_vector()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="system_8C_source.html#l00889">libMesh::System::request_vector()</a>, <a class="el" href="memory__history__data_8C_source.html#l00076">libMesh::MemoryHistoryData::store_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l00957">libMesh::System::vector_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;{</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.begin();</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0394a0bff8e3746a49eed518cc8c00c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">System::const_vectors_iterator</a> libMesh::System::vectors_begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Beginning of vectors container. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02489">2489</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>
<div class="fragment"><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;{</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.begin();</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8bad75f37fdc2e047d73830d182e1314"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html#ab61da28617688ed39b3a960f7da33c97">System::vectors_iterator</a> libMesh::System::vectors_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End of vectors container. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02495">2495</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>

<p>参考自 <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="memory__history__data_8C_source.html#l00076">libMesh::MemoryHistoryData::store_vectors()</a> , 以及 <a class="el" href="system_8C_source.html#l00968">libMesh::System::vector_name()</a>.</p>
<div class="fragment"><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;{</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end();</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb796e766f91a826247574816d375407"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html#ae301ec73eb4f0efe04e619edc17c0edb">System::const_vectors_iterator</a> libMesh::System::vectors_end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End of vectors container. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l02501">2501</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>.</p>
<div class="fragment"><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;{</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>.end();</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a93980bb1f5144843b5fd266a0c4cee29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; unsigned int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a> &amp;&#160;</td>
          <td class="paramname"><em>qoi_indices</em> = <code><a class="el" href="classlibMesh_1_1QoISet.html">QoISet</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assembles &amp; solves the linear system(s) (dR/du)^T*z_w = sum(w_p*(d^2q/dudp - d^2R/dudp*z)), for those parameters p contained within <code>parameters</code>, weighted by the values w_p found within <code>weights</code>. </p>
<p>Assumes that adjoint_solve has already calculated z for each qoi in <code>qoi_indices</code>.</p>
<dl class="section return"><dt>返回</dt><dd>A pair with the total number of linear iterations performed and the (sum of the) final residual norms </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a79ae2650c56afe266ec27ee2fea57957">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00220">220</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01212">libMesh::System::add_weighted_sensitivity_adjoint_solution()</a>, <a class="el" href="explicit__system_8C_source.html#l00067">libMesh::ExplicitSystem::assemble_qoi_derivative()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1ParameterVector.html#aacf06a1971b30b2328c9d3013df2af5c">libMesh::ParameterVector::deep_copy()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="system_8C_source.html#l01254">libMesh::System::get_adjoint_rhs()</a>, <a class="el" href="system_8C_source.html#l01192">libMesh::System::get_adjoint_solution()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="implicit__system_8C_source.html#l01210">libMesh::ImplicitSystem::get_linear_solve_parameters()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#aa85149e85125392a2fdb7671bb50a1e2">libMesh::SparseMatrix&lt; T &gt;::get_transpose()</a>, <a class="el" href="system_8C_source.html#l01224">libMesh::System::get_weighted_sensitivity_adjoint_solution()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l05470">libMesh::DofMap::has_adjoint_dirichlet_boundaries()</a>, <a class="el" href="qoi__set_8h_source.html#l00224">libMesh::QoISet::has_index()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="system_8h_source.html#l02516">libMesh::System::n_qois()</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="classlibMesh_1_1LinearSolver.html#a8a6db3ba2b9da8e28c8af2fc9d0a8773">libMesh::LinearSolver&lt; T &gt;::solve()</a>, <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a>, <a class="el" href="parameter__vector_8C_source.html#l00075">libMesh::ParameterVector::value_copy()</a>, <a class="el" href="sparse__matrix_8C_source.html#l00205">libMesh::SparseMatrix&lt; T &gt;::vector_mult_add()</a> , 以及 <a class="el" href="classlibMesh_1_1NumericVector.html#a0f0ad6c42cfc955f9622c1fa76fe88a6">libMesh::NumericVector&lt; T &gt;::zero_clone()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// Log how long the linear solve takes.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;weighted_sensitivity_adjoint_solve()&quot;</span>, <span class="stringliteral">&quot;ImplicitSystem&quot;</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// We currently get partial derivatives via central differencing</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p = <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// The forward system should now already be solved.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// The adjoint system should now already be solved.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">// Now we&#39;re assembling a weighted sum of adjoint-adjoint systems:</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// dR/du (u, sum_l(w_l*z^l)) = sum_l(w_l*(Q&#39;&#39;_ul - R&#39;&#39;_ul (u, z)))</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// FIXME: The derivation here does not yet take adjoint boundary</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// conditions into account.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_DIRICHLET</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a>(!this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a96c57f4ed89dab22d3b1257c595d1dcd">has_adjoint_dirichlet_boundaries</a>(i));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// We&#39;ll assemble the rhs first, because the R&#39;&#39; term will require</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// perturbing the jacobian</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// We&#39;ll use temporary rhs vectors, because we haven&#39;t (yet) found</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// any good reasons why users might want to save these:</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  std::vector&lt;std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt;&gt; temprhs(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      temprhs[i] = this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a0f0ad6c42cfc955f9622c1fa76fe88a6">zero_clone</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// We approximate the _l partial derivatives via a central</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// differencing perturbation in the w_l direction:</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// sum_l(w_l*v_l) ~= (v(p + dp*w_l*e_l) - v(p - dp*w_l*e_l))/(2*dp)</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// PETSc doesn&#39;t implement SGEMX, so neither does NumericVector,</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// so we want to avoid calculating f -= R&#39;*z.  We&#39;ll thus evaluate</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// the above equation by first adding -v(p+dp...), then multiplying</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// the intermediate result vectors by -1, then adding -v(p-dp...),</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">// then finally dividing by 2*dp.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  ParameterVector oldparameters, parameterperturbation;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  parameters.deep_copy(oldparameters);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  weights.deep_copy(parameterperturbation);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  parameterperturbation *= delta_p;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  parameters += parameterperturbation;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Take the discrete adjoint, so that we can calculate R_u(u,z) with</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// a matrix-vector product of R_u and z.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#aa85149e85125392a2fdb7671bb50a1e2">get_transpose</a>(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                <span class="comment">/* include_liftfunc = */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                <span class="comment">/* apply_constraints = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        *(temprhs[i]) -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a0a7445955e126e341cd9a2e71b3c3976">vector_mult_add</a>(*(temprhs[i]), this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        *(temprhs[i]) *= -1.0;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  oldparameters.value_copy(parameters);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  parameterperturbation *= -1.0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  parameters += parameterperturbation;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#aa85149e85125392a2fdb7671bb50a1e2">get_transpose</a>(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">assemble_qoi_derivative</a>(qoi_indices,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                <span class="comment">/* include_liftfunc = */</span> <span class="keyword">false</span>,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                <span class="comment">/* apply_constraints = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i).<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        *(temprhs[i]) -= this-&gt;<a class="code" href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">get_adjoint_rhs</a>(i);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a0a7445955e126e341cd9a2e71b3c3976">vector_mult_add</a>(*(temprhs[i]), this-&gt;<a class="code" href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">get_adjoint_solution</a>(i));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        *(temprhs[i]) /= (2.0*delta_p);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Finally, assemble the jacobian at the non-perturbed parameter</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// values.  Ignore assemble_before_solve; if we had a good</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// non-perturbed matrix before we&#39;ve already overwritten it.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  oldparameters.value_copy(parameters);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// if (this-&gt;assemble_before_solve)</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Build the Jacobian</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// Take the discrete adjoint</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#aa85149e85125392a2fdb7671bb50a1e2">get_transpose</a>(*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="comment">// The weighted adjoint-adjoint problem is linear</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">LinearSolver&lt;Number&gt;</a> * solver = this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">get_linear_solver</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Our iteration counts and residuals will be sums of the individual</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// results</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  std::pair&lt;unsigned int, Real&gt; solver_params =</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">get_linear_solve_parameters</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  std::pair&lt;unsigned int, Real&gt; totalrval = std::make_pair(0,0.0);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">const</span> std::pair&lt;unsigned int, Real&gt; rval =</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          solver-&gt;solve (*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a16e412144b3c5c1cc59cbb9e52b9ab05">add_weighted_sensitivity_adjoint_solution</a>(i),</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                         *(temprhs[i]),</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                         <span class="keywordtype">double</span>(solver_params.second),</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                         solver_params.first);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        totalrval.first  += rval.first;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        totalrval.second += rval.second;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// The linear solver may not have fit our constraints exactly</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">n_qois</a>()))</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span> (qoi_indices.has_index(i))</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        (*<span class="keyword">this</span>, &amp;this-&gt;<a class="code" href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">get_weighted_sensitivity_adjoint_solution</a>(i),</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;         <span class="comment">/* homogeneous = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">return</span> totalrval;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a46cae8e0c970cc71f4d3993432d60e5e"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">libMesh::ImplicitSystem::get_linear_solver</a></div><div class="ttdeci">virtual LinearSolver&lt; Number &gt; * get_linear_solver() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01188">implicit_system.C:1188</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a993ffd888b690f4af0e1dd5a3df49b3f"><div class="ttname"><a href="classlibMesh_1_1System.html#a993ffd888b690f4af0e1dd5a3df49b3f">libMesh::System::n_qois</a></div><div class="ttdeci">unsigned int n_qois() const </div><div class="ttdoc">Number of currently active quantities of interest. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02516">system.h:2516</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a0f0ad6c42cfc955f9622c1fa76fe88a6"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a0f0ad6c42cfc955f9622c1fa76fe88a6">libMesh::NumericVector::zero_clone</a></div><div class="ttdeci">virtual std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; zero_clone() const =0</div><div class="ttdoc">返回一个智能指针，指向具有相同类型、大小和分区的此向量的副本，但所有条目都为零。 </div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a0a7445955e126e341cd9a2e71b3c3976"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a0a7445955e126e341cd9a2e71b3c3976">libMesh::SparseMatrix::vector_mult_add</a></div><div class="ttdeci">void vector_mult_add(NumericVector&lt; T &gt; &amp;dest, const NumericVector&lt; T &gt; &amp;arg) const </div><div class="ttdoc">将矩阵乘以 NumericVector arg ,并将结果添加到 NumericVector dest 中。 </div><div class="ttdef"><b>Definition:</b> <a href="sparse__matrix_8C_source.html#l00205">sparse_matrix.C:205</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_ab3b6e7ceb320e1cd0f8639780791ba07"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">libMesh::ImplicitSystem::get_linear_solve_parameters</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; get_linear_solve_parameters() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01210">implicit_system.C:1210</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a96c57f4ed89dab22d3b1257c595d1dcd"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a96c57f4ed89dab22d3b1257c595d1dcd">libMesh::DofMap::has_adjoint_dirichlet_boundaries</a></div><div class="ttdeci">bool has_adjoint_dirichlet_boundaries(unsigned int q) const </div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l05470">dof_map_constraints.C:5470</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a16e412144b3c5c1cc59cbb9e52b9ab05"><div class="ttname"><a href="classlibMesh_1_1System.html#a16e412144b3c5c1cc59cbb9e52b9ab05">libMesh::System::add_weighted_sensitivity_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_weighted_sensitivity_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01212">system.C:1212</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_afbe5f2bcebcec9de5d848b72bd9db637"><div class="ttname"><a href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">libMesh::LinearSolver&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT LinearSolver&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00231">linear_solver.C:231</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_aa85149e85125392a2fdb7671bb50a1e2"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#aa85149e85125392a2fdb7671bb50a1e2">libMesh::SparseMatrix::get_transpose</a></div><div class="ttdeci">virtual void get_transpose(SparseMatrix&lt; T &gt; &amp;dest) const =0</div><div class="ttdoc">将矩阵的转置复制到 dest 中，dest 可能是 *this。 </div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a45adb17458ea92c61b7ec53836ef1ef8"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a45adb17458ea92c61b7ec53836ef1ef8">libMesh::ExplicitSystem::assemble_qoi_derivative</a></div><div class="ttdeci">virtual void assemble_qoi_derivative(const QoISet &amp;qoi_indices=QoISet(), bool include_liftfunc=true, bool apply_constraints=true) override</div><div class="ttdoc">Prepares adjoint_rhs for quantity of interest derivative assembly, then calls user qoi derivative fun...</div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8C_source.html#l00067">explicit_system.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aeaf02ff714b2d9b6aca4e8d696856529"><div class="ttname"><a href="classlibMesh_1_1System.html#aeaf02ff714b2d9b6aca4e8d696856529">libMesh::System::get_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01192">system.C:1192</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a497665a8b66520f587e5e5102c94420c"><div class="ttname"><a href="classlibMesh_1_1System.html#a497665a8b66520f587e5e5102c94420c">libMesh::System::get_weighted_sensitivity_adjoint_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_weighted_sensitivity_adjoint_solution(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01224">system.C:1224</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_afe988921e219358881c49d1fa7303507"><div class="ttname"><a href="classlibMesh_1_1System.html#afe988921e219358881c49d1fa7303507">libMesh::System::get_adjoint_rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_adjoint_rhs(unsigned int i=0)</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01254">system.C:1254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ffd63b51e74f2ba7b09737f834319b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; unsigned int, <a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> &gt; libMesh::ImplicitSystem::weighted_sensitivity_solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibMesh_1_1ParameterVector.html">ParameterVector</a> &amp;&#160;</td>
          <td class="paramname"><em>weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assembles &amp; solves the linear system(s) (dR/du)*u_w = sum(w_p*-dR/dp), for those parameters p contained within <code>parameters</code> weighted by the values w_p found within <code>weights</code>. </p>
<dl class="section return"><dt>返回</dt><dd>A pair with the total number of linear iterations performed and the (sum of the) final residual norms </dd></dl>

<p>重载 <a class="el" href="classlibMesh_1_1System.html#a12a66f71be2f232f7136905559c1bbdb">libMesh::System</a> .</p>

<p>在文件 <a class="el" href="implicit__system_8C_source.html">implicit_system.C</a> 第 <a class="el" href="implicit__system_8C_source.html#l00366">366</a> 行定义.</p>

<p>参考 <a class="el" href="system_8C_source.html#l01159">libMesh::System::add_weighted_sensitivity_solution()</a>, <a class="el" href="implicit__system_8h_source.html#l00159">libMesh::ImplicitSystem::assembly()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">libMesh::NumericVector&lt; T &gt;::clone()</a>, <a class="el" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix&lt; T &gt;::close()</a>, <a class="el" href="classlibMesh_1_1ParameterVector.html#aacf06a1971b30b2328c9d3013df2af5c">libMesh::ParameterVector::deep_copy()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="implicit__system_8C_source.html#l01210">libMesh::ImplicitSystem::get_linear_solve_parameters()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="system_8C_source.html#l01166">libMesh::System::get_weighted_sensitivity_solution()</a>, <a class="el" href="implicit__system_8h_source.html#l00319">libMesh::ImplicitSystem::matrix</a>, <a class="el" href="libmesh__common_8h_source.html#l00143">libMesh::Real</a>, <a class="el" href="explicit__system_8h_source.html#l00124">libMesh::ExplicitSystem::rhs</a>, <a class="el" href="classlibMesh_1_1LinearSolver.html#a8a6db3ba2b9da8e28c8af2fc9d0a8773">libMesh::LinearSolver&lt; T &gt;::solve()</a>, <a class="el" href="libmesh__common_8h_source.html#l00150">libMesh::TOLERANCE</a> , 以及 <a class="el" href="parameter__vector_8C_source.html#l00075">libMesh::ParameterVector::value_copy()</a>.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// Log how long the linear solve takes.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  LOG_SCOPE(<span class="stringliteral">&quot;weighted_sensitivity_solve()&quot;</span>, <span class="stringliteral">&quot;ImplicitSystem&quot;</span>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">// We currently get partial derivatives via central differencing</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> delta_p = <a class="code" href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">TOLERANCE</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  ParameterVector &amp; parameters =</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">const_cast&lt;</span>ParameterVector &amp;<span class="keyword">&gt;</span>(parameters_in);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="comment">// The forward system should now already be solved.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// Now we&#39;re assembling a weighted sum of sensitivity systems:</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// dR/du (u, v)(sum(w_l*u&#39;_l)) = -sum_l(w_l*R&#39;_l (u, v)) forall v</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// We&#39;ll assemble the rhs first, because the R&#39; term will require</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="comment">// perturbing the system, and some applications may not be able to</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// assemble a perturbed residual without simultaneously constructing</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// a perturbed jacobian.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// We approximate the _l partial derivatives via a central</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// differencing perturbation in the w_l direction:</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// sum_l(w_l*v_l) ~= (v(p + dp*w_l*e_l) - v(p - dp*w_l*e_l))/(2*dp)</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  ParameterVector oldparameters, parameterperturbation;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  parameters.deep_copy(oldparameters);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  weights.deep_copy(parameterperturbation);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  parameterperturbation *= delta_p;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  parameters += parameterperturbation;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  std::unique_ptr&lt;NumericVector&lt;Number&gt;&gt; temprhs = this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">clone</a>();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  oldparameters.value_copy(parameters);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  parameterperturbation *= -1.0;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  parameters += parameterperturbation;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>-&gt;<a class="code" href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">close</a>();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  *temprhs -= *(this-&gt;<a class="code" href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">rhs</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  *temprhs /= (2.0*delta_p);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// Finally, assemble the jacobian at the non-perturbed parameter</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// values</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  oldparameters.value_copy(parameters);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// Build the Jacobian</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">assembly</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>-&gt;<a class="code" href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">close</a>();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// The weighted sensitivity problem is linear</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">LinearSolver&lt;Number&gt;</a> * solver = this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">get_linear_solver</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  std::pair&lt;unsigned int, Real&gt; solver_params =</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">get_linear_solve_parameters</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keyword">const</span> std::pair&lt;unsigned int, Real&gt; rval =</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    solver-&gt;solve (*<a class="code" href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">matrix</a>, this-&gt;<a class="code" href="classlibMesh_1_1System.html#ae1922f73d344e6e1bea9100fec966e54">add_weighted_sensitivity_solution</a>(),</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                   *temprhs,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                   <span class="keywordtype">double</span>(solver_params.second),</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                   solver_params.first);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// The linear solver may not have fit our constraints exactly</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_CONSTRAINTS</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="preprocessor"></span>  this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>().<a class="code" href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">enforce_constraints_exactly</a></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    (*<span class="keyword">this</span>, &amp;this-&gt;<a class="code" href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">get_weighted_sensitivity_solution</a>(),</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;     <span class="comment">/* homogeneous = */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">return</span> rval;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a46cae8e0c970cc71f4d3993432d60e5e"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">libMesh::ImplicitSystem::get_linear_solver</a></div><div class="ttdeci">virtual LinearSolver&lt; Number &gt; * get_linear_solver() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01188">implicit_system.C:1188</a></div></div>
<div class="ttc" id="namespacelibMesh_html_aadc7666a2b443d9cccbb63174874c14f"><div class="ttname"><a href="namespacelibMesh.html#aadc7666a2b443d9cccbb63174874c14f">libMesh::TOLERANCE</a></div><div class="ttdeci">static constexpr Real TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00150">libmesh_common.h:150</a></div></div>
<div class="ttc" id="classlibMesh_1_1ExplicitSystem_html_a98fde3a02d1256dbc31891c88986bddc"><div class="ttname"><a href="classlibMesh_1_1ExplicitSystem.html#a98fde3a02d1256dbc31891c88986bddc">libMesh::ExplicitSystem::rhs</a></div><div class="ttdeci">NumericVector&lt; Number &gt; * rhs</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="explicit__system_8h_source.html#l00124">explicit_system.h:124</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_ad7db3ddd8d2fa15518621468614fc1f6"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#ad7db3ddd8d2fa15518621468614fc1f6">libMesh::NumericVector::clone</a></div><div class="ttdeci">virtual std::unique_ptr&lt; NumericVector&lt; T &gt; &gt; clone() const =0</div><div class="ttdoc">返回一个包装了此向量副本的智能指针。 </div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ae1922f73d344e6e1bea9100fec966e54"><div class="ttname"><a href="classlibMesh_1_1System.html#ae1922f73d344e6e1bea9100fec966e54">libMesh::System::add_weighted_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; add_weighted_sensitivity_solution()</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01159">system.C:1159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ad4168ae004bc141639bb8b2b44de45cc"><div class="ttname"><a href="classlibMesh_1_1System.html#ad4168ae004bc141639bb8b2b44de45cc">libMesh::System::get_weighted_sensitivity_solution</a></div><div class="ttdeci">NumericVector&lt; Number &gt; &amp; get_weighted_sensitivity_solution()</div><div class="ttdef"><b>Definition:</b> <a href="system_8C_source.html#l01166">system.C:1166</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_ab3b6e7ceb320e1cd0f8639780791ba07"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#ab3b6e7ceb320e1cd0f8639780791ba07">libMesh::ImplicitSystem::get_linear_solve_parameters</a></div><div class="ttdeci">virtual std::pair&lt; unsigned int, Real &gt; get_linear_solve_parameters() const </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8C_source.html#l01210">implicit_system.C:1210</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_adae97b4327946c385504b4aceb1f1b90"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#adae97b4327946c385504b4aceb1f1b90">libMesh::ImplicitSystem::assembly</a></div><div class="ttdeci">virtual void assembly(bool, bool, bool=false, bool=false)</div><div class="ttdoc">Assembles a residual in rhs and/or a jacobian in matrix, as requested. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00159">implicit_system.h:159</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1DofMap_html_a447d1cb12f905ae3d8ede821fe8a9743"><div class="ttname"><a href="classlibMesh_1_1DofMap.html#a447d1cb12f905ae3d8ede821fe8a9743">libMesh::DofMap::enforce_constraints_exactly</a></div><div class="ttdeci">void enforce_constraints_exactly(const System &amp;system, NumericVector&lt; Number &gt; *v=nullptr, bool homogeneous=false) const </div><div class="ttdoc">Constrains the numeric vector v, which represents a solution defined on the mesh. ...</div><div class="ttdef"><b>Definition:</b> <a href="dof__map__constraints_8C_source.html#l03113">dof_map_constraints.C:3113</a></div></div>
<div class="ttc" id="namespacelibMesh_html_afbe5f2bcebcec9de5d848b72bd9db637"><div class="ttname"><a href="namespacelibMesh.html#afbe5f2bcebcec9de5d848b72bd9db637">libMesh::LinearSolver&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT LinearSolver&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="linear__solver_8C_source.html#l00231">linear_solver.C:231</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a42ea91bba70b3e7b27dad2a636ad31ae"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a42ea91bba70b3e7b27dad2a636ad31ae">libMesh::NumericVector::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 NumericVector 的内部组装函数，确保值在处理器之间一致。 </div></div>
<div class="ttc" id="classlibMesh_1_1SparseMatrix_html_a08a34826936cc55b95cf16586bcc12e3"><div class="ttname"><a href="classlibMesh_1_1SparseMatrix.html#a08a34826936cc55b95cf16586bcc12e3">libMesh::SparseMatrix::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">调用 SparseMatrix 的内部装配例程，确保值在处理器之间保持一致。 </div></div>
<div class="ttc" id="namespacelibMesh_html_aef28359fb4851abec08fc99cfbac118d"><div class="ttname"><a href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">libMesh::Real</a></div><div class="ttdeci">DIE A HORRIBLE DEATH HERE typedef LIBMESH_DEFAULT_SCALAR_TYPE Real</div><div class="ttdef"><b>Definition:</b> <a href="libmesh__common_8h_source.html#l00143">libmesh_common.h:143</a></div></div>
<div class="ttc" id="classlibMesh_1_1ImplicitSystem_html_a549bd875b4fc99cbd5d1f7ba169feca7"><div class="ttname"><a href="classlibMesh_1_1ImplicitSystem.html#a549bd875b4fc99cbd5d1f7ba169feca7">libMesh::ImplicitSystem::matrix</a></div><div class="ttdeci">SparseMatrix&lt; Number &gt; * matrix</div><div class="ttdoc">The system matrix. </div><div class="ttdef"><b>Definition:</b> <a href="implicit__system_8h_source.html#l00319">implicit_system.h:319</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3da3b8b573358122b074d47f249236ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::write_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>write_additional_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the basic data header for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>
<p>This method implements the output of a <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> object, embedded in the output of an EquationSystems&lt;T_sys&gt;. This warrants some documentation. The output of this part consists of 5 sections:</p>
<p>for this system</p>
<p>5.) The number of variables in the system (unsigned int)</p>
<p>for each variable in the system</p>
<p>6.) The name of the variable (string)</p>
<p>6.1.) subdomain where the variable lives</p>
<p>7.) Combined in an <a class="el" href="classlibMesh_1_1FEType.html" title="class FEType hides (possibly multiple) FEFamily and approximation orders, thereby enabling specialize...">FEType</a>:</p>
<ul>
<li>The approximation order(s) of the variable (Order Enum, cast to int/s)</li>
<li>The finite element family/ies of the variable (FEFamily Enum, cast to int/s)</li>
</ul>
<p>end variable loop</p>
<p>8.) The number of additional vectors (unsigned int),</p>
<p>for each additional vector in the system object</p>
<p>9.) the name of the additional vector (string)</p>
<p>end system</p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l01267">1267</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02170">libMesh::System::_vector_projections</a>, <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="variable_8h_source.html#l00171">libMesh::Variable::active_subdomains()</a>, <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="fe__type_8h_source.html#l00261">libMesh::FEType::inf_map</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02477">libMesh::System::n_vectors()</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>, <a class="el" href="fe__type_8h_source.html#l00201">libMesh::FEType::order</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="fe__type_8h_source.html#l00253">libMesh::FEType::radial_family</a>, <a class="el" href="fe__type_8h_source.html#l00240">libMesh::FEType::radial_order</a>, <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>, <a class="el" href="system_8h_source.html#l02397">libMesh::System::variable_name()</a>, <a class="el" href="system_8h_source.html#l02427">libMesh::System::variable_type()</a> , 以及 <a class="el" href="xdr__cxx_8h_source.html#l00129">libMesh::Xdr::writing()</a>.</p>
<div class="fragment"><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.writing());</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="comment">// Only write the header information</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="comment">// if we are processor 0.</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() != 0)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  std::string comment;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="comment">// 5.)</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// Write the number of variables in the system</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    comment = <span class="stringliteral">&quot;# No. of Variables in System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nv = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    io.data (nv, comment);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="comment">// 6.)</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="comment">// Write the name of the var-th variable</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      {</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        comment  = <span class="stringliteral">&quot;#   Name, Variable No. &quot;</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        comment += std::to_string(var);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;        comment += <span class="stringliteral">&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        std::string var_name = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        io.data (var_name, comment);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="comment">// 6.1.) Variable subdomains</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        comment  = <span class="stringliteral">&quot;#     Subdomains, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <span class="keyword">const</span> std::set&lt;subdomain_id_type&gt; &amp; domains = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">active_subdomains</a>();</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        std::vector&lt;subdomain_id_type&gt; domain_array;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        domain_array.assign(domains.begin(), domains.end());</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        io.data (domain_array, comment);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <span class="comment">// 7.)</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="comment">// Write the approximation order of the var-th variable</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <span class="comment">// in this system</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        comment = <span class="stringliteral">&quot;#     Approximation Order, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keywordtype">int</span> order = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(var).<a class="code" href="classlibMesh_1_1FEType.html#a8a4f7c664bddf007599e8087871c6785">order</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        io.data (order, comment);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_INFINITE_ELEMENTS</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="comment">// do the same for radial_order</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        comment = <span class="stringliteral">&quot;#     Radial Approximation Order, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordtype">int</span> rad_order = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(var).<a class="code" href="classlibMesh_1_1FEType.html#a36025bcd6348b74c3545852690af8e01">radial_order</a>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        io.data (rad_order, comment);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="comment">// Write the Finite Element type of the var-th variable</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <span class="comment">// in this System</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        comment = <span class="stringliteral">&quot;#     FE Family, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keyword">const</span> FEType &amp; type = this-&gt;<a class="code" href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">variable_type</a>(var);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordtype">int</span> fam = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(type.family);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        io.data (fam, comment);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="preprocessor">#ifdef LIBMESH_ENABLE_INFINITE_ELEMENTS</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        comment = <span class="stringliteral">&quot;#     Radial FE Family, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordtype">int</span> radial_fam = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(type.radial_family);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        io.data (radial_fam, comment);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        comment = <span class="stringliteral">&quot;#     Infinite Mapping Type, Variable \&quot;&quot;</span>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">variable_name</a>(var);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordtype">int</span> i_map = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(type.inf_map);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        io.data (i_map, comment);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="preprocessor"></span>      }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    } <span class="comment">// end of the variable loop</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="comment">// 8.)</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="comment">// Write the number of additional vectors in the System.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="comment">// If write_additional_data==false, then write zero for</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="comment">// the number of additional vectors.</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      comment = <span class="stringliteral">&quot;# No. of Additional Vectors, System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nvecs = write_additional_data ? this-&gt;<a class="code" href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">n_vectors</a> () : 0;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      io.data (nvecs, comment);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (write_additional_data)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cnt=0;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; [vec_name, vec] : <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;          {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            <span class="comment">// 9.)</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="comment">// write the name of the cnt-th additional vector</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <span class="keyword">const</span> std::string dth_vector = std::to_string(cnt++)+<span class="stringliteral">&quot;th vector&quot;</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            comment =  <span class="stringliteral">&quot;# Name of &quot;</span> + dth_vector;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            std::string nonconst_vec_name = vec_name; <span class="comment">// Stupid XDR API</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            io.data (nonconst_vec_name, comment);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            <span class="keywordtype">int</span> vec_projection = <a class="code" href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">_vector_projections</a>.at(vec_name);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            comment = <span class="stringliteral">&quot;# Whether to do projections for &quot;</span> + dth_vector;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            io.data (vec_projection, comment);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="keywordtype">int</span> vec_type = vec-&gt;type();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            comment = <span class="stringliteral">&quot;# Parallel type of &quot;</span> + dth_vector;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            io.data (vec_type, comment);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;          }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a9cddad5dd8b68389373567fddfbdb257"><div class="ttname"><a href="classlibMesh_1_1System.html#a9cddad5dd8b68389373567fddfbdb257">libMesh::System::variable_name</a></div><div class="ttdeci">const std::string &amp; variable_name(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02397">system.h:2397</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_a36025bcd6348b74c3545852690af8e01"><div class="ttname"><a href="classlibMesh_1_1FEType.html#a36025bcd6348b74c3545852690af8e01">libMesh::FEType::radial_order</a></div><div class="ttdeci">OrderWrapper radial_order</div><div class="ttdoc">The approximation order in radial direction of the infinite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00240">fe_type.h:240</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1FEType_html_a8a4f7c664bddf007599e8087871c6785"><div class="ttname"><a href="classlibMesh_1_1FEType.html#a8a4f7c664bddf007599e8087871c6785">libMesh::FEType::order</a></div><div class="ttdeci">OrderWrapper order</div><div class="ttdoc">The approximation order of the element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00201">fe_type.h:201</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_ab321ab954fa1284069a647b311ff6d17"><div class="ttname"><a href="classlibMesh_1_1System.html#ab321ab954fa1284069a647b311ff6d17">libMesh::System::variable_type</a></div><div class="ttdeci">const FEType &amp; variable_type(const unsigned int i) const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02427">system.h:2427</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a3476ae77bc771ef27229d2e44e937194"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a3476ae77bc771ef27229d2e44e937194">libMesh::Variable::active_subdomains</a></div><div class="ttdeci">const std::set&lt; subdomain_id_type &gt; &amp; active_subdomains() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00171">variable.h:171</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a8df8be1aabdbbd843b0567527b7686de"><div class="ttname"><a href="classlibMesh_1_1System.html#a8df8be1aabdbbd843b0567527b7686de">libMesh::System::_vector_projections</a></div><div class="ttdeci">std::map&lt; std::string, bool, std::less&lt;&gt; &gt; _vector_projections</div><div class="ttdoc">Holds true if a vector by that name should be projected onto a changed grid, false if it should be ze...</div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02170">system.h:2170</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a46bd8cfb070bab2dc814c33749c8c21b"><div class="ttname"><a href="classlibMesh_1_1System.html#a46bd8cfb070bab2dc814c33749c8c21b">libMesh::System::n_vectors</a></div><div class="ttdeci">unsigned int n_vectors() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02477">system.h:2477</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ce0f02169af7e0f55924c488bb63ad8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::write_parallel_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>write_additional_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>
<p>This method may safely be called on a distributed-memory mesh. This method will create an individual file for each processor in the simulation where the local solution components for that processor will be stored. </p>
<p>This method implements the output of the vectors contained in this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> object, embedded in the output of an EquationSystems&lt;T_sys&gt;.</p>
<p>9.) The global solution vector, re-ordered to be node-major (More on this later.)</p>
<p>for each additional vector in the object</p>
<p>10.) The global additional vector, re-ordered to be node-major (More on this later.)</p>
<p>Note that the actual IO is handled through the <a class="el" href="classlibMesh_1_1Xdr.html" title="This class implements a C++ interface to the XDR (eXternal Data Representation) format. ">Xdr</a> class (to be renamed later?) which provides a uniform interface to both the XDR (eXternal Data Representation) interface and standard ASCII output. Thus this one section of code will read XDR or ASCII files with no changes.</p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l01468">1468</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="fe__type_8h_source.html#l00207">libMesh::FEType::family</a>, <a class="el" href="system_8h_source.html#l02293">libMesh::System::get_dof_map()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="dof__object_8h_source.html#l00477">libMesh::DofObject::invalid_id</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>, <a class="el" href="system_8h_source.html#l02269">libMesh::System::number()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="dof__map_8C_source.html#l02544">libMesh::DofMap::SCALAR_dof_indices()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a>, <a class="el" href="variable_8h_source.html#l00140">libMesh::Variable::type()</a>, <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a> , 以及 <a class="el" href="xdr__cxx_8h_source.html#l00129">libMesh::Xdr::writing()</a>.</p>
<div class="fragment"><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;{</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="comment">// PerfLog pl(&quot;IO Performance&quot;,false);</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">// pl.push(&quot;write_parallel_data&quot;);</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">// std::size_t total_written_size = 0;</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  std::string comment;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.writing());</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  std::vector&lt;Number&gt; io_buffer; io_buffer.reserve(this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>-&gt;local_size());</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="comment">// build the ordered nodes and element maps.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="comment">// when writing/reading parallel files we need to iterate</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// over our nodes/elements in order of increasing global id().</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <span class="comment">// however, this is not guaranteed to be ordering we obtain</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// by using the node_iterators/element_iterators directly.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  <span class="comment">// so build a set, sorted by id(), that provides the ordering.</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// further, for memory economy build the set but then transfer</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// its contents to vectors, which will be sorted.</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  std::vector&lt;const DofObject *&gt; ordered_nodes, ordered_elements;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    std::set&lt;const DofObject *, CompareDofObjectsByID&gt;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      ordered_nodes_set (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_begin(),</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                         this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_end());</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    ordered_nodes.insert(ordered_nodes.end(),</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                         ordered_nodes_set.begin(),</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                         ordered_nodes_set.end());</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    std::set&lt;const DofObject *, CompareDofObjectsByID&gt;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      ordered_elements_set (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_begin(),</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                            this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_end());</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    ordered_elements.insert(ordered_elements.end(),</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                            ordered_elements_set.begin(),</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                            ordered_elements_set.end());</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sys_num = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>();</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nv      = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Loop over each non-SCALAR variable and each node, and write out the value.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var=0; var&lt;nv; var++)</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family != <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="comment">// First write the node DOF values</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : ordered_nodes)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;              libmesh_assert_not_equal_to (node-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                                           <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;              io_buffer.push_back((*this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>)(node-&gt;dof_number(sys_num, var, comp)));</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <span class="comment">// Then write the element DOF values</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : ordered_elements)</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(elem-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;              libmesh_assert_not_equal_to (elem-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                                           <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;              io_buffer.push_back((*this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>)(elem-&gt;dof_number(sys_num, var, comp)));</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="comment">// Finally, write the SCALAR data on the last processor</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;          {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            std::vector&lt;dof_id_type&gt; SCALAR_dofs;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            dof_map.SCALAR_dof_indices(SCALAR_dofs, var);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> dof : SCALAR_dofs)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;              io_buffer.push_back((*this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>)(dof));</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;          }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;      }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="comment">// 9.)</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="comment">// Actually write the reordered solution vector</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// for the ith system to disk</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    comment = <span class="stringliteral">&quot;# System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    comment += <span class="stringliteral">&quot;\&quot; Solution Vector&quot;</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  io.data (io_buffer, comment);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// total_written_size += io_buffer.size();</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="comment">// Only write additional vectors if wanted</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">if</span> (write_additional_data)</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; [vec_name, vec] : <a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;          io_buffer.clear();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;          io_buffer.reserve(vec-&gt;local_size());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          <span class="comment">// Loop over each non-SCALAR variable and each node, and write out the value.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> var=0; var&lt;nv; var++)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> != <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;              {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                <span class="comment">// First write the node DOF values</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : ordered_nodes)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(node-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                    {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                      libmesh_assert_not_equal_to (node-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                                                   <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                      io_buffer.push_back((*vec)(node-&gt;dof_number(sys_num, var, comp)));</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                    }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                <span class="comment">// Then write the element DOF values</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : ordered_elements)</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                  <span class="keywordflow">for</span> (<span class="keyword">auto</span> comp : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(elem-&gt;n_comp(sys_num,var)))</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                    {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                      libmesh_assert_not_equal_to (elem-&gt;dof_number(sys_num, var, comp),</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                                   <a class="code" href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">DofObject::invalid_id</a>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                      io_buffer.push_back((*vec)(elem-&gt;dof_number(sys_num, var, comp)));</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                    }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;              }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;          <span class="comment">// Finally, write the SCALAR data on the last processor</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).<a class="code" href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">type</a>().<a class="code" href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">family</a> == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;              {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">n_processors</a>()-1))</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                  {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                    <span class="keyword">const</span> DofMap &amp; dof_map = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">get_dof_map</a>();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                    std::vector&lt;dof_id_type&gt; SCALAR_dofs;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                    dof_map.SCALAR_dof_indices(SCALAR_dofs, var);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> dof : SCALAR_dofs)</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                      io_buffer.push_back((*vec)(dof));</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                  }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;              }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;          <span class="comment">// 10.)</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;          <span class="comment">//</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;          <span class="comment">// Actually write the reordered additional vector</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;          <span class="comment">// for this system to disk</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;          <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;          {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            comment = <span class="stringliteral">&quot;# System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            comment += <span class="stringliteral">&quot;\&quot; Additional Vector \&quot;&quot;</span>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            comment += vec_name;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;          }</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;          io.data (io_buffer, comment);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;          <span class="comment">// total_written_size += io_buffer.size();</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    }</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="comment">// const Real</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="comment">//   dt   = pl.get_elapsed_time(),</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="comment">//   rate = total_written_size*sizeof(Number)/dt;</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="comment">// libMesh::err &lt;&lt; &quot;Write &quot; &lt;&lt; total_written_size &lt;&lt; &quot; \&quot;Number\&quot; values\n&quot;</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Elapsed time = &quot; &lt;&lt; dt &lt;&lt; &#39;\n&#39;</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Rate = &quot; &lt;&lt; rate/1.e6 &lt;&lt; &quot;(MB/sec)\n\n&quot;;</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="comment">// pl.pop(&quot;write_parallel_data&quot;);</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1FEType_html_ac437ba9b0a5253d6bf6f07ad277b9978"><div class="ttname"><a href="classlibMesh_1_1FEType.html#ac437ba9b0a5253d6bf6f07ad277b9978">libMesh::FEType::family</a></div><div class="ttdeci">FEFamily family</div><div class="ttdoc">The type of finite element. </div><div class="ttdef"><b>Definition:</b> <a href="fe__type_8h_source.html#l00207">fe_type.h:207</a></div></div>
<div class="ttc" id="classlibMesh_1_1Variable_html_a8dcb07137d70a83fcf5b412e08e2783e"><div class="ttname"><a href="classlibMesh_1_1Variable.html#a8dcb07137d70a83fcf5b412e08e2783e">libMesh::Variable::type</a></div><div class="ttdeci">const FEType &amp; type() const </div><div class="ttdef"><b>Definition:</b> <a href="variable_8h_source.html#l00140">variable.h:140</a></div></div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_a50719f74165b613ab929afd29b6d5f4a"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#a50719f74165b613ab929afd29b6d5f4a">libMesh::ParallelObject::n_processors</a></div><div class="ttdeci">processor_id_type n_processors() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00103">parallel_object.h:103</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a3b392c8791f781092d6326e51856f553"><div class="ttname"><a href="classlibMesh_1_1System.html#a3b392c8791f781092d6326e51856f553">libMesh::System::get_dof_map</a></div><div class="ttdeci">const DofMap &amp; get_dof_map() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02293">system.h:2293</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="classlibMesh_1_1DofObject_html_adf3b0ebe7fcc0c41bced4c9f17bf4822"><div class="ttname"><a href="classlibMesh_1_1DofObject.html#adf3b0ebe7fcc0c41bced4c9f17bf4822">libMesh::DofObject::invalid_id</a></div><div class="ttdeci">static const dof_id_type invalid_id</div><div class="ttdoc">An invalid id to distinguish an uninitialized DofObject. </div><div class="ttdef"><b>Definition:</b> <a href="dof__object_8h_source.html#l00477">dof_object.h:477</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aee5caacb487b070842733f1c84b9a2fd"><div class="ttname"><a href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">libMesh::System::number</a></div><div class="ttdeci">unsigned int number() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02269">system.h:2269</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae8063c135acc9c54240886e1ac3c9acd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::write_serialized_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>write_additional_data</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes additional data, namely vectors, for this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a>. </p>
<p>This method may safely be called on a distributed-memory mesh. </p>
<p>This method implements the output of the vectors contained in this <a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> object, embedded in the output of an EquationSystems&lt;T_sys&gt;.</p>
<p>9.) The global solution vector, re-ordered to be node-major (More on this later.)</p>
<p>for each additional vector in the object</p>
<p>10.) The global additional vector, re-ordered to be node-major (More on this later.)</p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l01668">1668</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02164">libMesh::System::_vectors</a>, <a class="el" href="xdr__cxx_8C_source.html#l01300">libMesh::Xdr::comment()</a>, <a class="el" href="system_8h_source.html#l02261">libMesh::System::name()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="system_8h_source.html#l01573">libMesh::System::solution</a> , 以及 <a class="el" href="system__io_8C_source.html#l02118">libMesh::System::write_serialized_vector()</a>.</p>
<div class="fragment"><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;{</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  std::string comment;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="comment">// PerfLog pl(&quot;IO Performance&quot;,false);</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="comment">// pl.push(&quot;write_serialized_data&quot;);</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">// std::size_t total_written_size = 0;</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  <span class="comment">// total_written_size +=</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  this-&gt;<a class="code" href="classlibMesh_1_1System.html#af52b1ef2c1ca40cbfd991a87bc21dab1">write_serialized_vector</a>(io, *this-&gt;<a class="code" href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">solution</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      comment = <span class="stringliteral">&quot;# System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      comment += <span class="stringliteral">&quot;\&quot; Solution Vector&quot;</span>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      io.comment (comment);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <span class="comment">// Only write additional vectors if wanted</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">if</span> (write_additional_data)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp; pair : this-&gt;<a class="code" href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">_vectors</a>)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;          <span class="comment">// total_written_size +=</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;          this-&gt;<a class="code" href="classlibMesh_1_1System.html#af52b1ef2c1ca40cbfd991a87bc21dab1">write_serialized_vector</a>(io, *pair.second);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;          <span class="comment">// set up the comment</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;            {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;              comment = <span class="stringliteral">&quot;# System \&quot;&quot;</span>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;              comment += this-&gt;<a class="code" href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">name</a>();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;              comment += <span class="stringliteral">&quot;\&quot; Additional Vector \&quot;&quot;</span>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;              comment += pair.first;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;              comment += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;              io.comment (comment);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        }</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="comment">// const Real</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="comment">//   dt   = pl.get_elapsed_time(),</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="comment">//   rate = total_written_size*sizeof(Number)/dt;</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">// libMesh::out &lt;&lt; &quot;Write &quot; &lt;&lt; total_written_size &lt;&lt; &quot; \&quot;Number\&quot; values\n&quot;</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Elapsed time = &quot; &lt;&lt; dt &lt;&lt; &#39;\n&#39;</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="comment">//     &lt;&lt; &quot; Rate = &quot; &lt;&lt; rate/1.e6 &lt;&lt; &quot;(MB/sec)\n\n&quot;;</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="comment">// pl.pop(&quot;write_serialized_data&quot;);</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// // test the new method</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="comment">// {</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="comment">//   std::vector&lt;std::string&gt; names;</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="comment">//   std::vector&lt;NumericVector&lt;Number&gt; *&gt; vectors_to_write;</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="comment">//   names.push_back(&quot;Solution Vector&quot;);</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="comment">//   vectors_to_write.push_back(this-&gt;solution.get());</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="comment">//   // Only write additional vectors if wanted</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="comment">//   if (write_additional_data)</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="comment">//     {</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  <span class="comment">// std::map&lt;std::string, NumericVector&lt;Number&gt; *&gt;::const_iterator</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="comment">//   pos = _vectors.begin();</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="comment">// for (; pos != this-&gt;_vectors.end(); ++pos)</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  <span class="comment">//   {</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="comment">//     names.push_back(&quot;Additional Vector &quot; + pos-&gt;first);</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="comment">//     vectors_to_write.push_back(pos-&gt;second);</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="comment">//   }</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="comment">//     }</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="comment">//   total_written_size =</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  <span class="comment">//     this-&gt;write_serialized_vectors (io, names, vectors_to_write);</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">//   const Real</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="comment">//     dt2   = pl.get_elapsed_time(),</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">//     rate2 = total_written_size*sizeof(Number)/(dt2-dt);</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="comment">//   libMesh::out &lt;&lt; &quot;Write (new) &quot; &lt;&lt; total_written_size &lt;&lt; &quot; \&quot;Number\&quot; values\n&quot;</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">//       &lt;&lt; &quot; Elapsed time = &quot; &lt;&lt; (dt2-dt) &lt;&lt; &#39;\n&#39;</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="comment">//       &lt;&lt; &quot; Rate = &quot; &lt;&lt; rate2/1.e6 &lt;&lt; &quot;(MB/sec)\n\n&quot;;</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;}</div>
<div class="ttc" id="classlibMesh_1_1System_html_a3cde4951695957120dfe00838c191f65"><div class="ttname"><a href="classlibMesh_1_1System.html#a3cde4951695957120dfe00838c191f65">libMesh::System::_vectors</a></div><div class="ttdeci">std::map&lt; std::string, std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt;, std::less&lt;&gt; &gt; _vectors</div><div class="ttdoc">Some systems need an arbitrary number of vectors. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02164">system.h:2164</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af80f6b2e508821ebd9c8fcb78d443f18"><div class="ttname"><a href="classlibMesh_1_1System.html#af80f6b2e508821ebd9c8fcb78d443f18">libMesh::System::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02261">system.h:2261</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aa07e1093c49fa5f0877488d3351f4c86"><div class="ttname"><a href="classlibMesh_1_1System.html#aa07e1093c49fa5f0877488d3351f4c86">libMesh::System::solution</a></div><div class="ttdeci">std::unique_ptr&lt; NumericVector&lt; Number &gt; &gt; solution</div><div class="ttdoc">Data structure to hold solution values. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l01573">system.h:1573</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_af52b1ef2c1ca40cbfd991a87bc21dab1"><div class="ttname"><a href="classlibMesh_1_1System.html#af52b1ef2c1ca40cbfd991a87bc21dab1">libMesh::System::write_serialized_vector</a></div><div class="ttdeci">dof_id_type write_serialized_vector(Xdr &amp;io, const NumericVector&lt; Number &gt; &amp;vec) const </div><div class="ttdoc">Writes a vector for this System. </div><div class="ttdef"><b>Definition:</b> <a href="system__io_8C_source.html#l02118">system_io.C:2118</a></div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78e7f637e7f7008915b61c142eb36a4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t libMesh::System::write_serialized_vectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1Xdr.html">Xdr</a> &amp;&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; const <a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; * &gt; &amp;&#160;</td>
          <td class="paramname"><em>vectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Serialize &amp; write a number of identically distributed vectors. </p>
<p>This method allows for optimization for the multiple vector case by only communicating the metadata once. </p>

<p>在文件 <a class="el" href="system__io_8C_source.html">system_io.C</a> 第 <a class="el" href="system__io_8C_source.html#l02259">2259</a> 行定义.</p>

<p>参考 <a class="el" href="xdr__cxx_8C_source.html#l00780">libMesh::Xdr::data()</a>, <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert()</a>, <a class="el" href="int__range_8h_source.html#l00134">libMesh::make_range()</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem()</a>, <a class="el" href="mesh__tools_8C_source.html#l00850">libMesh::MeshTools::n_elem()</a>, <a class="el" href="tecplot__io_8C_source.html#l00067">n_nodes</a>, <a class="el" href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">libMesh::MeshBase::n_nodes()</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a>, <a class="el" href="enum__fe__family_8h_source.html#l00058">libMesh::SCALAR</a>, <a class="el" href="system_8h_source.html#l02377">libMesh::System::variable()</a>, <a class="el" href="system__io_8C_source.html#l02062">libMesh::System::write_SCALAR_dofs()</a>, <a class="el" href="system__io_8C_source.html#l01776">libMesh::System::write_serialized_blocked_dof_objects()</a> , 以及 <a class="el" href="xdr__cxx_8h_source.html#l00129">libMesh::Xdr::writing()</a>.</p>
<div class="fragment"><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;{</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  parallel_object_only();</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <a class="code" href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libmesh_assert</a> (io.writing());</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="comment">// Cache these - they are not free!</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a>       = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">n_nodes</a>(),</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <a class="code" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a>        = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().<a class="code" href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">n_elem</a>();</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  std::size_t written_length = 0;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">processor_id</a>() == 0)</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        n_vec    = cast_int&lt;unsigned int&gt;(vectors.size());</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;      <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        vec_size = vectors.empty() ? 0 : vectors[0]-&gt;size();</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="comment">// Set the number of vectors</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      io.data(n_vec, <span class="stringliteral">&quot;# number of vectors&quot;</span>);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <span class="comment">// Set the buffer size</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      io.data(vec_size, <span class="stringliteral">&quot;# vector length&quot;</span>);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="comment">//---------------------------------</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="comment">// Collect the values for all nodes</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  written_length +=</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#acdd9f5f027120e9fc0d853c2c36d1eaa">write_serialized_blocked_dof_objects</a> (vectors,</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                                                n_nodes,</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                                                this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_begin(),</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                                                this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_nodes_end(),</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                                                io);</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="comment">//------------------------------------</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// Collect the values for all elements</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  written_length +=</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    this-&gt;<a class="code" href="classlibMesh_1_1System.html#acdd9f5f027120e9fc0d853c2c36d1eaa">write_serialized_blocked_dof_objects</a> (vectors,</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                                                <a class="code" href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">n_elem</a>,</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                                                this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_begin(),</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                                                this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>().local_elements_end(),</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                                                io);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">//-------------------------------------------</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// Finally loop over all the SCALAR variables</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">NumericVector&lt;Number&gt;</a> * vec : vectors)</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> var : <a class="code" href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">make_range</a>(this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>()))</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">variable</a>(var).type().family == <a class="code" href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">SCALAR</a>)</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;          libmesh_assert_not_equal_to (vec, 0);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;          written_length +=</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;            this-&gt;<a class="code" href="classlibMesh_1_1System.html#a25f805c53b81067c6460dad96d0eb8f6">write_SCALAR_dofs</a> (*vec, var, io);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">return</span> written_length;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;}</div>
<div class="ttc" id="namespacelibMesh_html_abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c"><div class="ttname"><a href="namespacelibMesh.html#abcdbcd8364bf9fb7a67b3b4013031b2daefdbf95da65edcfa0cdb6c10eac5482c">libMesh::SCALAR</a></div><div class="ttdef"><b>Definition:</b> <a href="enum__fe__family_8h_source.html#l00058">enum_fe_family.h:58</a></div></div>
<div class="ttc" id="namespacelibMesh_1_1MeshTools_html_a20881e0b5de5ef63808dd24d90e70b2a"><div class="ttname"><a href="namespacelibMesh_1_1MeshTools.html#a20881e0b5de5ef63808dd24d90e70b2a">libMesh::MeshTools::n_elem</a></div><div class="ttdeci">dof_id_type n_elem(const MeshBase::const_element_iterator &amp;begin, const MeshBase::const_element_iterator &amp;end)</div><div class="ttdoc">Count up the number of elements of a specific type (as defined by an iterator range). </div><div class="ttdef"><b>Definition:</b> <a href="mesh__tools_8C_source.html#l00850">mesh_tools.C:850</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a25f805c53b81067c6460dad96d0eb8f6"><div class="ttname"><a href="classlibMesh_1_1System.html#a25f805c53b81067c6460dad96d0eb8f6">libMesh::System::write_SCALAR_dofs</a></div><div class="ttdeci">unsigned int write_SCALAR_dofs(const NumericVector&lt; Number &gt; &amp;vec, const unsigned int var, Xdr &amp;io) const </div><div class="ttdoc">Writes the SCALAR dofs associated with var to the stream io. </div><div class="ttdef"><b>Definition:</b> <a href="system__io_8C_source.html#l02062">system_io.C:2062</a></div></div>
<div class="ttc" id="tecplot__io_8C_html_ae4aba5fa8c8579c6576b4f087aefb091"><div class="ttname"><a href="tecplot__io_8C.html#ae4aba5fa8c8579c6576b4f087aefb091">n_nodes</a></div><div class="ttdeci">const dof_id_type n_nodes</div><div class="ttdef"><b>Definition:</b> <a href="tecplot__io_8C_source.html#l00067">tecplot_io.C:67</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a56d89ed534ffce5eda02dc0137583b56"><div class="ttname"><a href="classlibMesh_1_1System.html#a56d89ed534ffce5eda02dc0137583b56">libMesh::System::variable</a></div><div class="ttdeci">const Variable &amp; variable(unsigned int var) const </div><div class="ttdoc">Return a constant reference to Variable var. </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02377">system.h:2377</a></div></div>
<div class="ttc" id="namespacelibMesh_html_a4f791f2cb1525c37e7916d564c3b3b78"><div class="ttname"><a href="namespacelibMesh.html#a4f791f2cb1525c37e7916d564c3b3b78">libMesh::libmesh_assert</a></div><div class="ttdeci">libmesh_assert(ctx)</div></div>
<div class="ttc" id="namespacelibMesh_html_a18dea64f5cc7fa12c864d7571bb69d0b"><div class="ttname"><a href="namespacelibMesh.html#a18dea64f5cc7fa12c864d7571bb69d0b">libMesh::make_range</a></div><div class="ttdeci">IntRange&lt; T &gt; make_range(T beg, T end)</div><div class="ttdoc">The 2-parameter make_range() helper function returns an IntRange&amp;lt;T&amp;gt; when both input parameters are of...</div><div class="ttdef"><b>Definition:</b> <a href="int__range_8h_source.html#l00134">int_range.h:134</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_acdd9f5f027120e9fc0d853c2c36d1eaa"><div class="ttname"><a href="classlibMesh_1_1System.html#acdd9f5f027120e9fc0d853c2c36d1eaa">libMesh::System::write_serialized_blocked_dof_objects</a></div><div class="ttdeci">std::size_t write_serialized_blocked_dof_objects(const std::vector&lt; const NumericVector&lt; Number &gt; * &gt; &amp;vecs, const dof_id_type n_objects, const iterator_type begin, const iterator_type end, Xdr &amp;io, const unsigned int var_to_write=libMesh::invalid_uint) const </div><div class="ttdoc">Writes an output vector to the stream io for a set of DofObjects. </div><div class="ttdef"><b>Definition:</b> <a href="system__io_8C_source.html#l01776">system_io.C:1776</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a190e556d3be87f5ccd8d4fc98d1779d3"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a190e556d3be87f5ccd8d4fc98d1779d3">libMesh::MeshBase::n_elem</a></div><div class="ttdeci">virtual dof_id_type n_elem() const =0</div></div>
<div class="ttc" id="namespacelibMesh_html_af63481288585b5ba172278c33c726667"><div class="ttname"><a href="namespacelibMesh.html#af63481288585b5ba172278c33c726667">libMesh::NumericVector&lt; Number &gt;</a></div><div class="ttdeci">template class LIBMESH_EXPORT NumericVector&lt; Number &gt;</div><div class="ttdef"><b>Definition:</b> <a href="numeric__vector_8C_source.html#l00436">numeric_vector.C:436</a></div></div>
<div class="ttc" id="classlibMesh_1_1MeshBase_html_a5b76b109bc6bd087c981774897aa6167"><div class="ttname"><a href="classlibMesh_1_1MeshBase.html#a5b76b109bc6bd087c981774897aa6167">libMesh::MeshBase::n_nodes</a></div><div class="ttdeci">virtual dof_id_type n_nodes() const =0</div></div>
<div class="ttc" id="classlibMesh_1_1ParallelObject_html_ae1e7d1a1118f63d9889a761c27433bbc"><div class="ttname"><a href="classlibMesh_1_1ParallelObject.html#ae1e7d1a1118f63d9889a761c27433bbc">libMesh::ParallelObject::processor_id</a></div><div class="ttdeci">processor_id_type processor_id() const </div><div class="ttdef"><b>Definition:</b> <a href="parallel__object_8h_source.html#l00114">parallel_object.h:114</a></div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1768b0db365db97ce4486167dca4efff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libMesh::System::zero_variable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt; <a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>var_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Zeroes all dofs in <code>v</code> that correspond to variable number <code>var_num</code>. </p>

<p>在文件 <a class="el" href="system_8C_source.html">system.C</a> 第 <a class="el" href="system_8C_source.html#l01615">1615</a> 行定义.</p>

<p>参考 <a class="el" href="system_8h_source.html#l02277">libMesh::System::get_mesh()</a>, <a class="el" href="mesh__communication_8C_source.html#l01308">mesh</a>, <a class="el" href="system_8h_source.html#l02349">libMesh::System::n_vars()</a>, <a class="el" href="system_8h_source.html#l02269">libMesh::System::number()</a> , 以及 <a class="el" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">libMesh::NumericVector&lt; T &gt;::set()</a>.</p>
<div class="fragment"><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;{</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="comment">/* Make sure the call makes sense.  */</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  libmesh_assert_less (var_num, this-&gt;<a class="code" href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">n_vars</a>());</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="comment">/* Get a reference to the mesh.  */</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keyword">const</span> MeshBase &amp; <a class="code" href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a> = this-&gt;<a class="code" href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">get_mesh</a>();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="comment">/* Check which system we are.  */</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sys_num = this-&gt;<a class="code" href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">number</a>();</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="comment">// Loop over nodes.</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; node : mesh.local_node_ptr_range())</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_comp = node-&gt;n_comp(sys_num,var_num);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_comp; i++)</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> index = node-&gt;dof_number(sys_num,var_num,i);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;          v.<a class="code" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">set</a>(index,0.0);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    }</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;  <span class="comment">// Loop over elements.</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp; elem : mesh.active_local_element_ptr_range())</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_comp = elem-&gt;n_comp(sys_num,var_num);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_comp; i++)</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">dof_id_type</a> index = elem-&gt;dof_number(sys_num,var_num,i);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;          v.<a class="code" href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">set</a>(index,0.0);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    }</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;}</div>
<div class="ttc" id="mesh__communication_8C_html_afaa03b874c297f4693d9cdef7f50f3c6"><div class="ttname"><a href="mesh__communication_8C.html#afaa03b874c297f4693d9cdef7f50f3c6">mesh</a></div><div class="ttdeci">MeshBase &amp; mesh</div><div class="ttdef"><b>Definition:</b> <a href="mesh__communication_8C_source.html#l01308">mesh_communication.C:1308</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a39141a08afe4e0334c21035de6f0b7a3"><div class="ttname"><a href="classlibMesh_1_1System.html#a39141a08afe4e0334c21035de6f0b7a3">libMesh::System::get_mesh</a></div><div class="ttdeci">const MeshBase &amp; get_mesh() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02277">system.h:2277</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_aee5caacb487b070842733f1c84b9a2fd"><div class="ttname"><a href="classlibMesh_1_1System.html#aee5caacb487b070842733f1c84b9a2fd">libMesh::System::number</a></div><div class="ttdeci">unsigned int number() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02269">system.h:2269</a></div></div>
<div class="ttc" id="classlibMesh_1_1System_html_a4cf032eda109fe32a7fcde672ef5726e"><div class="ttname"><a href="classlibMesh_1_1System.html#a4cf032eda109fe32a7fcde672ef5726e">libMesh::System::n_vars</a></div><div class="ttdeci">unsigned int n_vars() const </div><div class="ttdef"><b>Definition:</b> <a href="system_8h_source.html#l02349">system.h:2349</a></div></div>
<div class="ttc" id="classlibMesh_1_1NumericVector_html_a083d7b5e0efa633986bcd2b38bc0b053"><div class="ttname"><a href="classlibMesh_1_1NumericVector.html#a083d7b5e0efa633986bcd2b38bc0b053">libMesh::NumericVector::set</a></div><div class="ttdeci">virtual void set(const numeric_index_type i, const T value)=0</div><div class="ttdoc">设置 v(i) = value 。 请注意，此方法的库实现是线程安全的， 例如，将在写入向量之前锁定 _numeric_vector_mutex 。 </div></div>
<div class="ttc" id="namespacelibMesh_html_ab4541d74809228310a715b11c40587fc"><div class="ttname"><a href="namespacelibMesh.html#ab4541d74809228310a715b11c40587fc">libMesh::dof_id_type</a></div><div class="ttdeci">uint8_t dof_id_type</div><div class="ttdef"><b>Definition:</b> <a href="id__types_8h_source.html#l00067">id_types.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a class="anchor" id="a1ffb5b08919ab435109a302f94a7b3eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Parallel::Communicator&amp; libMesh::ParallelObject::_communicator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="parallel__object_8h_source.html">parallel_object.h</a> 第 <a class="el" href="parallel__object_8h_source.html#l00120">120</a> 行定义.</p>

<p>参考自 <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="parallel__object_8h_source.html#l00097">libMesh::ParallelObject::comm()</a>, <a class="el" href="parallel__object_8h_source.html#l00103">libMesh::ParallelObject::n_processors()</a>, <a class="el" href="parallel__object_8h_source.html#l00082">libMesh::ParallelObject::operator=()</a>, <a class="el" href="parallel__object_8h_source.html#l00114">libMesh::ParallelObject::processor_id()</a> , 以及 <a class="el" href="boundary__info_8C_source.html#l00360">libMesh::BoundaryInfo::regenerate_id_sets()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fe2be97680d4d4540604db91d048e45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::_constrain_in_solver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>_constrain_in_solver默认为true；如果为false，则仅通过要解决的系统中的残差项应用约束。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00388">388</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__system_8h_source.html#l00352">libMesh::DifferentiableSystem::get_constrain_in_solver()</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00422">libMesh::DifferentiableSystem::set_constrain_in_solver()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c913252d05560f8bc7c75a63547c4c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ReferenceCounter.html#adb5daadc989c1fe71ec8d173adf0ed1e">ReferenceCounter::Counts</a> libMesh::ReferenceCounter::_counts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actually holds the data. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00124">124</a> 行定义.</p>

<p>参考自 <a class="el" href="reference__counter_8C_source.html#l00047">libMesh::ReferenceCounter::get_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f75e8a4a280f2c41636f2ae1307a311"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::ReferenceCounter::_enable_print_counter = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag to control whether reference count information is printed when print_info is called. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00143">143</a> 行定义.</p>

<p>参考自 <a class="el" href="reference__counter_8C_source.html#l00100">libMesh::ReferenceCounter::disable_print_counter_info()</a>, <a class="el" href="reference__counter_8C_source.html#l00094">libMesh::ReferenceCounter::enable_print_counter_info()</a> , 以及 <a class="el" href="reference__counter_8C_source.html#l00081">libMesh::ReferenceCounter::print_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a73bc59adf0ae024a9216bdc0db2d5b2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;unsigned int&gt; libMesh::DifferentiablePhysics::_first_order_vars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a> indices for those variables that are first order in time. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00548">548</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00506">libMesh::DifferentiablePhysics::get_first_order_vars()</a>, <a class="el" href="diff__physics_8h_source.html#l00500">libMesh::DifferentiablePhysics::have_first_order_vars()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00509">libMesh::DifferentiablePhysics::is_first_order_var()</a>.</p>

</div>
</div>
<a class="anchor" id="ae762bdeb8c1e819ebf8b09d6a867fff3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1System.html">System</a>* libMesh::DifferentiablePhysics::_mesh_sys</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibMesh_1_1System.html" title="Manages consistently variables, degrees of freedom, and coefficient vectors. ">System</a> from which to acquire moving mesh information. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00531">531</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00613">libMesh::DifferentiablePhysics::get_mesh_system()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01087">libMesh::FEMSystem::mesh_position_set()</a>, <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00569">libMesh::DifferentiablePhysics::set_mesh_system()</a>.</p>

</div>
</div>
<a class="anchor" id="a4125b3fcf1dd38b4f1a70e56bac0e2fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::_mesh_x_var</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Variables from which to acquire moving mesh information. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00536">536</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00625">libMesh::DifferentiablePhysics::get_mesh_x_var()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00589">libMesh::DifferentiablePhysics::set_mesh_x_var()</a>.</p>

</div>
</div>
<a class="anchor" id="a3102589faec7aa5752b4f605d5e2283e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::_mesh_y_var</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00536">536</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00631">libMesh::DifferentiablePhysics::get_mesh_y_var()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00597">libMesh::DifferentiablePhysics::set_mesh_y_var()</a>.</p>

</div>
</div>
<a class="anchor" id="a081fe25766a214bc0d22f86d114258c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::DifferentiablePhysics::_mesh_z_var</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00536">536</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00637">libMesh::DifferentiablePhysics::get_mesh_z_var()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00605">libMesh::DifferentiablePhysics::set_mesh_z_var()</a>.</p>

</div>
</div>
<a class="anchor" id="abedbd3a4ce19686187449a8a0557b74b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1Threads_1_1spin__mutex.html">Threads::spin_mutex</a> libMesh::ReferenceCounter::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutual exclusion object to enable thread-safe reference counting. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00137">137</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ad2c30f0f71dcd00f00faa8e46aa3e043"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1Threads_1_1atomic.html">Threads::atomic</a>&lt; unsigned int &gt; libMesh::ReferenceCounter::_n_objects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of objects. </p>
<p>Print the reference count information when the number returns to 0. </p>

<p>在文件 <a class="el" href="reference__counter_8h_source.html">reference_counter.h</a> 第 <a class="el" href="reference__counter_8h_source.html#l00132">132</a> 行定义.</p>

<p>参考自 <a class="el" href="reference__counter_8h_source.html#l00085">libMesh::ReferenceCounter::n_objects()</a>, <a class="el" href="reference__counter_8h_source.html#l00150">libMesh::ReferenceCounter::ReferenceCounter()</a> , 以及 <a class="el" href="reference__counter_8h_source.html#l00171">libMesh::ReferenceCounter::~ReferenceCounter()</a>.</p>

</div>
</div>
<a class="anchor" id="aceea2499be3300c82d5d2d371a0b5b47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;unsigned int,unsigned int&gt; libMesh::DifferentiablePhysics::_second_order_dot_vars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the user adds any second order variables, then we need to also cache the map to their corresponding dot variable that will be added by this <a class="el" href="classlibMesh_1_1TimeSolver.html" title="This is a generic class that defines a solver to handle time integration of DifferentiableSystems. ">TimeSolver</a> class. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00560">560</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00182">libMesh::DifferentiableSystem::add_second_order_dot_vars()</a> , 以及 <a class="el" href="diff__system_8C_source.html#l00306">libMesh::DifferentiableSystem::get_second_order_dot_var()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3139300c2d5ae16077aa17ff4079384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;unsigned int&gt; libMesh::DifferentiablePhysics::_second_order_vars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibMesh_1_1Variable.html" title="This class defines the notion of a variable in the system. ">Variable</a> indices for those variables that are second order in time. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00553">553</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00519">libMesh::DifferentiablePhysics::get_second_order_vars()</a>, <a class="el" href="diff__physics_8h_source.html#l00513">libMesh::DifferentiablePhysics::have_second_order_vars()</a> , 以及 <a class="el" href="diff__physics_8h_source.html#l00522">libMesh::DifferentiablePhysics::is_second_order_var()</a>.</p>

</div>
</div>
<a class="anchor" id="ab885946dc9eac4b63d57921f991bea33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;unsigned int&gt; libMesh::DifferentiablePhysics::_time_evolving</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores unsigned int to tell us which variables are evolving as first order in time (1), second order in time (2), or are not time evolving (0). </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00543">543</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__physics_8h_source.html#l00260">libMesh::DifferentiablePhysics::is_time_evolving()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b24ccb769399c64405e8f8a52491e70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::assemble_before_solve</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag which tells the system to whether or not to call the user assembly function during each call to <a class="el" href="classlibMesh_1_1System.html#aacf68435a0f50e1c434ff38ba0a54ff1" title="Solves the system. ">solve()</a>. </p>
<p>By default, every call to <a class="el" href="classlibMesh_1_1System.html#aacf68435a0f50e1c434ff38ba0a54ff1" title="Solves the system. ">solve()</a> begins with a call to the user assemble, so this flag is true. (For explicit systems, "solving" the system occurs during the assembly step, so this flag is always true for explicit systems.)</p>
<p>You will only want to set this to false if you need direct control over when the system is assembled, and are willing to track the state of its assembly yourself. An example of such a case is an implicit system with multiple right hand sides. In this instance, a single assembly would likely be followed with multiple calls to solve.</p>
<p>The frequency system and Newmark system have their own versions of this flag, called _finished_assemble, which might be able to be replaced with this more general concept. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01527">1527</a> 行定义.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="implicit__system_8C_source.html#l00105">libMesh::ImplicitSystem::disable_cache()</a>, <a class="el" href="system_8h_source.html#l02513">libMesh::System::disable_cache()</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="eigen__system_8C_source.html#l00209">libMesh::EigenSystem::solve()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00092">libMesh::CondensedEigenSystem::solve()</a> , 以及 <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a6183cb4c8ec75878a6927f40595b32a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableQoI::assemble_qoi_elements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>assemble_qoi_elements</code> is false (it is true by default), the assembly loop for a quantity of interest or its derivatives will skip computing on mesh elements, and will only compute on mesh sides. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00115">115</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ac6c239e62c1703fa2b8c9a3bfe8d1753"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableQoI::assemble_qoi_internal_sides</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>assemble_qoi_internal_sides</code> is true (it is false by default), the assembly loop for a quantity of interest or its derivatives will loop over element sides which do not fall on domain boundaries. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00107">107</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a7e0491aeab55b398a282d76c9fc94de1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableQoI::assemble_qoi_sides</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If <code>assemble_qoi_sides</code> is true (it is false by default), the assembly loop for a quantity of interest or its derivatives will loop over domain boundary sides. </p>
<p>To add domain interior sides, also set assemble_qoi_internal_sides to true. </p>

<p>在文件 <a class="el" href="diff__qoi_8h_source.html">diff_qoi.h</a> 第 <a class="el" href="diff__qoi_8h_source.html#l00099">99</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a4e217fd5c9b6dff26ef83742a7e7dea9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiablePhysics::compute_internal_sides</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>compute_internal_sides</code> is false by default, indicating that side_* computations will only be done on boundary sides. </p>
<p>If compute_internal_sides is true, computations will be done on sides between elements as well. </p>

<p>在文件 <a class="el" href="diff__physics_8h_source.html">diff_physics.h</a> 第 <a class="el" href="diff__physics_8h_source.html#l00156">156</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a95e4e1ac0b0db34b8ca3011ae221ed80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a>* libMesh::ContinuationSystem::continuation_parameter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>延拓参数必须是派生类的成员变量，这里定义的"continuation_parameter"指针必须是指向该变量的指针。这是延拓系统更新派生类的延拓参数的方式。 在代码注释中有时也称为"lambda"。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00111">111</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01364">save_current_solution()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2b62535acc9fb37c6f699a8a649fd6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double libMesh::ContinuationSystem::continuation_parameter_tolerance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>牛顿迭代尝试收敛delta_lambda的程度。默认为1.e-6。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00129">129</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a2554af18e189214007827b04f17ba017"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt; libMesh::System::current_local_solution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All the values I need to compute my contribution to the simulation at hand. </p>
<p>Think of this as the current solution with any ghost values needed from other processors. This vector is necessarily larger than the <code>solution</code> vector in the case of a parallel simulation. The <code><a class="el" href="classlibMesh_1_1System.html#ab9d81ac9c1787c43fb87cf13d37741ee" title="Update the local values to reflect the solution on neighboring processors. ">update()</a></code> member is used to synchronize the contents of the <code>solution</code> and <code>current_local_solution</code> vectors. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01585">1585</a> 行定义.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00225">libMesh::NonlinearImplicitSystem::assembly()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="system_8C_source.html#l00167">libMesh::System::clear()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00152">libMesh::Problem_Interface::computeJacobian()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00215">libMesh::Problem_Interface::computePreconditioner()</a>, <a class="el" href="system_8C_source.html#l00156">libMesh::System::current_solution()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00256">libMesh::libmesh_petsc_snes_fd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00309">libMesh::libmesh_petsc_snes_mffd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00054">libMesh::libmesh_petsc_snes_residual_helper()</a>, <a class="el" href="system_8C_source.html#l02520">libMesh::System::point_gradient()</a>, <a class="el" href="system_8C_source.html#l02663">libMesh::System::point_hessian()</a>, <a class="el" href="system_8C_source.html#l02390">libMesh::System::point_value()</a>, <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>, <a class="el" href="system_8C_source.html#l00515">libMesh::System::re_update()</a>, <a class="el" href="system_8C_source.html#l00445">libMesh::System::reinit()</a>, <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>, <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a>, <a class="el" href="nemesis__io__helper_8C_source.html#l02632">libMesh::Nemesis_IO_Helper::write_element_values()</a> , 以及 <a class="el" href="nemesis__io__helper_8C_source.html#l02452">libMesh::Nemesis_IO_Helper::write_nodal_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b792f8f71393719e56312995d863b04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::DifferentiableSystem::deltat</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>对于时变问题，这是将解决方案在时间上推进<code>deltat的量。</code> </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00254">254</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00102">libMesh::EulerSolver::_general_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00103">libMesh::Euler2Solver::_general_residual()</a>, <a class="el" href="newmark__solver_8C_source.html#l00203">libMesh::NewmarkSolver::_general_residual()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00228">libMesh::UnsteadySolver::adjoint_solve()</a>, <a class="el" href="newmark__solver_8C_source.html#l00044">libMesh::NewmarkSolver::advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00192">libMesh::UnsteadySolver::advance_timestep()</a>, <a class="el" href="fem__system_8C_source.html#l01346">libMesh::FEMSystem::build_context()</a>, <a class="el" href="diff__system_8C_source.html#l00123">libMesh::DifferentiableSystem::build_context()</a>, <a class="el" href="fem__system_8C_source.html#l01370">libMesh::FEMSystem::init_context()</a>, <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00280">libMesh::UnsteadySolver::integrate_adjoint_sensitivity()</a>, <a class="el" href="euler2__solver_8C_source.html#l00264">libMesh::Euler2Solver::integrate_qoi_timestep()</a>, <a class="el" href="euler__solver_8C_source.html#l00196">libMesh::EulerSolver::integrate_qoi_timestep()</a>, <a class="el" href="memory__solution__history_8C_source.html#l00087">libMesh::MemorySolutionHistory::retrieve()</a>, <a class="el" href="file__solution__history_8C_source.html#l00116">libMesh::FileSolutionHistory::retrieve()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00054">libMesh::TwostepTimeSolver::solve()</a> , 以及 <a class="el" href="unsteady__solver_8C_source.html#l00127">libMesh::UnsteadySolver::solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cc77804ea5ef5dde638fe522aeed6a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::ds_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>允许的最小步长，默认为1.e-8。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00232">232</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a542ed3d4e4dbd55f3d4c840c625f9307"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ContinuationSystem::du_ds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>延拓算法使用的额外工作向量。 这些是由init_data()例程添加到系统中的。 </p>
<p>"解"切线向量du/ds。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00307">307</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>.</p>

</div>
</div>
<a class="anchor" id="a078ffa703ae75f9e2505b4177af2e530"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libMesh::System::extra_quadrature_order</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A member int that can be employed to indicate increased or reduced quadrature order. </p>
<dl class="section note"><dt>注解</dt><dd>For <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> users, by default, when calling the user-defined residual functions, the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will first set up an appropriate <a class="el" href="classlibMesh_1_1FEType.html#a79b3396e1e33caa745e2f09402b1f40b">FEType::default_quadrature_rule()</a> object for performing the integration. This rule will integrate elements of order up to 2*p+1 exactly (where p is the sum of the base <a class="el" href="classlibMesh_1_1FEType.html" title="class FEType hides (possibly multiple) FEFamily and approximation orders, thereby enabling specialize...">FEType</a> and local p refinement levels), but if additional (or reduced) quadrature accuracy is desired then this extra_quadrature_order (default 0) will be added. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01558">1558</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a267ad32ebc39d8f8a966682615e28dae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::FEMSystem::fe_reinit_during_postprocess</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If fe_reinit_during_postprocess is true (it is true by default), <a class="el" href="classlibMesh_1_1FE.html" title="A specific instantiation of the FEBase class. ">FE</a> objects will be <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aed043f850ff7f4b5b6ccbd53f9b6c3e1" title="重新初始化与系统关联的成员数据字段，以便，例如，可以使用assemble()。 ">reinit()</a>ed with their default quadrature rules. </p>
<p>If false, <a class="el" href="classlibMesh_1_1FE.html" title="A specific instantiation of the FEBase class. ">FE</a> objects will need to be <a class="el" href="classlibMesh_1_1DifferentiableSystem.html#aed043f850ff7f4b5b6ccbd53f9b6c3e1" title="重新初始化与系统关联的成员数据字段，以便，例如，可以使用assemble()。 ">reinit()</a>ed by the user or will be in an undefined state. </p>

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00176">176</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a91eea11b31b452f37de66e006b8e4abd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double libMesh::ContinuationSystem::initial_newton_tolerance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在第一（不精确）牛顿步中尝试减少残差的程度。这通常是在不精确的牛顿方法中的一个较大的值，比如1/2，以防止过度求解。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00139">139</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="add942ac69c43a1c5e578620a003a75fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1LinearSolver.html">LinearSolver</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt; libMesh::ImplicitSystem::linear_solver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This class handles all the details of interfacing with various linear algebra packages like PETSc or LASPACK. </p>
<p>This is a public member for backwards compatibility reasons, but in general it's better to use <a class="el" href="classlibMesh_1_1ImplicitSystem.html#a46cae8e0c970cc71f4d3993432d60e5e">get_linear_solver()</a> to access this member, since that function will also handle initialization if it hasn't already been taken care of. </p>

<p>在文件 <a class="el" href="implicit__system_8h_source.html">implicit_system.h</a> 第 <a class="el" href="implicit__system_8h_source.html#l00336">336</a> 行定义.</p>

<p>参考自 <a class="el" href="linear__implicit__system_8C_source.html#l00058">libMesh::LinearImplicitSystem::clear()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00030">ContinuationSystem()</a>, <a class="el" href="implicit__system_8C_source.html#l01188">libMesh::ImplicitSystem::get_linear_solver()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00352">libMesh::LinearImplicitSystem::get_linear_solver()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00071">libMesh::LinearImplicitSystem::init_data()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00035">libMesh::LinearImplicitSystem::LinearImplicitSystem()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00082">libMesh::LinearImplicitSystem::reinit()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>.</p>

</div>
</div>
<a class="anchor" id="a549bd875b4fc99cbd5d1f7ba169feca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1SparseMatrix.html">SparseMatrix</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ImplicitSystem::matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The system matrix. </p>
<p>Implicit systems are characterized by the need to solve the linear system Ax=b. This is the system matrix A.</p>
<p>Public access to this member variable will be deprecated in the future! Use <a class="el" href="classlibMesh_1_1ImplicitSystem.html#acd6d42609f4e905614adce2cfe4ce56e">get_system_matrix()</a> instead. </p>

<p>在文件 <a class="el" href="implicit__system_8h_source.html">implicit_system.h</a> 第 <a class="el" href="implicit__system_8h_source.html#l00319">319</a> 行定义.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="implicit__system_8C_source.html#l00086">libMesh::ImplicitSystem::add_matrices()</a>, <a class="el" href="implicit__system_8C_source.html#l00169">libMesh::ImplicitSystem::adjoint_solve()</a>, <a class="el" href="implicit__system_8C_source.html#l00067">libMesh::ImplicitSystem::assemble()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00359">libMesh::LinearImplicitSystem::assembly()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00225">libMesh::NonlinearImplicitSystem::assembly()</a>, <a class="el" href="implicit__system_8C_source.html#l00056">libMesh::ImplicitSystem::clear()</a>, <a class="el" href="newmark__system_8C_source.html#l00161">libMesh::NewmarkSystem::compute_matrix()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00829">DMCreateMatrix_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03260">libMesh::DofMap::enforce_constraints_on_jacobian()</a>, <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="implicit__system_8C_source.html#l01230">libMesh::ImplicitSystem::get_system_matrix()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>, <a class="el" href="implicit__system_8C_source.html#l00113">libMesh::ImplicitSystem::sensitivity_solve()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00287">libMesh::PetscDiffSolver::solve()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00296">libMesh::NoxNonlinearSolver&lt; T &gt;::solve()</a>, <a class="el" href="eigen__time__solver_8C_source.html#l00067">libMesh::EigenTimeSolver::solve()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00173">libMesh::NonlinearImplicitSystem::solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>, <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a69d569bd9b652d24df1fbc9bd2c9c54a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::max_continuation_parameter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>延拓参数的最大允许值。如果延拓参数超过此值，牛顿迭代将停止。如果此值为零，则延拓参数没有最大值。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00159">159</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c926e951ebf781dd05157295532a833"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::min_continuation_parameter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>延拓参数的最小允许值。如果延拓参数低于此值，牛顿迭代将停止。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00154">154</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a460a40fa157a8a02291bf801855da11a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::ContinuationSystem::n_arclength_reductions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>当牛顿无法减少残差时尝试的弧长缩减次数。对于每个弧长缩减，弧步大小减半。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00227">227</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="aecb2c9bf8e35299c02a1fb768082f8cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::ContinuationSystem::n_backtrack_steps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>牛顿迭代内尝试的后退步数，如果牛顿步没有减小残差。 这是在*单个*牛顿步内后退，如果要尝试较小的弧步，请设置n_arclength_reductions &gt; 0。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00222">222</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a8723254d749f107d589deffb4eae4f5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::ContinuationSystem::newton_progress_check</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>另一个由LOCA人员建议的缩放参数。这个参数试图在前两个切线向量之间的角度变大时缩小步长ds。 </p>
<p>如果牛顿步未减少*初始*残差，一旦过去了一半的允许迭代次数，牛顿进度检查允许牛顿循环提前退出。 按着经验，这通常意味着牛顿迭代最终会不收敛，可以通过提前退出来节省一些时间。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00180">180</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="abb52b3e342e9ce329a7e4bfeab1487bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libMesh::ContinuationSystem::newton_step</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>非线性（牛顿）迭代循环的循环计数器。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00185">185</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="ad499324a7a490ad9a4777fd48bfca048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::newton_stepgrowth_aggressiveness</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>基于所需的牛顿迭代次数尝试增长弧长步长的程度的度量。 默认值为1.0，如果设置为零，则不尝试基于所需的牛顿迭代次数增加或减小弧长步长。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00216">216</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a73b4c7f9f81fc10f215caf1f4799664a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::FEMSystem::numerical_jacobian_h</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If calculating numeric jacobians is required, the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will perturb each solution vector entry by numerical_jacobian_h when calculating finite differences. </p>
<p>This defaults to the <a class="el" href="namespacelibMesh.html" title="The libMesh namespace provides an interface to certain functionality in the library. ">libMesh</a> TOLERANCE but can be set manually.</p>
<p>For ALE terms, the <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> will perturb each mesh point in an element by numerical_jacobian_h * <a class="el" href="classlibMesh_1_1Elem.html#af7712d01779f053ea14d49b017c54828">Elem::hmin()</a> </p>

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00187">187</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l01210">libMesh::FEMSystem::numerical_jacobian()</a> , 以及 <a class="el" href="fem__system_8h_source.html#l00265">libMesh::FEMSystem::numerical_jacobian_h_for_var()</a>.</p>

</div>
</div>
<a class="anchor" id="ab77f90619bd7bc91484458fea937a7cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::old_continuation_parameter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>系统还跟踪延拓参数的旧值。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00149">149</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01364">save_current_solution()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a191ca6371747268974a5f108e7576873"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::postprocess_sides</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>如果<code>postprocess_sides为true（默认为false），则后处理循环将在所有边上以及所有元素上循环。</code> </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00300">300</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a172cfb334a843f73419f20ab5cde57a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#ac6985654cb1d70608920d8c77409c600">Predictor</a> libMesh::ContinuationSystem::predictor</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>预测器类型。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00210">210</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0f4570622a491f4879271fb6fb6ad08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ContinuationSystem::previous_du_ds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从上一个解中得到的du_ds的值。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00312">312</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>.</p>

</div>
</div>
<a class="anchor" id="ad90a5b948d2eb5a79853e6644a0b8b00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ContinuationSystem::previous_u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在先前值的延拓参数的解。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00317">317</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01364">save_current_solution()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a72254eda9b022410c946f7ca2008e83a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_element_jacobians</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_element_jacobians为true，以打印每个J_elem的贡献。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00345">345</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ae5baab19dc3bd6c230010730a23721ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_element_residuals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_element_residuals为true，以打印每个R_elem的贡献。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00340">340</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a95f8ce339287cd3b6d51124b9e5e7efc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_element_solutions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_element_solutions为true，以打印每个U_elem输入。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00335">335</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="aeaa7d80ca74e2494265f70a618989b6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_jacobian_norms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_jacobian_norms为true，以在组装时打印|J|。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00325">325</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b0878d8d6d40ef8cb6daad9e9915daf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_jacobians</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_jacobians为true，以在组装时打印J。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00330">330</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4fc23a36102eb56598d5bb528cacf0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_residual_norms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_residual_norms为true，以在组装时打印|F|。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00315">315</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="a1be85415f6f38f15a4e36a201abbfe1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_residuals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_residuals为true，以在组装时打印F。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00320">320</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="a724e8442b2bc0b3a07e5e82051ce7f9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_solution_norms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_residual_norms为true，以在组装()调用中使用时打印|U|。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00305">305</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="a94c17d5708132f067a3224019af8ce58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::DifferentiableSystem::print_solutions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置print_solutions为true，以在组装()调用中使用时打印U。 </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00310">310</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="a202486b5f0a3740de27e707d01ee892c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::ContinuationSystem::quiet</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>如果quiet==false，系统会打印有关其操作的额外信息。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00116">116</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01065">set_Theta()</a>, <a class="el" href="continuation__system_8C_source.html#l01135">set_Theta_LOCA()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a98fde3a02d1256dbc31891c88986bddc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ExplicitSystem::rhs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The system matrix. </p>
<p>Implicit systems are characterized by the need to solve the linear system Ax=b. This is the right-hand-side vector b. </p>

<p>在文件 <a class="el" href="explicit__system_8h_source.html">explicit_system.h</a> 第 <a class="el" href="explicit__system_8h_source.html#l00124">124</a> 行定义.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="explicit__system_8C_source.html#l00094">libMesh::ExplicitSystem::add_system_rhs()</a>, <a class="el" href="implicit__system_8C_source.html#l00067">libMesh::ImplicitSystem::assemble()</a>, <a class="el" href="implicit__system_8C_source.html#l00447">libMesh::ImplicitSystem::assemble_residual_derivatives()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00359">libMesh::LinearImplicitSystem::assembly()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00225">libMesh::NonlinearImplicitSystem::assembly()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03203">libMesh::DofMap::enforce_constraints_on_residual()</a>, <a class="el" href="implicit__system_8C_source.html#l00600">libMesh::ImplicitSystem::forward_qoi_parameter_sensitivity()</a>, <a class="el" href="newton__solver_8C_source.html#l00038">libMesh::NewtonSolver::line_search()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00287">libMesh::PetscDiffSolver::solve()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00173">libMesh::NonlinearImplicitSystem::solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>, <a class="el" href="newmark__system_8C_source.html#l00180">libMesh::NewmarkSystem::update_rhs()</a>, <a class="el" href="implicit__system_8C_source.html#l00220">libMesh::ImplicitSystem::weighted_sensitivity_adjoint_solve()</a> , 以及 <a class="el" href="implicit__system_8C_source.html#l00366">libMesh::ImplicitSystem::weighted_sensitivity_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a34d429e11a79273738c658c10bfa07c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1ContinuationSystem.html#a7aa2e6f267de7c463bb3e1e706c5006e">RHS_Mode</a> libMesh::ContinuationSystem::rhs_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>RHS_Mode类型。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00267">267</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00122">solve()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>.</p>

</div>
</div>
<a class="anchor" id="aa07e1093c49fa5f0877488d3351f4c86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt; &gt; libMesh::System::solution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data structure to hold solution values. </p>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01573">1573</a> 行定义.</p>

<p>参考自 <a class="el" href="petsc__diff__solver_8C_source.html#l00135">libMesh::__libmesh_petsc_diff_solver_jacobian()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00088">libMesh::__libmesh_petsc_diff_solver_residual()</a>, <a class="el" href="exact__solution_8C_source.html#l00452">libMesh::ExactSolution::_compute_error()</a>, <a class="el" href="uniform__refinement__estimator_8C_source.html#l00119">libMesh::UniformRefinementEstimator::_estimate_error()</a>, <a class="el" href="newmark__solver_8C_source.html#l00044">libMesh::NewmarkSolver::advance_timestep()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00089">libMesh::AdaptiveTimeSolver::advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00192">libMesh::UnsteadySolver::advance_timestep()</a>, <a class="el" href="continuation__system_8C_source.html#l01375">apply_predictor()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00359">libMesh::LinearImplicitSystem::assembly()</a>, <a class="el" href="equation__systems_8C_source.html#l01151">libMesh::EquationSystems::build_parallel_elemental_solution_vector()</a>, <a class="el" href="equation__systems_8C_source.html#l00584">libMesh::EquationSystems::build_parallel_solution_vector()</a>, <a class="el" href="system_8C_source.html#l00167">libMesh::System::clear()</a>, <a class="el" href="system_8C_source.html#l00600">libMesh::System::compare()</a>, <a class="el" href="newmark__solver_8C_source.html#l00107">libMesh::NewmarkSolver::compute_initial_accel()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00094">libMesh::Problem_Interface::computeF()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00152">libMesh::Problem_Interface::computeJacobian()</a>, <a class="el" href="trilinos__nox__nonlinear__solver_8C_source.html#l00215">libMesh::Problem_Interface::computePreconditioner()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="exodusII__io_8C_source.html#l01118">libMesh::ExodusII_IO::copy_elemental_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01703">libMesh::Nemesis_IO::copy_elemental_solution()</a>, <a class="el" href="gmv__io_8C_source.html#l02147">libMesh::GMVIO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01014">libMesh::ExodusII_IO::copy_nodal_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01670">libMesh::Nemesis_IO::copy_nodal_solution()</a>, <a class="el" href="exodusII__io_8C_source.html#l01234">libMesh::ExodusII_IO::copy_scalar_solution()</a>, <a class="el" href="nemesis__io_8C_source.html#l01752">libMesh::Nemesis_IO::copy_scalar_solution()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00782">DMCreateGlobalVector_libMesh()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00616">DMlibMeshFunction()</a>, <a class="el" href="petscdmlibmeshimpl_8C_source.html#l00684">DMlibMeshJacobian()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00348">libMesh::UnsteadySolver::du()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03113">libMesh::DofMap::enforce_constraints_exactly()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03203">libMesh::DofMap::enforce_constraints_on_residual()</a>, <a class="el" href="patch__recovery__error__estimator_8C_source.html#l00154">libMesh::PatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00055">libMesh::WeightedPatchRecoveryErrorEstimator::estimate_error()</a>, <a class="el" href="jump__error__estimator_8C_source.html#l00056">libMesh::JumpErrorEstimator::estimate_error()</a>, <a class="el" href="adjoint__refinement__estimator_8C_source.html#l00091">libMesh::AdjointRefinementEstimator::estimate_error()</a>, <a class="el" href="adjoint__residual__error__estimator_8C_source.html#l00061">libMesh::AdjointResidualErrorEstimator::estimate_error()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00188">libMesh::ExactErrorEstimator::estimate_error()</a>, <a class="el" href="eigen__system_8C_source.html#l00286">libMesh::EigenSystem::get_eigenpair()</a>, <a class="el" href="condensed__eigen__system_8C_source.html#l00178">libMesh::CondensedEigenSystem::get_eigenpair()</a>, <a class="el" href="system_8C_source.html#l00215">libMesh::System::init_data()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00256">libMesh::libmesh_petsc_snes_fd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00447">libMesh::libmesh_petsc_snes_jacobian()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00309">libMesh::libmesh_petsc_snes_mffd_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00173">libMesh::libmesh_petsc_snes_residual()</a>, <a class="el" href="petsc__nonlinear__solver_8C_source.html#l00054">libMesh::libmesh_petsc_snes_residual_helper()</a>, <a class="el" href="dof__map__constraints_8C_source.html#l03381">libMesh::DofMap::max_constraint_error()</a>, <a class="el" href="fem__system_8C_source.html#l01423">libMesh::FEMSystem::mesh_position_get()</a>, <a class="el" href="error__vector_8C_source.html#l00210">libMesh::ErrorVector::plot_error()</a>, <a class="el" href="inter__mesh__projection_8C_source.html#l00043">libMesh::InterMeshProjection::project_system_vectors()</a>, <a class="el" href="implicit__system_8C_source.html#l00895">libMesh::ImplicitSystem::qoi_parameter_hessian()</a>, <a class="el" href="implicit__system_8C_source.html#l00690">libMesh::ImplicitSystem::qoi_parameter_hessian_vector_product()</a>, <a class="el" href="system_8C_source.html#l00515">libMesh::System::re_update()</a>, <a class="el" href="system__io_8C_source.html#l00302">libMesh::System::read_legacy_data()</a>, <a class="el" href="system__io_8C_source.html#l00449">libMesh::System::read_parallel_data()</a>, <a class="el" href="system__io_8C_source.html#l00680">libMesh::System::read_serialized_data()</a>, <a class="el" href="system_8C_source.html#l00445">libMesh::System::reinit()</a>, <a class="el" href="system_8C_source.html#l00377">libMesh::System::restrict_vectors()</a>, <a class="el" href="memory__history__data_8C_source.html#l00101">libMesh::MemoryHistoryData::retrieve_vectors()</a>, <a class="el" href="continuation__system_8C_source.html#l01364">save_current_solution()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00054">libMesh::TwostepTimeSolver::solve()</a>, <a class="el" href="newton__solver_8C_source.html#l00280">libMesh::NewtonSolver::solve()</a>, <a class="el" href="petsc__diff__solver_8C_source.html#l00287">libMesh::PetscDiffSolver::solve()</a>, <a class="el" href="frequency__system_8C_source.html#l00322">libMesh::FrequencySystem::solve()</a>, <a class="el" href="linear__implicit__system_8C_source.html#l00105">libMesh::LinearImplicitSystem::solve()</a>, <a class="el" href="nonlinear__implicit__system_8C_source.html#l00173">libMesh::NonlinearImplicitSystem::solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>, <a class="el" href="memory__history__data_8C_source.html#l00076">libMesh::MemoryHistoryData::store_vectors()</a>, <a class="el" href="system_8C_source.html#l00492">libMesh::System::update()</a>, <a class="el" href="system_8C_source.html#l00727">libMesh::System::update_global_solution()</a>, <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>, <a class="el" href="newmark__system_8C_source.html#l00215">libMesh::NewmarkSystem::update_u_v_a()</a>, <a class="el" href="system__io_8C_source.html#l01468">libMesh::System::write_parallel_data()</a> , 以及 <a class="el" href="system__io_8C_source.html#l01668">libMesh::System::write_serialized_data()</a>.</p>

</div>
</div>
<a class="anchor" id="ad18b9bf0a892d99962bfab8b83e5e981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double libMesh::ContinuationSystem::solution_tolerance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>牛顿迭代尝试收敛||delta_u||的程度。默认为1.e-6。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00134">134</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>.</p>

</div>
</div>
<a class="anchor" id="a570c39c32a5de85421fcbd7ef8684ad5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::Theta</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>弧长归一化参数。默认为1.0（无归一化）。用于确保弧长约束方程中的一个项不会淘汰所有其他项。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00164">164</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01065">set_Theta()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="aecef946a682013aafd03a1d853a182d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::ContinuationSystem::Theta_LOCA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>另一个归一化参数，由LOCA手册描述。这个参数旨在保持相对“固定”的d(lambda)/ds值。最初为1.0，在每次求解后更新。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00169">169</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l01135">set_Theta_LOCA()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a90b0537fa503134bfa91865a6995742e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::System::time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For time-dependent problems, this is the time t at the beginning of the current timestep. </p>
<dl class="section note"><dt>注解</dt><dd>For <a class="el" href="classlibMesh_1_1DifferentiableSystem.html" title="该类提供了一个特定的系统类。它旨在泛化任何系统，线性或非线性，提供残差和雅可比矩阵。 ">DifferentiableSystem</a> users: do <em>not</em> access this time during an assembly! Use the <a class="el" href="classlibMesh_1_1DiffContext.html#a0fc3fa18d4c4c3ffdda4cc77402a2c75" title="对于时间依赖问题，这是当前非线性解定义的时间t。 注意 - 所有瞬态求解器都需要在中间时刻调整这个值！ ">DiffContext::time</a> value instead to get correct results. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01595">1595</a> 行定义.</p>

<p>参考自 <a class="el" href="adaptive__time__solver_8C_source.html#l00126">libMesh::AdaptiveTimeSolver::adjoint_advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00239">libMesh::UnsteadySolver::adjoint_advance_timestep()</a>, <a class="el" href="twostep__time__solver_8C_source.html#l00298">libMesh::TwostepTimeSolver::adjoint_solve()</a>, <a class="el" href="adaptive__time__solver_8C_source.html#l00089">libMesh::AdaptiveTimeSolver::advance_timestep()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00192">libMesh::UnsteadySolver::advance_timestep()</a>, <a class="el" href="generic__projector_8h_source.html#l02988">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::SubProjector::construct_projection()</a>, <a class="el" href="exact__error__estimator_8C_source.html#l00402">libMesh::ExactErrorEstimator::find_squared_element_error()</a>, <a class="el" href="euler2__solver_8C_source.html#l00322">libMesh::Euler2Solver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="euler__solver_8C_source.html#l00254">libMesh::EulerSolver::integrate_adjoint_refinement_error_estimate()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00280">libMesh::UnsteadySolver::integrate_adjoint_sensitivity()</a>, <a class="el" href="euler2__solver_8C_source.html#l00264">libMesh::Euler2Solver::integrate_qoi_timestep()</a>, <a class="el" href="euler__solver_8C_source.html#l00196">libMesh::EulerSolver::integrate_qoi_timestep()</a>, <a class="el" href="weighted__patch__recovery__error__estimator_8C_source.html#l00112">libMesh::WeightedPatchRecoveryErrorEstimator::EstimateError::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02002">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectVertices::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02326">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectEdges::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02493">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectSides::operator()()</a>, <a class="el" href="generic__projector_8h_source.html#l02682">libMesh::GenericProjector&lt; FFunctor, GFunctor, FValue, ProjectionAction &gt;::ProjectInteriors::operator()()</a>, <a class="el" href="system_8C_source.html#l00479">libMesh::System::reinit_constraints()</a>, <a class="el" href="unsteady__solver_8C_source.html#l00269">libMesh::UnsteadySolver::retrieve_timestep()</a> , 以及 <a class="el" href="twostep__time__solver_8C_source.html#l00054">libMesh::TwostepTimeSolver::solve()</a>.</p>

</div>
</div>
<a class="anchor" id="aece93931d398b846da32c5b6a86ed94f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classlibMesh_1_1TimeSolver.html">TimeSolver</a>&gt; libMesh::DifferentiableSystem::time_solver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>要使用的求解器对象的指针。 这必须在求解之前实例化！ </p>

<p>在文件 <a class="el" href="diff__system_8h_source.html">diff_system.h</a> 第 <a class="el" href="diff__system_8h_source.html#l00229">229</a> 行定义.</p>

<p>参考自 <a class="el" href="diff__system_8C_source.html#l00150">libMesh::DifferentiableSystem::adjoint_solve()</a>, <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>, <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="diff__system_8C_source.html#l00172">libMesh::DifferentiableSystem::get_linear_solve_parameters()</a>, <a class="el" href="diff__system_8C_source.html#l00163">libMesh::DifferentiableSystem::get_linear_solver()</a>, <a class="el" href="diff__system_8C_source.html#l00306">libMesh::DifferentiableSystem::get_second_order_dot_var()</a>, <a class="el" href="diff__system_8h_source.html#l00409">libMesh::DifferentiableSystem::get_time_solver()</a>, <a class="el" href="diff__system_8C_source.html#l00094">libMesh::DifferentiableSystem::init_data()</a>, <a class="el" href="diff__system_8C_source.html#l00082">libMesh::DifferentiableSystem::reinit()</a>, <a class="el" href="diff__system_8C_source.html#l00422">libMesh::DifferentiableSystem::set_constrain_in_solver()</a>, <a class="el" href="diff__system_8h_source.html#l00236">libMesh::DifferentiableSystem::set_time_solver()</a>, <a class="el" href="diff__system_8C_source.html#l00138">libMesh::DifferentiableSystem::solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a>, <a class="el" href="memory__history__data_8C_source.html#l00036">libMesh::MemoryHistoryData::store_primal_solution()</a> , 以及 <a class="el" href="file__history__data_8C_source.html#l00045">libMesh::FileHistoryData::store_primal_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fd435eb5b5e949702d92f28df85ea6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::System::use_fixed_solution</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A boolean to be set to true by systems using elem_fixed_solution, for optional use by e.g. </p>
<p>stabilized methods. False by default.</p>
<dl class="section note"><dt>注解</dt><dd>For <a class="el" href="classlibMesh_1_1FEMSystem.html" title="This class provides a specific system class. ">FEMSystem</a> users, if this variable is set to true, it must be before <a class="el" href="classlibMesh_1_1System.html#aa82956a48e464a20f18426601ad511d4" title="Initializes the data for the system. ">init_data()</a> is called. </dd></dl>

<p>在文件 <a class="el" href="system_8h_source.html">system.h</a> 第 <a class="el" href="system_8h_source.html#l01543">1543</a> 行定义.</p>

<p>参考自 <a class="el" href="euler__solver_8C_source.html#l00102">libMesh::EulerSolver::_general_residual()</a>, <a class="el" href="euler2__solver_8C_source.html#l00103">libMesh::Euler2Solver::_general_residual()</a>, <a class="el" href="steady__solver_8C_source.html#l00068">libMesh::SteadySolver::_general_residual()</a>, <a class="el" href="newmark__solver_8C_source.html#l00203">libMesh::NewmarkSolver::_general_residual()</a>, <a class="el" href="diff__system_8C_source.html#l00064">libMesh::DifferentiableSystem::clear()</a>, <a class="el" href="diff__context_8C_source.html#l00032">libMesh::DiffContext::DiffContext()</a> , 以及 <a class="el" href="fem__context_8C_source.html#l01675">libMesh::FEMContext::pre_fe_reinit()</a>.</p>

</div>
</div>
<a class="anchor" id="af3b49eeb3527a6aab2cf647fdb71d3e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelibMesh.html#aef28359fb4851abec08fc99cfbac118d">Real</a> libMesh::FEMSystem::verify_analytic_jacobians</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If verify_analytic_jacobian is equal to zero (as it is by default), no numeric jacobians will be calculated unless an overridden <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1c80f2e313fbb8b6ff7d088ff4169be2" title="Adds the time derivative contribution on elem to elem_residual. ">element_time_derivative()</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a1bdc46ab11bb6ab33dc5b17bfbd1ccf3" title="Adds the constraint contribution on elem to elem_residual. ">element_constraint()</a>, <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a46a5c2399209d750f3ea4ee10bdf13c1" title="Adds the time derivative contribution on side of elem to elem_residual. ">side_time_derivative()</a>, or <a class="el" href="classlibMesh_1_1DifferentiablePhysics.html#a74bae39adf00d96c559fe81b1158c272" title="Adds the constraint contribution on side of elem to elem_residual. ">side_constraint()</a> function cannot provide an analytic jacobian upon request. </p>
<p>If verify_analytic_jacobian is equal to the positive value tol, then any time a full analytic element jacobian can be calculated it will be tested against a numerical jacobian on the same element, and the program will abort if the relative error (in matrix l1 norms) exceeds tol. </p>

<p>在文件 <a class="el" href="fem__system_8h_source.html">fem_system.h</a> 第 <a class="el" href="fem__system_8h_source.html#l00215">215</a> 行定义.</p>

<p>参考自 <a class="el" href="fem__system_8C_source.html#l00880">libMesh::FEMSystem::assembly()</a>.</p>

</div>
</div>
<a class="anchor" id="af820547d41ab966362c384649416490b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ContinuationSystem::y</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>临时向量"y" ... </p>
<p>存储 -du/dlambda，等式\ f$ Ay=G_{} \ f$的解。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00322">322</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a>, <a class="el" href="continuation__system_8C_source.html#l00132">initialize_tangent()</a>, <a class="el" href="continuation__system_8C_source.html#l00956">solve_tangent()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="afde572b48fb8abf26c11e45df3de13c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibMesh_1_1NumericVector.html">NumericVector</a>&lt;<a class="el" href="namespacelibMesh.html#a8b17bf24a15bc292850c3a3894e2e8f9">Number</a>&gt;* libMesh::ContinuationSystem::y_old</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>临时向量"y_old" ... </p>
<p>存储 -du/dlambda 的先前值， 这是等式\ f$ Ay=G_{} \ f$的解。 </p>

<p>在文件 <a class="el" href="continuation__system_8h_source.html">continuation_system.h</a> 第 <a class="el" href="continuation__system_8h_source.html#l00328">328</a> 行定义.</p>

<p>参考自 <a class="el" href="continuation__system_8C_source.html#l00359">continuation_solve()</a>, <a class="el" href="continuation__system_8C_source.html#l00091">init_data()</a> , 以及 <a class="el" href="continuation__system_8C_source.html#l01192">update_solution()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ab9f07322fa95c790f360ff7f51db8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool libMesh::ImplicitSystem::zero_out_matrix_and_rhs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>By default, the system will zero out the matrix and the right hand side. </p>
<p>If this flag is false, it is the responsibility of the client code to take care of setting these to zero before assembly begins </p>

<p>在文件 <a class="el" href="implicit__system_8h_source.html">implicit_system.h</a> 第 <a class="el" href="implicit__system_8h_source.html#l00326">326</a> 行定义.</p>

<p>参考自 <a class="el" href="implicit__system_8C_source.html#l00067">libMesh::ImplicitSystem::assemble()</a>.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>/home/lwz/libmesh/include/systems/<a class="el" href="continuation__system_8h_source.html">continuation_system.h</a></li>
<li>/home/lwz/libmesh/src/systems/<a class="el" href="continuation__system_8C_source.html">continuation_system.C</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2023年 十二月 20日 星期三 12:09:42 , 为 libmesh解析使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
